import{c as e,r as a,j as r,I as s,P as i,B as n,C as l,D as o,a as c,b as t}from"./index-B4LxErAX.js";const d=e("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),h=(e,a={})=>{if(!e)return"Unknown";try{const r=new Date(e);return isNaN(r.getTime())?"Unknown":a.dateOnly?r.toLocaleDateString():r.toLocaleString()}catch{return"Unknown"}},u=(e,a=2)=>{try{const r=new WeakSet;return JSON.stringify(e,(e,a)=>{if("object"==typeof a&&null!==a){if(r.has(a))return"[Circular Reference]";r.add(a)}return a},a)}catch{return"[Unable to display data]"}},p={faa:"FAA Registry",adsbx:"ADS-B Exchange",tar1090:"tar1090-db",opensky:"OpenSky Network",hexdb:"HexDB",adsblol:"adsb.lol",planespotters:"Planespotters"},x=[{key:"registration",label:"Registration"},{key:"type_code",label:"Type Code"},{key:"type_name",label:"Type Name"},{key:"manufacturer",label:"Manufacturer"},{key:"model",label:"Model"},{key:"serial_number",label:"Serial #"},{key:"year_built",label:"Year Built"},{key:"operator",label:"Operator"},{key:"operator_icao",label:"Operator ICAO"},{key:"owner",label:"Owner"},{key:"country",label:"Country"},{key:"city",label:"City"},{key:"state",label:"State"}];function y({info:e,hex:y,photoInfo:j}){const[m,b]=a.useState({}),[f,N]=a.useState(!1);if(!e)return r.jsxs("div",{className:"detail-empty",role:"status",children:[r.jsx(s,{size:48,"aria-hidden":"true"}),r.jsx("p",{children:"No aircraft information available"}),r.jsx("span",{children:"Data may not be available for this aircraft"})]});const g=e.source_data||[],w=g.length>0,_={type_name:e.type_name||e.aircraft_type||e.type||e.t,type_code:e.type_code||e.icao_type||e.icaoAircraftType,manufacturer:e.manufacturer||e.manufacturerName,model:e.model||e.modelName,serial_number:e.serial_number||e.serialNumber||e.manufacturerSerial,year_built:e.year_built||e.yearBuilt||e.built,age_years:e.age_years??e.ageYears??(()=>{const a=e.year_built||e.yearBuilt||e.built,r=Number(a);return!a||isNaN(r)||r<1900||r>(new Date).getFullYear()?null:(new Date).getFullYear()-r})(),operator:e.operator||e.operatorName||e.owner_operator,operator_icao:e.operator_icao||e.operatorIcao||e.airline_icao,owner:e.owner||e.ownerName||e.registered_owner,country:e.country||e.countryName||e.registered_country,registration:e.registration||e.tail_number||e.reg||e.r,is_military:e.is_military??e.military??e.isMilitary??!1,category:e.category||e.aircraftCategory};return r.jsxs("div",{className:"detail-info-grid",id:"panel-info",role:"tabpanel","aria-labelledby":"tab-info",children:[r.jsxs("section",{className:"info-section","aria-labelledby":"airframe-heading",children:[r.jsxs("h3",{id:"airframe-heading",children:[r.jsx(i,{size:16,"aria-hidden":"true"})," Airframe"]}),r.jsxs("div",{className:"info-rows",children:[_.type_name&&r.jsxs("div",{className:"info-row",children:[r.jsx("span",{children:"Type"}),r.jsx("span",{children:_.type_name})]}),_.type_code&&r.jsxs("div",{className:"info-row",children:[r.jsx("span",{children:"ICAO Code"}),r.jsx("span",{children:_.type_code})]}),_.manufacturer&&r.jsxs("div",{className:"info-row",children:[r.jsx("span",{children:"Manufacturer"}),r.jsx("span",{children:_.manufacturer})]}),_.model&&r.jsxs("div",{className:"info-row",children:[r.jsx("span",{children:"Model"}),r.jsx("span",{children:_.model})]}),_.serial_number&&r.jsxs("div",{className:"info-row",children:[r.jsx("span",{children:"Serial #"}),r.jsx("span",{children:_.serial_number})]}),_.year_built&&r.jsxs("div",{className:"info-row",children:[r.jsx("span",{children:"Year Built"}),r.jsx("span",{children:_.year_built})]}),_.age_years&&r.jsxs("div",{className:"info-row",children:[r.jsx("span",{children:"Age"}),r.jsxs("span",{children:[_.age_years," years"]})]})]})]}),r.jsxs("section",{className:"info-section","aria-labelledby":"operator-heading",children:[r.jsxs("h3",{id:"operator-heading",children:[r.jsx(n,{size:16,"aria-hidden":"true"})," Operator"]}),r.jsxs("div",{className:"info-rows",children:[_.operator&&r.jsxs("div",{className:"info-row",children:[r.jsx("span",{children:"Operator"}),r.jsx("span",{children:_.operator})]}),_.operator_icao&&r.jsxs("div",{className:"info-row",children:[r.jsx("span",{children:"ICAO"}),r.jsx("span",{children:_.operator_icao})]}),_.owner&&r.jsxs("div",{className:"info-row",children:[r.jsx("span",{children:"Owner"}),r.jsx("span",{children:_.owner})]}),_.country&&r.jsxs("div",{className:"info-row",children:[r.jsx("span",{children:"Country"}),r.jsx("span",{children:_.country})]})]})]}),r.jsxs("section",{className:"info-section","aria-labelledby":"registration-heading",children:[r.jsxs("h3",{id:"registration-heading",children:[r.jsx(d,{size:16,"aria-hidden":"true"})," Registration"]}),r.jsxs("div",{className:"info-rows",children:[_.registration&&r.jsxs("div",{className:"info-row",children:[r.jsx("span",{children:"Registration"}),r.jsx("span",{children:_.registration})]}),r.jsxs("div",{className:"info-row",children:[r.jsx("span",{children:"ICAO Hex"}),r.jsx("span",{children:(null==y?void 0:y.toUpperCase())||"N/A"})]}),_.is_military&&r.jsxs("div",{className:"info-row",children:[r.jsx("span",{children:"Type"}),r.jsx("span",{className:"badge-military",children:"Military"})]}),_.category&&r.jsxs("div",{className:"info-row",children:[r.jsx("span",{children:"Category"}),r.jsx("span",{children:_.category})]})]})]}),j&&r.jsxs("section",{className:"info-section","aria-labelledby":"photo-heading",children:[r.jsxs("h3",{id:"photo-heading",children:[r.jsx(l,{size:16,"aria-hidden":"true"})," Photo"]}),r.jsxs("div",{className:"info-rows",children:[j.photographer&&r.jsxs("div",{className:"info-row",children:[r.jsx("span",{children:"Photographer"}),r.jsx("span",{children:j.photographer})]}),j.source&&r.jsxs("div",{className:"info-row",children:[r.jsx("span",{children:"Source"}),r.jsx("span",{children:j.source})]})]})]}),w&&r.jsxs("section",{className:"info-section info-section-sources","aria-labelledby":"sources-heading",children:[r.jsxs("h3",{id:"sources-heading",className:"sources-header clickable",onClick:()=>N(!f),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),N(!f))},tabIndex:0,role:"button","aria-expanded":f,children:[r.jsx(o,{size:16,"aria-hidden":"true"}),"Data Sources (",g.length,")",f?r.jsx(c,{size:16}):r.jsx(t,{size:16})]}),f&&r.jsxs("div",{className:"source-comparison",children:[r.jsx("div",{className:"source-badges",children:g.map((e,a)=>r.jsx("span",{className:`source-badge source-badge-${e.source}`,title:`Last updated: ${h(e.updated_at)}`,children:p[e.source]||e.source},e.source||`source-${a}`))}),r.jsx("div",{className:"source-table-wrapper",children:r.jsxs("table",{className:"source-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Field"}),g.map((e,a)=>r.jsx("th",{children:p[e.source]||e.source},e.source||`source-header-${a}`))]})}),r.jsx("tbody",{children:x.map(e=>{const a=g.map(a=>{var r;return a[e.key]||(null==(r=a.raw_data)?void 0:r[e.key])}),s=a.some(e=>null!=e&&""!==e),i=a.every(e=>e===a[0]);return s?r.jsxs("tr",{className:i?"":"source-row-diff",children:[r.jsx("td",{className:"source-field-label",children:e.label}),g.map((a,s)=>{var i;const n=a[e.key]||(null==(i=a.raw_data)?void 0:i[e.key]);return r.jsx("td",{className:n?"":"source-empty",children:n??"â€”"},a.source||`source-cell-${s}`)})]},e.key):null})})]})}),r.jsx("div",{className:"source-details",children:g.map((e,a)=>r.jsxs("div",{className:"source-detail-card",children:[r.jsxs("button",{className:"source-detail-header",onClick:()=>{return a=e.source,void b(e=>({...e,[a]:!e[a]}));var a},"aria-expanded":m[e.source],"aria-label":`Toggle ${p[e.source]||e.source} details`,children:[m[e.source]?r.jsx(c,{size:14}):r.jsx(t,{size:14}),r.jsx("span",{className:`source-badge source-badge-${e.source}`,children:p[e.source]||e.source}),r.jsx("span",{className:"source-detail-meta",children:e.updated_at&&`Updated ${h(e.updated_at,{dateOnly:!0})}`})]}),m[e.source]&&r.jsx("div",{className:"source-detail-content",children:r.jsx("pre",{className:"source-raw-data",children:u(e.raw_data||e)})})]},e.source||`source-detail-${a}`))})]})]})]})}export{y as InfoTab};
