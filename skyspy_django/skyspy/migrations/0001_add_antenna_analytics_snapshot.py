# Generated by Django 5.2.10 on 2026-01-27 04:51

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='NotificationConfig',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('apprise_urls', models.TextField(blank=True, default='')),
                ('cooldown_seconds', models.IntegerField(default=300)),
                ('enabled', models.BooleanField(default=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'notification_config',
            },
        ),
        migrations.CreateModel(
            name='NotificationLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('timestamp', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('notification_type', models.CharField(blank=True, choices=[('alert', 'Alert'), ('safety', 'Safety Event'), ('military', 'Military Aircraft'), ('emergency', 'Emergency'), ('proximity', 'Proximity Alert'), ('tcas', 'TCAS Event'), ('test', 'Test')], db_index=True, max_length=50, null=True)),
                ('icao_hex', models.CharField(blank=True, max_length=10, null=True)),
                ('callsign', models.CharField(blank=True, max_length=10, null=True)),
                ('message', models.TextField(blank=True, null=True)),
                ('details', models.JSONField(blank=True, null=True)),
            ],
            options={
                'db_table': 'notification_logs',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='AcarsMessage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('timestamp', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('source', models.CharField(choices=[('acars', 'ACARS'), ('vdlm2', 'VDL Mode 2')], default='acars', max_length=10)),
                ('channel', models.CharField(blank=True, max_length=10, null=True)),
                ('frequency', models.FloatField(blank=True, null=True)),
                ('icao_hex', models.CharField(blank=True, db_index=True, max_length=10, null=True)),
                ('registration', models.CharField(blank=True, db_index=True, max_length=20, null=True)),
                ('callsign', models.CharField(blank=True, db_index=True, max_length=10, null=True)),
                ('label', models.CharField(blank=True, db_index=True, max_length=10, null=True)),
                ('block_id', models.CharField(blank=True, max_length=5, null=True)),
                ('msg_num', models.CharField(blank=True, max_length=10, null=True)),
                ('ack', models.CharField(blank=True, max_length=5, null=True)),
                ('mode', models.CharField(blank=True, max_length=5, null=True)),
                ('text', models.TextField(blank=True, null=True)),
                ('decoded', models.JSONField(blank=True, null=True)),
                ('signal_level', models.FloatField(blank=True, null=True)),
                ('error_count', models.IntegerField(blank=True, null=True)),
                ('station_id', models.CharField(blank=True, max_length=50, null=True)),
            ],
            options={
                'db_table': 'acars_messages',
                'ordering': ['-timestamp'],
                'indexes': [models.Index(fields=['icao_hex', 'timestamp'], name='idx_acars_icao_time'), models.Index(fields=['label', 'timestamp'], name='idx_acars_label')],
            },
        ),
        migrations.CreateModel(
            name='AircraftInfo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('icao_hex', models.CharField(db_index=True, max_length=10, unique=True)),
                ('registration', models.CharField(blank=True, db_index=True, max_length=20, null=True)),
                ('source', models.CharField(blank=True, max_length=50, null=True)),
                ('type_code', models.CharField(blank=True, max_length=10, null=True)),
                ('type_name', models.CharField(blank=True, max_length=100, null=True)),
                ('manufacturer', models.CharField(blank=True, max_length=100, null=True)),
                ('model', models.CharField(blank=True, max_length=100, null=True)),
                ('serial_number', models.CharField(blank=True, max_length=50, null=True)),
                ('year_built', models.IntegerField(blank=True, null=True)),
                ('first_flight_date', models.CharField(blank=True, max_length=20, null=True)),
                ('delivery_date', models.CharField(blank=True, max_length=20, null=True)),
                ('airframe_hours', models.IntegerField(blank=True, null=True)),
                ('operator', models.CharField(blank=True, max_length=100, null=True)),
                ('operator_icao', models.CharField(blank=True, max_length=4, null=True)),
                ('operator_callsign', models.CharField(blank=True, max_length=20, null=True)),
                ('owner', models.CharField(blank=True, max_length=200, null=True)),
                ('city', models.CharField(blank=True, db_index=True, max_length=100, null=True)),
                ('state', models.CharField(blank=True, db_index=True, max_length=10, null=True)),
                ('is_interesting', models.BooleanField(default=False)),
                ('is_pia', models.BooleanField(default=False)),
                ('is_ladd', models.BooleanField(default=False)),
                ('country', models.CharField(blank=True, max_length=100, null=True)),
                ('country_code', models.CharField(blank=True, max_length=3, null=True)),
                ('category', models.CharField(blank=True, max_length=20, null=True)),
                ('is_military', models.BooleanField(default=False)),
                ('photo_url', models.CharField(blank=True, max_length=500, null=True)),
                ('photo_thumbnail_url', models.CharField(blank=True, max_length=500, null=True)),
                ('photo_photographer', models.CharField(blank=True, max_length=100, null=True)),
                ('photo_source', models.CharField(blank=True, max_length=50, null=True)),
                ('photo_page_link', models.CharField(blank=True, max_length=500, null=True)),
                ('photo_local_path', models.CharField(blank=True, max_length=500, null=True)),
                ('photo_thumbnail_local_path', models.CharField(blank=True, max_length=500, null=True)),
                ('extra_data', models.JSONField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('fetch_failed', models.BooleanField(default=False)),
            ],
            options={
                'db_table': 'aircraft_info',
                'indexes': [models.Index(fields=['registration'], name='idx_aircraft_info_reg'), models.Index(fields=['operator_icao'], name='idx_aircraft_info_operator')],
            },
        ),
        migrations.CreateModel(
            name='AircraftSession',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('icao_hex', models.CharField(db_index=True, max_length=10)),
                ('callsign', models.CharField(blank=True, db_index=True, max_length=10, null=True)),
                ('first_seen', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('last_seen', models.DateTimeField(auto_now=True, db_index=True)),
                ('total_positions', models.IntegerField(default=0)),
                ('min_altitude', models.IntegerField(blank=True, null=True)),
                ('max_altitude', models.IntegerField(blank=True, null=True)),
                ('min_distance_nm', models.FloatField(blank=True, null=True)),
                ('max_distance_nm', models.FloatField(blank=True, null=True)),
                ('max_vertical_rate', models.IntegerField(blank=True, null=True)),
                ('min_rssi', models.FloatField(blank=True, null=True)),
                ('max_rssi', models.FloatField(blank=True, null=True)),
                ('is_military', models.BooleanField(default=False)),
                ('category', models.CharField(blank=True, max_length=4, null=True)),
                ('aircraft_type', models.CharField(blank=True, max_length=10, null=True)),
            ],
            options={
                'db_table': 'aircraft_sessions',
                'ordering': ['-last_seen'],
                'indexes': [models.Index(fields=['last_seen', 'icao_hex'], name='idx_sessions_last_seen_icao')],
            },
        ),
        migrations.CreateModel(
            name='AircraftSighting',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('timestamp', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('icao_hex', models.CharField(db_index=True, max_length=10)),
                ('callsign', models.CharField(blank=True, db_index=True, max_length=10, null=True)),
                ('squawk', models.CharField(blank=True, max_length=4, null=True)),
                ('latitude', models.FloatField(blank=True, null=True)),
                ('longitude', models.FloatField(blank=True, null=True)),
                ('altitude_baro', models.IntegerField(blank=True, null=True)),
                ('altitude_geom', models.IntegerField(blank=True, null=True)),
                ('ground_speed', models.FloatField(blank=True, null=True)),
                ('track', models.FloatField(blank=True, null=True)),
                ('vertical_rate', models.IntegerField(blank=True, null=True)),
                ('distance_nm', models.FloatField(blank=True, null=True)),
                ('rssi', models.FloatField(blank=True, null=True)),
                ('category', models.CharField(blank=True, max_length=4, null=True)),
                ('aircraft_type', models.CharField(blank=True, max_length=10, null=True)),
                ('is_military', models.BooleanField(default=False)),
                ('is_emergency', models.BooleanField(default=False)),
                ('source', models.CharField(default='1090', max_length=10)),
            ],
            options={
                'db_table': 'aircraft_sightings',
                'ordering': ['-timestamp'],
                'indexes': [models.Index(fields=['icao_hex', 'timestamp'], name='idx_sightings_icao_time')],
            },
        ),
        migrations.CreateModel(
            name='AirspaceAdvisory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fetched_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('advisory_id', models.CharField(db_index=True, max_length=50)),
                ('advisory_type', models.CharField(choices=[('GAIRMET', 'G-AIRMET'), ('SIGMET', 'SIGMET'), ('CONVECTIVE_SIGMET', 'Convective SIGMET'), ('CWA', 'Center Weather Advisory'), ('AIRMET', 'AIRMET')], db_index=True, max_length=20)),
                ('hazard', models.CharField(blank=True, choices=[('IFR', 'IFR Conditions'), ('TURB', 'Turbulence'), ('TURB-LO', 'Low-Level Turbulence'), ('TURB-HI', 'High-Level Turbulence'), ('ICE', 'Icing'), ('MT_OBSC', 'Mountain Obscuration'), ('SFC_WND', 'Surface Wind'), ('LLWS', 'Low-Level Wind Shear'), ('TS', 'Thunderstorm'), ('VOLCANIC_ASH', 'Volcanic Ash'), ('TROPICAL_CYCLONE', 'Tropical Cyclone')], db_index=True, max_length=20, null=True)),
                ('severity', models.CharField(blank=True, max_length=20, null=True)),
                ('valid_from', models.DateTimeField(blank=True, db_index=True, null=True)),
                ('valid_to', models.DateTimeField(blank=True, db_index=True, null=True)),
                ('lower_alt_ft', models.IntegerField(blank=True, null=True)),
                ('upper_alt_ft', models.IntegerField(blank=True, null=True)),
                ('region', models.CharField(blank=True, max_length=20, null=True)),
                ('polygon', models.JSONField(blank=True, null=True)),
                ('raw_text', models.TextField(blank=True, null=True)),
                ('source_data', models.JSONField(blank=True, null=True)),
            ],
            options={
                'db_table': 'airspace_advisories',
                'ordering': ['-fetched_at'],
                'indexes': [models.Index(fields=['valid_from', 'valid_to'], name='idx_airspace_advisory_valid'), models.Index(fields=['advisory_type', 'hazard'], name='idx_airspace_advisory_type')],
            },
        ),
        migrations.CreateModel(
            name='AirspaceBoundary',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fetched_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('name', models.CharField(max_length=100)),
                ('icao', models.CharField(blank=True, db_index=True, max_length=4, null=True)),
                ('airspace_class', models.CharField(choices=[('B', 'Class B'), ('C', 'Class C'), ('D', 'Class D'), ('E', 'Class E'), ('MOA', 'Military Operations Area'), ('RESTRICTED', 'Restricted'), ('PROHIBITED', 'Prohibited'), ('WARNING', 'Warning'), ('ALERT', 'Alert'), ('TFR', 'Temporary Flight Restriction')], db_index=True, max_length=20)),
                ('floor_ft', models.IntegerField(default=0)),
                ('ceiling_ft', models.IntegerField(default=0)),
                ('center_lat', models.FloatField(db_index=True)),
                ('center_lon', models.FloatField(db_index=True)),
                ('radius_nm', models.FloatField(blank=True, null=True)),
                ('polygon', models.JSONField(blank=True, null=True)),
                ('controlling_agency', models.CharField(blank=True, max_length=100, null=True)),
                ('schedule', models.CharField(blank=True, max_length=200, null=True)),
                ('source', models.CharField(choices=[('faa', 'FAA'), ('openaip', 'OpenAIP'), ('embedded', 'Embedded')], default='faa', max_length=50)),
                ('source_id', models.CharField(blank=True, max_length=100, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'airspace_boundaries',
                'indexes': [models.Index(fields=['airspace_class'], name='idx_airspace_boundary_class'), models.Index(fields=['center_lat', 'center_lon'], name='idx_airspace_boundary_loc')],
            },
        ),
        migrations.CreateModel(
            name='AlertRule',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100)),
                ('rule_type', models.CharField(blank=True, max_length=30, null=True)),
                ('operator', models.CharField(choices=[('eq', 'Equals'), ('neq', 'Not Equals'), ('lt', 'Less Than'), ('le', 'Less Than or Equal'), ('gt', 'Greater Than'), ('ge', 'Greater Than or Equal'), ('contains', 'Contains'), ('startswith', 'Starts With'), ('endswith', 'Ends With'), ('regex', 'Regex Match')], default='eq', max_length=10)),
                ('value', models.CharField(blank=True, max_length=100, null=True)),
                ('conditions', models.JSONField(blank=True, null=True)),
                ('description', models.CharField(blank=True, max_length=200, null=True)),
                ('enabled', models.BooleanField(default=True)),
                ('priority', models.CharField(choices=[('info', 'Info'), ('warning', 'Warning'), ('critical', 'Critical')], default='info', max_length=20)),
                ('starts_at', models.DateTimeField(blank=True, null=True)),
                ('expires_at', models.DateTimeField(blank=True, null=True)),
                ('api_url', models.CharField(blank=True, max_length=500, null=True)),
                ('cooldown_minutes', models.IntegerField(default=5)),
                ('last_triggered', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'alert_rules',
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['rule_type', 'enabled'], name='idx_alert_rules_type')],
            },
        ),
        migrations.CreateModel(
            name='AlertHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('rule_name', models.CharField(blank=True, max_length=100, null=True)),
                ('icao_hex', models.CharField(blank=True, db_index=True, max_length=10, null=True)),
                ('callsign', models.CharField(blank=True, max_length=10, null=True)),
                ('message', models.TextField(blank=True, null=True)),
                ('priority', models.CharField(blank=True, max_length=20, null=True)),
                ('aircraft_data', models.JSONField(blank=True, null=True)),
                ('triggered_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('rule', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='history', to='skyspy.alertrule')),
            ],
            options={
                'db_table': 'alert_history',
                'ordering': ['-triggered_at'],
            },
        ),
        migrations.CreateModel(
            name='AntennaAnalyticsSnapshot',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('timestamp', models.DateTimeField(db_index=True)),
                ('snapshot_type', models.CharField(choices=[('scheduled', 'Scheduled (5 min)'), ('hourly', 'Hourly Aggregate'), ('daily', 'Daily Aggregate')], db_index=True, default='scheduled', max_length=20)),
                ('window_hours', models.FloatField(default=1.0)),
                ('max_range_nm', models.FloatField(blank=True, null=True)),
                ('avg_range_nm', models.FloatField(blank=True, null=True)),
                ('min_range_nm', models.FloatField(blank=True, null=True)),
                ('range_p50_nm', models.FloatField(blank=True, null=True)),
                ('range_p75_nm', models.FloatField(blank=True, null=True)),
                ('range_p90_nm', models.FloatField(blank=True, null=True)),
                ('range_p95_nm', models.FloatField(blank=True, null=True)),
                ('best_rssi', models.FloatField(blank=True, null=True)),
                ('avg_rssi', models.FloatField(blank=True, null=True)),
                ('worst_rssi', models.FloatField(blank=True, null=True)),
                ('total_positions', models.IntegerField(default=0)),
                ('unique_aircraft', models.IntegerField(default=0)),
                ('positions_per_hour', models.FloatField(default=0)),
                ('range_by_direction', models.JSONField(blank=True, default=dict)),
                ('sectors_with_data', models.IntegerField(default=0)),
                ('coverage_percentage', models.FloatField(default=0)),
                ('estimated_gain_db', models.FloatField(blank=True, null=True)),
                ('performance_score', models.FloatField(blank=True, null=True)),
            ],
            options={
                'db_table': 'antenna_analytics_snapshots',
                'ordering': ['-timestamp'],
                'indexes': [models.Index(fields=['timestamp', 'snapshot_type'], name='idx_antenna_snap_time_type')],
            },
        ),
        migrations.CreateModel(
            name='AudioTransmission',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('filename', models.CharField(max_length=255)),
                ('s3_key', models.CharField(blank=True, max_length=500, null=True)),
                ('s3_url', models.CharField(blank=True, max_length=500, null=True)),
                ('file_size_bytes', models.IntegerField(blank=True, null=True)),
                ('duration_seconds', models.FloatField(blank=True, null=True)),
                ('format', models.CharField(choices=[('mp3', 'MP3'), ('wav', 'WAV'), ('ogg', 'OGG'), ('flac', 'FLAC')], default='mp3', max_length=10)),
                ('frequency_mhz', models.FloatField(blank=True, db_index=True, null=True)),
                ('channel_name', models.CharField(blank=True, max_length=100, null=True)),
                ('squelch_level', models.FloatField(blank=True, null=True)),
                ('transcription_status', models.CharField(choices=[('pending', 'Pending'), ('queued', 'Queued'), ('processing', 'Processing'), ('completed', 'Completed'), ('failed', 'Failed')], db_index=True, default='pending', max_length=20)),
                ('transcription_queued_at', models.DateTimeField(blank=True, null=True)),
                ('transcription_started_at', models.DateTimeField(blank=True, null=True)),
                ('transcription_completed_at', models.DateTimeField(blank=True, null=True)),
                ('transcription_error', models.TextField(blank=True, null=True)),
                ('transcript', models.TextField(blank=True, null=True)),
                ('transcript_confidence', models.FloatField(blank=True, null=True)),
                ('transcript_language', models.CharField(blank=True, max_length=10, null=True)),
                ('transcript_segments', models.JSONField(blank=True, null=True)),
                ('identified_airframes', models.JSONField(blank=True, null=True)),
                ('extra_metadata', models.JSONField(blank=True, null=True)),
            ],
            options={
                'db_table': 'audio_transmissions',
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['transcription_status', 'created_at'], name='idx_audio_transmission_status'), models.Index(fields=['frequency_mhz'], name='idx_audio_transmission_freq')],
            },
        ),
        migrations.CreateModel(
            name='CachedAirport',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fetched_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('icao_id', models.CharField(db_index=True, max_length=4, unique=True)),
                ('name', models.CharField(blank=True, max_length=200, null=True)),
                ('latitude', models.FloatField(db_index=True)),
                ('longitude', models.FloatField(db_index=True)),
                ('elevation_ft', models.IntegerField(blank=True, null=True)),
                ('airport_type', models.CharField(blank=True, choices=[('large_airport', 'Large Airport'), ('medium_airport', 'Medium Airport'), ('small_airport', 'Small Airport'), ('closed', 'Closed'), ('heliport', 'Heliport'), ('seaplane_base', 'Seaplane Base'), ('balloonport', 'Balloonport')], max_length=50, null=True)),
                ('country', models.CharField(blank=True, max_length=100, null=True)),
                ('region', models.CharField(blank=True, max_length=100, null=True)),
                ('source_data', models.JSONField(blank=True, null=True)),
            ],
            options={
                'db_table': 'cached_airports',
                'indexes': [models.Index(fields=['latitude', 'longitude'], name='idx_cached_airport_location')],
            },
        ),
        migrations.CreateModel(
            name='CachedGeoJSON',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fetched_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('data_type', models.CharField(choices=[('states', 'US States'), ('countries', 'Countries'), ('water', 'Water Bodies'), ('roads', 'Roads'), ('terrain', 'Terrain')], db_index=True, max_length=50)),
                ('name', models.CharField(db_index=True, max_length=100)),
                ('code', models.CharField(blank=True, db_index=True, max_length=10, null=True)),
                ('bbox_min_lat', models.FloatField(blank=True, null=True)),
                ('bbox_max_lat', models.FloatField(blank=True, null=True)),
                ('bbox_min_lon', models.FloatField(blank=True, null=True)),
                ('bbox_max_lon', models.FloatField(blank=True, null=True)),
                ('geometry', models.JSONField()),
                ('properties', models.JSONField(blank=True, null=True)),
            ],
            options={
                'db_table': 'cached_geojson',
                'indexes': [models.Index(fields=['data_type', 'name'], name='idx_cached_geojson_type_name'), models.Index(fields=['bbox_min_lat', 'bbox_max_lat', 'bbox_min_lon', 'bbox_max_lon'], name='idx_cached_geojson_bbox')],
            },
        ),
        migrations.CreateModel(
            name='CachedNavaid',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fetched_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('ident', models.CharField(db_index=True, max_length=10)),
                ('name', models.CharField(blank=True, max_length=100, null=True)),
                ('navaid_type', models.CharField(blank=True, choices=[('VOR', 'VOR'), ('VORTAC', 'VORTAC'), ('VOR-DME', 'VOR-DME'), ('TACAN', 'TACAN'), ('NDB', 'NDB'), ('NDB-DME', 'NDB-DME'), ('DME', 'DME'), ('ILS', 'ILS'), ('LOC', 'Localizer'), ('GS', 'Glideslope'), ('OM', 'Outer Marker'), ('MM', 'Middle Marker'), ('IM', 'Inner Marker')], db_index=True, max_length=20, null=True)),
                ('latitude', models.FloatField(db_index=True)),
                ('longitude', models.FloatField(db_index=True)),
                ('frequency', models.FloatField(blank=True, null=True)),
                ('channel', models.CharField(blank=True, max_length=10, null=True)),
                ('source_data', models.JSONField(blank=True, null=True)),
            ],
            options={
                'db_table': 'cached_navaids',
                'indexes': [models.Index(fields=['latitude', 'longitude'], name='idx_cached_navaid_location'), models.Index(fields=['ident', 'navaid_type'], name='idx_cached_navaid_ident_type')],
            },
        ),
        migrations.CreateModel(
            name='CachedPirep',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fetched_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('pirep_id', models.CharField(db_index=True, max_length=100, unique=True)),
                ('report_type', models.CharField(choices=[('UA', 'Routine'), ('UUA', 'Urgent')], db_index=True, default='UA', max_length=10)),
                ('latitude', models.FloatField(blank=True, db_index=True, null=True)),
                ('longitude', models.FloatField(blank=True, db_index=True, null=True)),
                ('location', models.CharField(blank=True, max_length=50, null=True)),
                ('observation_time', models.DateTimeField(blank=True, db_index=True, null=True)),
                ('flight_level', models.IntegerField(blank=True, null=True)),
                ('altitude_ft', models.IntegerField(blank=True, null=True)),
                ('aircraft_type', models.CharField(blank=True, max_length=10, null=True)),
                ('turbulence_type', models.CharField(blank=True, choices=[('NEG', 'Negative'), ('LGT', 'Light'), ('LGT-MOD', 'Light to Moderate'), ('MOD', 'Moderate'), ('MOD-SEV', 'Moderate to Severe'), ('SEV', 'Severe'), ('EXTRM', 'Extreme')], db_index=True, max_length=20, null=True)),
                ('turbulence_freq', models.CharField(blank=True, max_length=20, null=True)),
                ('turbulence_base_ft', models.IntegerField(blank=True, null=True)),
                ('turbulence_top_ft', models.IntegerField(blank=True, null=True)),
                ('icing_type', models.CharField(blank=True, choices=[('NEG', 'Negative'), ('TRC', 'Trace'), ('TRC-LGT', 'Trace to Light'), ('LGT', 'Light'), ('LGT-MOD', 'Light to Moderate'), ('MOD', 'Moderate'), ('MOD-SEV', 'Moderate to Severe'), ('SEV', 'Severe')], db_index=True, max_length=20, null=True)),
                ('icing_intensity', models.CharField(blank=True, max_length=20, null=True)),
                ('icing_base_ft', models.IntegerField(blank=True, null=True)),
                ('icing_top_ft', models.IntegerField(blank=True, null=True)),
                ('sky_cover', models.CharField(blank=True, max_length=100, null=True)),
                ('visibility_sm', models.FloatField(blank=True, null=True)),
                ('weather', models.CharField(blank=True, max_length=100, null=True)),
                ('temperature_c', models.IntegerField(blank=True, null=True)),
                ('wind_dir', models.IntegerField(blank=True, null=True)),
                ('wind_speed_kt', models.IntegerField(blank=True, null=True)),
                ('raw_text', models.TextField(blank=True, null=True)),
                ('source_data', models.JSONField(blank=True, null=True)),
            ],
            options={
                'db_table': 'cached_pireps',
                'ordering': ['-observation_time'],
                'indexes': [models.Index(fields=['latitude', 'longitude'], name='idx_cached_pirep_location'), models.Index(fields=['observation_time'], name='idx_cached_pirep_time'), models.Index(fields=['turbulence_type', 'icing_type'], name='idx_cached_pirep_conditions')],
            },
        ),
        migrations.CreateModel(
            name='SafetyEvent',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('timestamp', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('event_type', models.CharField(choices=[('tcas_ra', 'TCAS Resolution Advisory'), ('tcas_ta', 'TCAS Traffic Advisory'), ('extreme_vs', 'Extreme Vertical Speed'), ('vs_reversal', 'Vertical Speed Reversal'), ('proximity_conflict', 'Proximity Conflict'), ('emergency_squawk', 'Emergency Squawk'), ('7500', 'Squawk 7500 (Hijack)'), ('7600', 'Squawk 7600 (Radio Failure)'), ('7700', 'Squawk 7700 (Emergency)')], db_index=True, max_length=50)),
                ('severity', models.CharField(choices=[('info', 'Info'), ('warning', 'Warning'), ('critical', 'Critical')], default='warning', max_length=20)),
                ('icao_hex', models.CharField(db_index=True, max_length=10)),
                ('icao_hex_2', models.CharField(blank=True, db_index=True, max_length=10, null=True)),
                ('callsign', models.CharField(blank=True, max_length=10, null=True)),
                ('callsign_2', models.CharField(blank=True, max_length=10, null=True)),
                ('message', models.TextField(blank=True, null=True)),
                ('details', models.JSONField(blank=True, null=True)),
                ('aircraft_snapshot', models.JSONField(blank=True, null=True)),
                ('aircraft_snapshot_2', models.JSONField(blank=True, null=True)),
                ('acknowledged', models.BooleanField(default=False)),
                ('acknowledged_at', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'db_table': 'safety_events',
                'ordering': ['-timestamp'],
                'indexes': [models.Index(fields=['event_type', 'timestamp'], name='idx_safety_events_type_time')],
            },
        ),
    ]
