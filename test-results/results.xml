<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="459" skipped="2" tests="1430" time="219.686" timestamp="2026-01-28T22:46:56.462193+00:00" hostname="c1964c60f1e9"><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementList" name="test_superadmin_can_list_all_users" time="0.983" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementList" name="test_admin_can_list_users" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementList" name="test_operator_cannot_list_users" time="0.017"><failure message="assert 200 == 403&#10; +  where 200 = &lt;Response status_code=200, &quot;application/json&quot;&gt;.status_code&#10; +  and   403 = status.HTTP_403_FORBIDDEN">skyspy/tests/e2e/test_e2e_admin.py:73: in test_operator_cannot_list_users
    assert response.status_code == status.HTTP_403_FORBIDDEN
E   assert 200 == 403
E    +  where 200 = &lt;Response status_code=200, "application/json"&gt;.status_code
E    +  and   403 = status.HTTP_403_FORBIDDEN</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementList" name="test_viewer_cannot_list_users" time="0.017"><failure message="assert 200 == 403&#10; +  where 200 = &lt;Response status_code=200, &quot;application/json&quot;&gt;.status_code&#10; +  and   403 = status.HTTP_403_FORBIDDEN">skyspy/tests/e2e/test_e2e_admin.py:79: in test_viewer_cannot_list_users
    assert response.status_code == status.HTTP_403_FORBIDDEN
E   assert 200 == 403
E    +  where 200 = &lt;Response status_code=200, "application/json"&gt;.status_code
E    +  and   403 = status.HTTP_403_FORBIDDEN</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementList" name="test_unauthenticated_cannot_list_users" time="0.008" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementList" name="test_list_users_includes_roles_and_permissions" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementList" name="test_list_users_pagination" time="0.069" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementCreate" name="test_superadmin_can_create_user" time="0.100" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementCreate" name="test_create_user_with_multiple_roles" time="0.027" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementCreate" name="test_create_user_without_password_generates_random" time="0.025" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementCreate" name="test_create_user_duplicate_username_fails" time="0.018" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementCreate" name="test_create_user_duplicate_email_fails" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementCreate" name="test_admin_cannot_create_superadmin_user" time="0.024"><failure message="AssertionError: assert 'superadmin' not in ['superadmin']">skyspy/tests/e2e/test_e2e_admin.py:220: in test_admin_cannot_create_superadmin_user
    assert 'superadmin' not in role_names
E   AssertionError: assert 'superadmin' not in ['superadmin']</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementGetDetail" name="test_superadmin_can_get_user_details" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementGetDetail" name="test_get_user_includes_profile_info" time="0.024" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementGetDetail" name="test_get_nonexistent_user_returns_404" time="0.012" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementGetDetail" name="test_operator_cannot_get_user_details" time="0.021"><failure message="assert 200 == 403&#10; +  where 200 = &lt;Response status_code=200, &quot;application/json&quot;&gt;.status_code&#10; +  and   403 = status.HTTP_403_FORBIDDEN">skyspy/tests/e2e/test_e2e_admin.py:267: in test_operator_cannot_get_user_details
    assert response.status_code == status.HTTP_403_FORBIDDEN
E   assert 200 == 403
E    +  where 200 = &lt;Response status_code=200, "application/json"&gt;.status_code
E    +  and   403 = status.HTTP_403_FORBIDDEN</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementUpdate" name="test_superadmin_can_update_user" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementUpdate" name="test_update_user_active_status" time="0.036" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementUpdate" name="test_admin_can_update_non_admin_users" time="0.022" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementUpdate" name="test_cannot_change_username_to_existing" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementDelete" name="test_superadmin_can_delete_user" time="0.041" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementDelete" name="test_cannot_delete_own_account" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementDelete" name="test_admin_cannot_delete_superadmin" time="0.030"><failure message="assert 204 == 403&#10; +  where 204 = &lt;Response status_code=204&gt;.status_code&#10; +  and   403 = status.HTTP_403_FORBIDDEN">skyspy/tests/e2e/test_e2e_admin.py:372: in test_admin_cannot_delete_superadmin
    assert response.status_code == status.HTTP_403_FORBIDDEN
E   assert 204 == 403
E    +  where 204 = &lt;Response status_code=204&gt;.status_code
E    +  and   403 = status.HTTP_403_FORBIDDEN</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementDelete" name="test_delete_nonexistent_user_returns_404" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserManagementDelete" name="test_operator_cannot_delete_users" time="0.033"><failure message="assert 204 == 403&#10; +  where 204 = &lt;Response status_code=204&gt;.status_code&#10; +  and   403 = status.HTTP_403_FORBIDDEN">skyspy/tests/e2e/test_e2e_admin.py:387: in test_operator_cannot_delete_users
    assert response.status_code == status.HTTP_403_FORBIDDEN
E   assert 204 == 403
E    +  where 204 = &lt;Response status_code=204&gt;.status_code
E    +  and   403 = status.HTTP_403_FORBIDDEN</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleAssignment" name="test_assign_role_to_user" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleAssignment" name="test_assign_role_with_expiration" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleAssignment" name="test_assign_nonexistent_role_returns_404" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleAssignment" name="test_assign_already_assigned_role" time="0.018" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleAssignment" name="test_admin_cannot_assign_superadmin_role" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleAssignment" name="test_assign_role_tracks_assigned_by" time="0.020" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleRemoval" name="test_remove_role_from_user" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleRemoval" name="test_remove_non_assigned_role" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleRemoval" name="test_remove_nonexistent_role_returns_404" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleManagementList" name="test_superadmin_can_list_roles" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleManagementList" name="test_admin_can_list_roles" time="0.047" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleManagementList" name="test_roles_include_permissions" time="0.024" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleManagementList" name="test_operator_cannot_list_roles" time="0.017"><failure message="assert 200 == 403&#10; +  where 200 = &lt;Response status_code=200, &quot;application/json&quot;&gt;.status_code&#10; +  and   403 = status.HTTP_403_FORBIDDEN">skyspy/tests/e2e/test_e2e_admin.py:584: in test_operator_cannot_list_roles
    assert response.status_code == status.HTTP_403_FORBIDDEN
E   assert 200 == 403
E    +  where 200 = &lt;Response status_code=200, "application/json"&gt;.status_code
E    +  and   403 = status.HTTP_403_FORBIDDEN</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleManagementCreate" name="test_superadmin_can_create_role" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleManagementCreate" name="test_create_role_with_duplicate_name_fails" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleManagementCreate" name="test_create_role_with_invalid_permissions" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleManagementCreate" name="test_admin_cannot_create_roles_with_user_management_perms" time="0.014"><failure message="AssertionError: assert 'users.create' not in ['users.create', 'users.delete']">skyspy/tests/e2e/test_e2e_admin.py:652: in test_admin_cannot_create_roles_with_user_management_perms
    assert 'users.create' not in result['permissions']
E   AssertionError: assert 'users.create' not in ['users.create', 'users.delete']</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleManagementGetDetail" name="test_get_role_details" time="0.019" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleManagementGetDetail" name="test_get_nonexistent_role_returns_404" time="0.012" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleManagementUpdate" name="test_update_custom_role_permissions" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleManagementUpdate" name="test_cannot_update_system_role_permissions" time="0.018" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleManagementUpdate" name="test_can_update_custom_role_display_name" time="0.015" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleManagementDelete" name="test_delete_custom_role" time="0.015" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleManagementDelete" name="test_cannot_delete_system_role" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleManagementDelete" name="test_cannot_delete_superadmin_role" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestRoleManagementDelete" name="test_delete_role_with_assignments_cascades_or_fails" time="0.015" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserRoleAssignmentsList" name="test_list_all_user_role_assignments" time="0.038" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserRoleAssignmentsList" name="test_filter_assignments_by_user" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserRoleAssignmentsList" name="test_filter_assignments_by_role" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestUserRoleAssignmentsList" name="test_assignments_show_expiration_status" time="0.018" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAPIKeyList" name="test_superadmin_can_list_all_api_keys" time="0.026" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAPIKeyList" name="test_api_key_list_hides_full_key" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAPIKeyList" name="test_filter_api_keys_by_user" time="0.022" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAPIKeyCreate" name="test_create_api_key_for_user" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAPIKeyCreate" name="test_api_key_only_shown_on_creation" time="0.031" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAPIKeyCreate" name="test_create_api_key_with_expiration" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAPIKeyCreate" name="test_create_api_key_with_scopes" time="0.025" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAPIKeyDelete" name="test_revoke_api_key" time="0.020" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAPIKeyDelete" name="test_admin_can_revoke_non_admin_keys" time="0.020" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAPIKeyDelete" name="test_revoke_nonexistent_key_returns_404" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestFeatureAccessList" name="test_list_feature_access_configurations" time="0.026" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestFeatureAccessList" name="test_admin_can_list_feature_access" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestFeatureAccessUpdate" name="test_update_read_access_to_public" time="0.022" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestFeatureAccessUpdate" name="test_update_write_access_to_authenticated" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestFeatureAccessUpdate" name="test_disable_feature" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestFeatureAccessUpdate" name="test_enable_feature" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestFeatureAccessUpdate" name="test_update_nonexistent_feature_returns_404" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestFeatureAccessUpdate" name="test_invalid_access_level_rejected" time="0.018" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestOIDCClaimMappingsList" name="test_list_oidc_claim_mappings" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestOIDCClaimMappingCreate" name="test_create_exact_match_mapping" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestOIDCClaimMappingCreate" name="test_create_contains_match_mapping" time="0.020" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestOIDCClaimMappingCreate" name="test_create_regex_match_mapping" time="0.020" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestOIDCClaimMappingCreate" name="test_create_mapping_with_nonexistent_role_fails" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestOIDCClaimMappingUpdate" name="test_update_mapping_claim_value" time="0.024" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestOIDCClaimMappingUpdate" name="test_update_mapping_match_type" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestOIDCClaimMappingUpdate" name="test_update_mapping_active_status" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestOIDCClaimMappingDelete" name="test_delete_oidc_mapping" time="0.020" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestOIDCClaimMappingDelete" name="test_delete_nonexistent_mapping_returns_404" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAdminPermissionChecks" name="test_viewer_cannot_access_any_admin_endpoints" time="0.015"><failure message="AssertionError: Viewer should not access /api/v1/admin/users/&#10;assert 200 == 403&#10; +  where 200 = &lt;Response status_code=200, &quot;application/json&quot;&gt;.status_code&#10; +  and   403 = status.HTTP_403_FORBIDDEN">skyspy/tests/e2e/test_e2e_admin.py:1461: in test_viewer_cannot_access_any_admin_endpoints
    assert response.status_code == status.HTTP_403_FORBIDDEN, \
E   AssertionError: Viewer should not access /api/v1/admin/users/
E   assert 200 == 403
E    +  where 200 = &lt;Response status_code=200, "application/json"&gt;.status_code
E    +  and   403 = status.HTTP_403_FORBIDDEN</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAdminPermissionChecks" name="test_operator_cannot_access_admin_endpoints" time="0.017"><failure message="AssertionError: Operator should not access /api/v1/admin/users/&#10;assert 200 == 403&#10; +  where 200 = &lt;Response status_code=200, &quot;application/json&quot;&gt;.status_code&#10; +  and   403 = status.HTTP_403_FORBIDDEN">skyspy/tests/e2e/test_e2e_admin.py:1477: in test_operator_cannot_access_admin_endpoints
    assert response.status_code == status.HTTP_403_FORBIDDEN, \
E   AssertionError: Operator should not access /api/v1/admin/users/
E   assert 200 == 403
E    +  where 200 = &lt;Response status_code=200, "application/json"&gt;.status_code
E    +  and   403 = status.HTTP_403_FORBIDDEN</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAdminPermissionChecks" name="test_analyst_cannot_access_admin_endpoints" time="0.016"><failure message="AssertionError: Analyst should not access /api/v1/admin/users/&#10;assert 200 == 403&#10; +  where 200 = &lt;Response status_code=200, &quot;application/json&quot;&gt;.status_code&#10; +  and   403 = status.HTTP_403_FORBIDDEN">skyspy/tests/e2e/test_e2e_admin.py:1489: in test_analyst_cannot_access_admin_endpoints
    assert response.status_code == status.HTTP_403_FORBIDDEN, \
E   AssertionError: Analyst should not access /api/v1/admin/users/
E   assert 200 == 403
E    +  where 200 = &lt;Response status_code=200, "application/json"&gt;.status_code
E    +  and   403 = status.HTTP_403_FORBIDDEN</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAdminPermissionChecks" name="test_admin_has_limited_admin_access" time="0.031"><failure message="AssertionError: assert 'superadmin' not in ['superadmin']">skyspy/tests/e2e/test_e2e_admin.py:1512: in test_admin_has_limited_admin_access
    assert 'superadmin' not in role_names
E   AssertionError: assert 'superadmin' not in ['superadmin']</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAdminPermissionChecks" name="test_superadmin_has_full_admin_access" time="0.098" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAdminPermissionChecks" name="test_unauthenticated_gets_401_on_admin_endpoints" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAdminAuditLogging" name="test_user_creation_is_logged" time="0.024" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAdminAuditLogging" name="test_role_assignment_is_logged" time="0.020" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAdminAuditLogging" name="test_user_deletion_is_logged" time="0.031" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAdminAuditLogging" name="test_api_key_creation_is_logged" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAdminAuditLogging" name="test_query_admin_action_history" time="0.097" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAdminIntegrationWorkflows" name="test_complete_user_lifecycle" time="0.071" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAdminIntegrationWorkflows" name="test_create_custom_role_and_assign_to_users" time="0.044" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAdminIntegrationWorkflows" name="test_setup_oidc_role_mapping_workflow" time="0.046" /><testcase classname="skyspy.tests.e2e.test_e2e_admin.TestAdminIntegrationWorkflows" name="test_configure_feature_access_for_public_deployment" time="0.051" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestLiveAircraftListing" name="test_list_returns_200_ok" time="0.004" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestLiveAircraftListing" name="test_list_empty_cache_returns_empty_list" time="0.004" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestLiveAircraftListing" name="test_list_response_structure" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestLiveAircraftListing" name="test_list_includes_position_data" time="0.004" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestLiveAircraftListing" name="test_military_aircraft_flagged" time="0.004" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestLiveAircraftListing" name="test_emergency_squawks_flagged" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestLiveAircraftListing" name="test_list_message_count_from_cache" time="0.004" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestLiveAircraftListing" name="test_list_timestamp_is_iso_format" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestAircraftDetails" name="test_retrieve_existing_aircraft" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestAircraftDetails" name="test_retrieve_returns_correct_aircraft" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestAircraftDetails" name="test_retrieve_includes_extended_info" time="0.004" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestAircraftDetails" name="test_retrieve_nonexistent_aircraft_returns_404" time="0.007" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestAircraftDetails" name="test_retrieve_404_includes_error_message" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestAircraftDetails" name="test_retrieve_military_aircraft" time="0.007" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestAircraftDetails" name="test_retrieve_by_icao_hex_field" time="0.006" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestTopAircraft" name="test_top_returns_200_ok" time="0.006" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestTopAircraft" name="test_top_response_includes_all_categories" time="0.009" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestTopAircraft" name="test_top_closest_sorted_correctly" time="0.006" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestTopAircraft" name="test_top_highest_sorted_correctly" time="0.006" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestTopAircraft" name="test_top_fastest_sorted_correctly" time="0.006" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestTopAircraft" name="test_top_military_contains_only_military" time="0.007" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestTopAircraft" name="test_top_limit_parameter" time="0.006" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestTopAircraft" name="test_top_includes_total_count" time="0.008" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestTopAircraft" name="test_top_includes_timestamp" time="0.006" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestUATAircraft" name="test_uat_returns_200_ok" time="0.007" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestUATAircraft" name="test_uat_response_structure" time="0.015" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestUATAircraft" name="test_uat_returns_uat_aircraft_only" time="0.008" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestUATAircraft" name="test_uat_empty_cache" time="0.006" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestUATAircraft" name="test_uat_separate_from_1090" time="0.007" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestSightingHistory" name="test_sightings_returns_200_ok" time="0.051" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestSightingHistory" name="test_sightings_response_structure" time="0.043" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestSightingHistory" name="test_sightings_filter_by_icao_hex" time="0.040" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestSightingHistory" name="test_sightings_filter_by_time_range" time="0.050" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestSightingHistory" name="test_sightings_pagination" time="0.051" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestSightingHistory" name="test_sightings_ordered_by_timestamp" time="0.046" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestSightingHistory" name="test_sightings_filter_by_altitude_range" time="0.042" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestSightingHistory" name="test_sightings_filter_by_distance_range" time="0.044" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestSightingHistory" name="test_sightings_filter_military_only" time="0.047" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestSessionTracking" name="test_sessions_returns_200_ok" time="0.027" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestSessionTracking" name="test_sessions_response_structure" time="0.026" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestSessionTracking" name="test_sessions_include_required_fields" time="0.024" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestSessionTracking" name="test_sessions_include_min_max_values" time="0.024" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestSessionTracking" name="test_sessions_filter_by_icao_hex" time="0.032" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestSessionTracking" name="test_sessions_filter_by_callsign" time="0.038" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestSessionTracking" name="test_sessions_filter_by_military" time="0.033" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestSessionTracking" name="test_sessions_include_duration" time="0.032" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestHistoryStats" name="test_history_stats_returns_200_ok" time="0.572" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestHistoryStats" name="test_history_stats_response_structure" time="0.499" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestHistoryStats" name="test_history_stats_sightings_count" time="0.553" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestHistoryStats" name="test_history_stats_unique_aircraft_count" time="0.550" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestHistoryStats" name="test_history_stats_military_count" time="0.544" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestHistoryStats" name="test_history_stats_time_range_filter" time="0.520" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestSearchAndFiltering" name="test_search_by_callsign_pattern" time="0.043" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestSearchAndFiltering" name="test_search_by_registration" time="0.019" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestSearchAndFiltering" name="test_filter_sightings_by_aircraft_type" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestAircraftInfoLookup" name="test_lookup_returns_aircraft_info" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestAircraftInfoLookup" name="test_lookup_includes_manufacturer_model" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestAircraftInfoLookup" name="test_lookup_includes_operator" time="0.011" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestAircraftInfoLookup" name="test_lookup_includes_flags" time="0.011" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestAircraftInfoLookup" name="test_lookup_military_aircraft" time="0.011" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestAircraftInfoLookup" name="test_lookup_nonexistent_aircraft" time="1.494" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestAircraftInfoLookup" name="test_lookup_case_insensitive" time="0.018" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestAircraftInfoLookup" name="test_bulk_lookup" time="0.018" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestAircraftInfoLookup" name="test_search_by_operator" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestPermissionChecks" name="test_public_mode_aircraft_visible_without_auth" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestPermissionChecks" name="test_public_mode_sightings_accessible" time="0.019" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestPermissionChecks" name="test_public_mode_sessions_accessible" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestPermissionChecks" name="test_authenticated_mode_requires_auth" time="0.019" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestPermissionChecks" name="test_viewer_can_access_aircraft" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestPermissionChecks" name="test_viewer_can_access_sightings" time="0.022" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestPermissionChecks" name="test_operator_can_access_aircraft" time="0.010" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestPermissionChecks" name="test_analyst_can_access_military_details" time="0.010" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestPermissionChecks" name="test_hybrid_mode_respects_feature_access" time="0.006" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestAircraftTrackingIntegration" name="test_full_aircraft_tracking_workflow" time="0.007" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestAircraftTrackingIntegration" name="test_consistency_between_endpoints" time="0.008" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestAircraftTrackingIntegration" name="test_sighting_to_session_relationship" time="0.020" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestAircraftTrackingIntegration" name="test_all_aircraft_endpoints_return_json" time="0.008" /><testcase classname="skyspy.tests.e2e.test_e2e_aircraft.TestAircraftTrackingIntegration" name="test_emergency_aircraft_in_stats" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertRuleCRUD" name="test_create_alert_rule_with_simple_condition" time="0.092" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertRuleCRUD" name="test_create_alert_rule_with_complex_and_or_conditions" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertRuleCRUD" name="test_read_own_alert_rules" time="0.024" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertRuleCRUD" name="test_read_single_alert_rule" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertRuleCRUD" name="test_update_own_alert_rule" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertRuleCRUD" name="test_delete_own_alert_rule" time="0.024" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertRuleCRUD" name="test_cannot_edit_other_users_private_rules" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertRuleCRUD" name="test_cannot_delete_other_users_private_rules" time="0.018" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertRuleCRUD" name="test_can_view_shared_rules" time="0.026"><failure message="assert 403 == 200&#10; +  where 403 = &lt;Response status_code=403, &quot;application/json&quot;&gt;.status_code&#10; +  and   200 = status.HTTP_200_OK">skyspy/tests/e2e/test_e2e_alerts.py:194: in test_can_view_shared_rules
    assert response.status_code == status.HTTP_200_OK
E   assert 403 == 200
E    +  where 403 = &lt;Response status_code=403, "application/json"&gt;.status_code
E    +  and   200 = status.HTTP_200_OK</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertRuleCRUD" name="test_can_view_public_rules" time="0.015"><failure message="assert 401 == 200&#10; +  where 401 = &lt;Response status_code=401, &quot;application/json&quot;&gt;.status_code&#10; +  and   200 = status.HTTP_200_OK">skyspy/tests/e2e/test_e2e_alerts.py:203: in test_can_view_public_rules
    assert response.status_code == status.HTTP_200_OK
E   assert 401 == 200
E    +  where 401 = &lt;Response status_code=401, "application/json"&gt;.status_code
E    +  and   200 = status.HTTP_200_OK</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertRuleVisibility" name="test_private_rules_only_visible_to_owner" time="0.035" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertRuleVisibility" name="test_shared_rules_visible_to_users_with_alerts_view_permission" time="0.023"><failure message="assert 403 == 200&#10; +  where 403 = &lt;Response status_code=403, &quot;application/json&quot;&gt;.status_code&#10; +  and   200 = status.HTTP_200_OK">skyspy/tests/e2e/test_e2e_alerts.py:243: in test_shared_rules_visible_to_users_with_alerts_view_permission
    assert response.status_code == status.HTTP_200_OK
E   assert 403 == 200
E    +  where 403 = &lt;Response status_code=403, "application/json"&gt;.status_code
E    +  and   200 = status.HTTP_200_OK</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertRuleVisibility" name="test_public_rules_visible_to_everyone" time="0.012"><failure message="assert 401 == 200&#10; +  where 401 = &lt;Response status_code=401, &quot;application/json&quot;&gt;.status_code&#10; +  and   200 = status.HTTP_200_OK">skyspy/tests/e2e/test_e2e_alerts.py:253: in test_public_rules_visible_to_everyone
    assert response.status_code == status.HTTP_200_OK
E   assert 401 == 200
E    +  where 401 = &lt;Response status_code=401, "application/json"&gt;.status_code
E    +  and   200 = status.HTTP_200_OK</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertRuleVisibility" name="test_admin_with_manage_all_can_edit_any_rule" time="0.018" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertRuleVisibility" name="test_superadmin_can_manage_all_rules" time="0.028" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertTesting" name="test_post_test_with_sample_aircraft_data" time="0.018" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertTesting" name="test_test_returns_match_results" time="0.022" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertTesting" name="test_complex_conditions_evaluate_correctly" time="0.039" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertToggling" name="test_toggle_enables_disabled_rule" time="0.045" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertToggling" name="test_toggle_disables_enabled_rule" time="0.024" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertToggling" name="test_disabled_rules_dont_trigger" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertToggling" name="test_toggle_returns_updated_rule_state" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestBulkOperations" name="test_bulk_create_multiple_rules" time="0.044" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestBulkOperations" name="test_bulk_delete_multiple_rules" time="0.024" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestBulkOperations" name="test_bulk_delete_only_deletes_owned_rules" time="0.020" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertHistory" name="test_get_alert_history_returns_triggered_alerts" time="0.019" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertHistory" name="test_filter_history_by_rule" time="0.018" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertHistory" name="test_filter_history_by_time_range" time="0.019" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertHistory" name="test_filter_history_by_icao_hex" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertHistory" name="test_delete_clears_history_with_permission" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertSubscriptions" name="test_subscribe_to_shared_alert_rule" time="0.019" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertSubscriptions" name="test_unsubscribe_from_rule" time="0.018" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertSubscriptions" name="test_list_subscriptions" time="0.020" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertSubscriptions" name="test_cannot_subscribe_to_private_rule_not_owned" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertScheduling" name="test_rules_with_starts_at_only_trigger_after_that_time" time="0.015" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertScheduling" name="test_rules_with_expires_at_stop_triggering_after_that_time" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertScheduling" name="test_cooldown_prevents_duplicate_triggers" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestAlertScheduling" name="test_rule_active_within_schedule_window" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestNotificationIntegration" name="test_alert_trigger_sends_to_configured_notification_channels" time="0.022" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestNotificationIntegration" name="test_multiple_channels_receive_notifications" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestNotificationIntegration" name="test_use_global_notifications_flag" time="0.022" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestEdgeCasesAndErrors" name="test_create_rule_with_invalid_operator" time="0.012" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestEdgeCasesAndErrors" name="test_create_rule_with_missing_name" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestEdgeCasesAndErrors" name="test_get_nonexistent_rule" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestEdgeCasesAndErrors" name="test_toggle_nonexistent_rule" time="0.018" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestEdgeCasesAndErrors" name="test_test_nonexistent_rule" time="0.020" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestEdgeCasesAndErrors" name="test_duplicate_subscription" time="0.019" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestEdgeCasesAndErrors" name="test_system_rule_cannot_be_deleted_by_regular_user" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestIntegrationWorkflows" name="test_complete_alert_rule_lifecycle" time="0.085" /><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestIntegrationWorkflows" name="test_shared_rule_subscription_workflow" time="0.027"><failure message="assert 403 == 200&#10; +  where 403 = &lt;Response status_code=403, &quot;application/json&quot;&gt;.status_code&#10; +  and   200 = status.HTTP_200_OK">skyspy/tests/e2e/test_e2e_alerts.py:1158: in test_shared_rule_subscription_workflow
    assert view_response.status_code == status.HTTP_200_OK
E   assert 403 == 200
E    +  where 403 = &lt;Response status_code=403, "application/json"&gt;.status_code
E    +  and   200 = status.HTTP_200_OK</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_alerts.TestIntegrationWorkflows" name="test_alert_with_notification_workflow" time="0.034" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestJWTAuthenticationFlow" name="test_login_with_valid_credentials_returns_tokens" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestJWTAuthenticationFlow" name="test_login_with_invalid_credentials_returns_401" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestJWTAuthenticationFlow" name="test_login_with_nonexistent_user_returns_401" time="0.008" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestJWTAuthenticationFlow" name="test_login_with_email_as_username" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestJWTAuthenticationFlow" name="test_login_with_disabled_account_returns_403" time="0.011" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestJWTAuthenticationFlow" name="test_access_protected_endpoint_with_valid_token_returns_200" time="0.015" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestJWTAuthenticationFlow" name="test_access_protected_endpoint_without_token_returns_401" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestJWTAuthenticationFlow" name="test_access_protected_endpoint_with_invalid_token_returns_401" time="0.007" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestJWTAuthenticationFlow" name="test_access_protected_endpoint_with_expired_token_returns_401" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestTokenRefreshFlow" name="test_refresh_with_valid_refresh_token_returns_new_access_token" time="0.022" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestTokenRefreshFlow" name="test_refresh_with_invalid_refresh_token_returns_401" time="0.007" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestTokenRefreshFlow" name="test_refresh_with_blacklisted_token_returns_401" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestLogoutFlow" name="test_logout_invalidates_refresh_token" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestLogoutFlow" name="test_subsequent_refresh_fails_after_logout" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestLogoutFlow" name="test_logout_without_authentication_returns_401" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestAPIKeyAuthentication" name="test_access_with_valid_api_key_returns_200" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestAPIKeyAuthentication" name="test_access_with_invalid_api_key_returns_401" time="0.007" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestAPIKeyAuthentication" name="test_access_with_expired_api_key_returns_401" time="0.012" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestAPIKeyAuthentication" name="test_access_with_inactive_api_key_returns_401" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestAPIKeyAuthentication" name="test_api_key_x_header_authentication" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestAPIKeyAuthentication" name="test_api_key_scopes_are_respected" time="0.009" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestAPIKeyAuthentication" name="test_api_key_last_used_is_updated" time="0.018" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestPermissionChecks" name="test_viewer_can_read_alerts" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestPermissionChecks" name="test_viewer_cannot_create_alerts" time="0.015" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestPermissionChecks" name="test_operator_can_create_own_alerts" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestPermissionChecks" name="test_operator_can_edit_own_alerts" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestPermissionChecks" name="test_operator_can_delete_own_alerts" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestPermissionChecks" name="test_admin_has_elevated_access" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestPermissionChecks" name="test_superadmin_has_full_access" time="0.026" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestPermissionChecks" name="test_no_role_user_has_limited_access" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestPermissionChecks" name="test_permissions_endpoint_returns_user_permissions" time="0.012" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestAuthModeBehavior" name="test_public_mode_no_auth_required" time="0.007" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestAuthModeBehavior" name="test_public_mode_allows_anonymous_access" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestAuthModeBehavior" name="test_authenticated_mode_requires_auth" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestAuthModeBehavior" name="test_authenticated_mode_allows_authenticated_users" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestAuthModeBehavior" name="test_hybrid_mode_config_endpoint_public" time="0.006" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestAuthModeBehavior" name="test_auth_config_returns_correct_settings" time="0.006" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestProfileEndpoint" name="test_get_profile_returns_user_info" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestProfileEndpoint" name="test_patch_profile_updates_display_name" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestProfileEndpoint" name="test_patch_profile_updates_preferences" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestFeatureAccessConfiguration" name="test_feature_public_access_allows_anonymous" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestFeatureAccessConfiguration" name="test_feature_authenticated_access_requires_login" time="0.040"><failure message="assert 200 in [401, 403]&#10; +  where 200 = &lt;Response status_code=200, &quot;application/json&quot;&gt;.status_code">skyspy/tests/e2e/test_e2e_auth.py:596: in test_feature_authenticated_access_requires_login
    assert response.status_code in [
E   assert 200 in [401, 403]
E    +  where 200 = &lt;Response status_code=200, "application/json"&gt;.status_code</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestFeatureAccessConfiguration" name="test_feature_permission_access_requires_specific_permission" time="0.024" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestAuthEdgeCasesAndSecurity" name="test_login_creates_profile_if_missing" time="0.015" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestAuthEdgeCasesAndSecurity" name="test_malformed_authorization_header_rejected" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestAuthEdgeCasesAndSecurity" name="test_empty_bearer_token_rejected" time="0.006" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestAuthEdgeCasesAndSecurity" name="test_token_for_deleted_user_fails" time="0.029" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestAuthEdgeCasesAndSecurity" name="test_concurrent_logins_allowed" time="0.040" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestAuthEdgeCasesAndSecurity" name="test_local_auth_can_be_disabled" time="0.008" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestPasswordChange" name="test_password_change_with_correct_current_password" time="0.015" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestPasswordChange" name="test_password_change_with_wrong_current_password_fails" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestPasswordChange" name="test_password_change_requires_authentication" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestRoleExpiration" name="test_expired_role_not_included_in_permissions" time="0.011" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestRoleExpiration" name="test_active_role_included_in_permissions" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_auth.TestRoleExpiration" name="test_permanent_role_always_active" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelCRUD" name="test_create_discord_channel" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelCRUD" name="test_create_slack_channel" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelCRUD" name="test_create_email_channel" time="0.018" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelCRUD" name="test_create_pushover_channel" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelCRUD" name="test_create_ntfy_channel" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelCRUD" name="test_create_gotify_channel" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelCRUD" name="test_create_telegram_channel" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelCRUD" name="test_create_webhook_channel" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelCRUD" name="test_create_home_assistant_channel" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelCRUD" name="test_create_custom_apprise_channel" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelCRUD" name="test_list_own_notification_channels" time="0.032" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelCRUD" name="test_list_my_channels_endpoint" time="0.140" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelCRUD" name="test_retrieve_notification_channel" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelCRUD" name="test_update_notification_channel" time="0.032" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelCRUD" name="test_update_channel_url_resets_verification" time="0.030" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelCRUD" name="test_delete_notification_channel" time="0.027" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelCRUD" name="test_cannot_access_other_users_channels" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelCRUD" name="test_cannot_update_other_users_channels" time="0.020" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelCRUD" name="test_cannot_delete_other_users_channels" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelCRUD" name="test_non_admin_cannot_create_global_channel" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelTypes" name="test_get_channel_types" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelTypes" name="test_channel_types_include_required_fields" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelTypes" name="test_channel_types_include_expected_services" time="0.004" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelTypes" name="test_discord_type_info" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelTypes" name="test_slack_type_info" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelTest" name="test_send_test_notification_success" time="0.028" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelTest" name="test_send_test_notification_updates_channel_status" time="0.027" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelTest" name="test_send_test_notification_logs_result" time="0.026" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelTest" name="test_send_test_notification_disabled_channel" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelTest" name="test_send_test_notification_failure" time="0.029" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationChannelTest" name="test_send_test_notification_validates_channel_config" time="0.026" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationHistory" name="test_get_notification_history" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationHistory" name="test_filter_history_by_notification_type_alert" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationHistory" name="test_filter_history_by_status" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationHistory" name="test_filter_history_by_channel_id" time="0.018" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationHistory" name="test_history_includes_delivery_status" time="0.012" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationHistory" name="test_history_limit_parameter" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationHistory" name="test_history_ordered_by_timestamp" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestAlertChannelIntegration" name="test_alert_rule_can_reference_notification_channels" time="0.026" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestAlertChannelIntegration" name="test_create_alert_with_notification_channels" time="0.027" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestAlertChannelIntegration" name="test_alert_trigger_sends_notifications" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestAlertChannelIntegration" name="test_failed_notifications_are_logged" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestGlobalNotificationConfig" name="test_get_global_notification_config" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestGlobalNotificationConfig" name="test_update_global_notification_config" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestGlobalNotificationConfig" name="test_global_config_cooldown_prevents_spam" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestGlobalNotificationConfig" name="test_global_config_can_be_disabled" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestGlobalNotificationConfig" name="test_global_test_notification" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestGlobalNotificationConfig" name="test_global_test_notification_no_urls_configured" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestGlobalNotificationConfig" name="test_global_test_notification_disabled" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestRichMessageFormatting" name="test_notification_includes_aircraft_details" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestRichMessageFormatting" name="test_safety_event_notification_includes_severity" time="0.012" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestRichMessageFormatting" name="test_alert_notification_includes_rule_info" time="0.011" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationPermissions" name="test_users_can_only_manage_own_channels" time="0.030" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationPermissions" name="test_admin_can_see_all_channels" time="0.022" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationPermissions" name="test_admin_can_update_any_channel" time="0.032" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationPermissions" name="test_admin_can_delete_any_channel" time="0.029" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationPermissions" name="test_admin_can_create_global_channel" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationPermissions" name="test_view_notifications_requires_auth" time="0.007" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationPermissions" name="test_global_channels_visible_to_all_authenticated_users" time="0.022" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationStatistics" name="test_get_notification_stats" time="0.018" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationStatistics" name="test_notification_stats_totals" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationStatistics" name="test_notification_stats_by_type" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationStatistics" name="test_notification_stats_by_channel" time="0.019" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationServices" name="test_get_notification_services" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationServices" name="test_services_include_expected_providers" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationEdgeCases" name="test_create_channel_missing_required_fields" time="0.011" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationEdgeCases" name="test_create_channel_invalid_type" time="0.011" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationEdgeCases" name="test_get_nonexistent_channel" time="0.015" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationEdgeCases" name="test_delete_nonexistent_channel" time="0.015" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationEdgeCases" name="test_test_nonexistent_channel" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationEdgeCases" name="test_channel_with_very_long_name" time="0.011" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationEdgeCases" name="test_empty_history" time="0.012" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationWorkflows" name="test_complete_channel_workflow" time="0.083" /><testcase classname="skyspy.tests.e2e.test_e2e_notifications.TestNotificationWorkflows" name="test_alert_notification_workflow" time="0.027" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventListing" name="test_list_returns_200" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventListing" name="test_list_returns_events_structure" time="0.018" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventListing" name="test_list_event_fields" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventListing" name="test_filter_by_event_type_tcas_ra" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventListing" name="test_filter_by_event_type_tcas_ta" time="0.015" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventListing" name="test_filter_by_event_type_7500_hijack" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventListing" name="test_filter_by_event_type_7600_radio_failure" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventListing" name="test_filter_by_event_type_7700_emergency" time="0.012" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventListing" name="test_filter_by_event_type_proximity_conflict" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventListing" name="test_filter_by_event_type_extreme_vs" time="0.012" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventListing" name="test_filter_by_severity_info" time="0.015" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventListing" name="test_filter_by_severity_warning" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventListing" name="test_filter_by_severity_critical" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventListing" name="test_filter_by_time_range_24_hours" time="0.015" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventListing" name="test_filter_by_time_range_1_hour" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventListing" name="test_filter_by_acknowledged_true" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventListing" name="test_filter_by_acknowledged_false" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventListing" name="test_filter_by_icao_hex" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventListing" name="test_list_ordered_by_timestamp_descending" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventListing" name="test_combine_multiple_filters" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventDetails" name="test_retrieve_existing_event" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventDetails" name="test_retrieve_event_data" time="0.018" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventDetails" name="test_retrieve_event_with_aircraft_snapshot" time="0.025" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventDetails" name="test_retrieve_proximity_event_with_both_snapshots" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventDetails" name="test_retrieve_nonexistent_event" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestEventAcknowledgment" name="test_acknowledge_event" time="0.029" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestEventAcknowledgment" name="test_acknowledge_sets_timestamp" time="0.038" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestEventAcknowledgment" name="test_acknowledge_returns_updated_event" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestEventAcknowledgment" name="test_acknowledge_already_acknowledged_is_idempotent" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestEventAcknowledgment" name="test_acknowledge_nonexistent_event" time="0.012" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestEventAcknowledgment" name="test_viewer_can_read_but_not_acknowledge" time="0.028" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyStatistics" name="test_stats_returns_200" time="0.025" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyStatistics" name="test_stats_response_structure" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyStatistics" name="test_stats_thresholds" time="0.018" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyStatistics" name="test_stats_counts_by_event_type" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyStatistics" name="test_stats_counts_by_severity" time="0.020" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyStatistics" name="test_stats_total_events" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyStatistics" name="test_stats_unique_aircraft" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyStatistics" name="test_stats_event_rate_per_hour" time="0.033" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyStatistics" name="test_stats_top_aircraft" time="0.022" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyStatistics" name="test_stats_recent_events" time="0.019" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyStatistics" name="test_stats_time_filter" time="0.022" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyStatistics" name="test_stats_time_series_data" time="0.022" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestEventDeletion" name="test_delete_event" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestEventDeletion" name="test_delete_removes_from_database" time="0.020" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestEventDeletion" name="test_delete_nonexistent_event" time="0.012" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestEventDeletion" name="test_bulk_delete_by_event_type" time="0.035" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestRealTimeDetectionWorkflow" name="test_emergency_squawk_7700_creates_safety_event" time="0.006" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestRealTimeDetectionWorkflow" name="test_emergency_squawk_7500_hijack_creates_event" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestRealTimeDetectionWorkflow" name="test_emergency_squawk_7600_radio_failure_creates_event" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestRealTimeDetectionWorkflow" name="test_tcas_ra_creates_critical_event" time="0.003" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestRealTimeDetectionWorkflow" name="test_proximity_conflict_detects_close_aircraft" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestRealTimeDetectionWorkflow" name="test_extreme_vertical_speed_creates_event" time="0.006" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestPermissionChecks" name="test_viewer_can_read_events" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestPermissionChecks" name="test_viewer_can_read_single_event" time="0.015" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestPermissionChecks" name="test_viewer_can_read_stats" time="0.026" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestPermissionChecks" name="test_operator_can_acknowledge_events" time="0.022" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestPermissionChecks" name="test_admin_can_delete_events" time="0.022" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestPermissionChecks" name="test_unauthenticated_gets_403_on_protected_endpoint" time="0.025" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestPermissionChecks" name="test_no_role_user_has_limited_access" time="0.026" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestPermissionChecks" name="test_superadmin_has_full_access" time="0.032" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventsIntegration" name="test_complete_acknowledge_workflow" time="0.038" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventsIntegration" name="test_stats_consistency_with_list" time="0.024" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventsIntegration" name="test_all_endpoints_return_json" time="0.034" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestSafetyEventsIntegration" name="test_http_methods_restricted" time="0.015" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestEdgeCasesAndErrorHandling" name="test_invalid_hours_parameter_defaults" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestEdgeCasesAndErrorHandling" name="test_empty_database_returns_empty_list" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestEdgeCasesAndErrorHandling" name="test_stats_with_no_events" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestEdgeCasesAndErrorHandling" name="test_aircraft_stats_with_no_events" time="0.011" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestEdgeCasesAndErrorHandling" name="test_large_number_of_events" time="0.032" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestEdgeCasesAndErrorHandling" name="test_special_characters_in_callsign" time="0.015" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestEdgeCasesAndErrorHandling" name="test_null_optional_fields" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestEdgeCasesAndErrorHandling" name="test_concurrent_acknowledge_requests" time="0.031" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestAPIKeyAuthentication" name="test_api_key_can_read_events" time="0.019" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestAPIKeyAuthentication" name="test_api_key_can_read_stats" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_safety.TestAPIKeyAuthentication" name="test_expired_api_key_denied" time="0.044"><failure message="assert 200 in [401, 403]&#10; +  where 200 = &lt;Response status_code=200, &quot;application/json&quot;&gt;.status_code">skyspy/tests/e2e/test_e2e_safety.py:1280: in test_expired_api_key_denied
    assert response.status_code in [
E   assert 200 in [401, 403]
E    +  where 200 = &lt;Response status_code=200, "application/json"&gt;.status_code</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestTrackingQualityStats" name="test_tracking_quality_returns_200_ok" time="0.235" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestTrackingQualityStats" name="test_tracking_quality_response_structure" time="0.233" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestTrackingQualityStats" name="test_tracking_quality_includes_quality_grades" time="0.227" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestTrackingQualityStats" name="test_tracking_quality_filter_by_hours" time="0.233" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestTrackingQualityStats" name="test_tracking_quality_refresh_param" time="0.251" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestTrackingQualityStats" name="test_tracking_quality_gaps_endpoint" time="0.282" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestTrackingQualityStats" name="test_tracking_quality_session_detail" time="0.249" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestTrackingQualityStats" name="test_tracking_quality_session_not_found" time="0.007" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestEngagementStats" name="test_engagement_stats_returns_200_ok" time="0.047" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestEngagementStats" name="test_engagement_stats_response_structure" time="0.046" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestEngagementStats" name="test_engagement_stats_filter_by_hours" time="0.045" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestEngagementStats" name="test_engagement_most_watched" time="0.037" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestEngagementStats" name="test_engagement_return_visitors" time="0.044" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestEngagementStats" name="test_engagement_return_visitors_min_sessions" time="0.041" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestEngagementStats" name="test_engagement_peak_tracking" time="0.039" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestAircraftFavorites" name="test_list_favorites_returns_200_ok" time="0.025" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestAircraftFavorites" name="test_list_favorites_response_structure" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestAircraftFavorites" name="test_favorites_include_required_fields" time="0.025" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestAircraftFavorites" name="test_toggle_favorite_add" time="0.018" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestAircraftFavorites" name="test_toggle_favorite_remove" time="0.026" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestAircraftFavorites" name="test_check_favorite_status" time="0.025" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestAircraftFavorites" name="test_check_non_favorite" time="0.015" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestAircraftFavorites" name="test_update_favorite_notes" time="0.024" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestAircraftFavorites" name="test_favorites_unauthenticated_empty" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestFlightPatternStats" name="test_flight_patterns_returns_200_ok" time="0.069" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestFlightPatternStats" name="test_flight_patterns_response_structure" time="0.168" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestFlightPatternStats" name="test_flight_patterns_busiest_hours" time="0.100" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestFlightPatternStats" name="test_flight_patterns_aircraft_types" time="0.108" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestFlightPatternStats" name="test_flight_patterns_duration_by_type" time="0.075" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestFlightPatternStats" name="test_flight_patterns_routes" time="0.061" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestFlightPatternStats" name="test_flight_patterns_filter_by_hours" time="0.080" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestFlightPatternStats" name="test_flight_patterns_refresh" time="0.066" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestGeographicStats" name="test_geographic_stats_returns_200_ok" time="0.031" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestGeographicStats" name="test_geographic_stats_response_structure" time="0.032" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestGeographicStats" name="test_geographic_countries" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestGeographicStats" name="test_geographic_operators" time="0.028" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestGeographicStats" name="test_geographic_military_breakdown" time="0.026" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestGeographicStats" name="test_geographic_locations" time="0.024" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestGeographicStats" name="test_geographic_summary" time="0.027" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestGeographicStats" name="test_geographic_filter_by_hours" time="0.039" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestCombinedStats" name="test_combined_stats_returns_200_ok" time="0.096" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestCombinedStats" name="test_combined_stats_includes_both_categories" time="0.094" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestCombinedStats" name="test_combined_stats_summary" time="0.089" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestCombinedStats" name="test_combined_stats_filter_by_hours" time="0.101" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestCombinedStats" name="test_combined_stats_refresh" time="0.090" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestPersonalRecords" name="test_personal_records_model_exists" time="0.010" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestPersonalRecords" name="test_max_distance_record" time="0.008" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestPersonalRecords" name="test_max_altitude_record" time="0.008" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestPersonalRecords" name="test_max_speed_record" time="0.007" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestPersonalRecords" name="test_longest_session_record" time="0.009" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestPersonalRecords" name="test_most_positions_record" time="0.008" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestPersonalRecords" name="test_closest_approach_record" time="0.008" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestRareSightings" name="test_rare_sightings_created" time="0.010" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestRareSightings" name="test_first_time_hex_sighting" time="0.008" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestRareSightings" name="test_military_sighting" time="0.008" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestRareSightings" name="test_test_flight_sighting" time="0.007" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestRareSightings" name="test_government_sighting" time="0.008" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestRareSightings" name="test_rare_type_sighting" time="0.009" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestRareSightings" name="test_sighting_acknowledgement" time="0.010" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestRareSightings" name="test_filter_by_rarity_type" time="0.008" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestRareSightings" name="test_filter_unacknowledged" time="0.008" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestSpottedAircraftCollection" name="test_spotted_aircraft_created" time="0.024" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestSpottedAircraftCollection" name="test_spotted_counts_created" time="0.020" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestSpottedAircraftCollection" name="test_spotted_by_operator" time="0.022" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestSpottedAircraftCollection" name="test_spotted_by_aircraft_type" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestSpottedAircraftCollection" name="test_spotted_by_country" time="0.024" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestSpottedAircraftCollection" name="test_spotted_aircraft_tracking" time="0.020" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestSpottedAircraftCollection" name="test_collection_progress" time="0.022" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestSpottedAircraftCollection" name="test_filter_by_aircraft_type" time="0.022" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestSpottedAircraftCollection" name="test_filter_by_operator" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestDailyStats" name="test_daily_stats_created" time="0.022" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestDailyStats" name="test_daily_stats_structure" time="0.032" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestDailyStats" name="test_daily_stats_ordering" time="0.030" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestDailyStats" name="test_daily_stats_aircraft_types_json" time="0.032" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestDailyStats" name="test_daily_stats_operators_json" time="0.026" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestDailyStats" name="test_filter_by_date_range" time="0.022" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestDailyStats" name="test_sighting_streaks" time="0.007" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestDailyStats" name="test_military_streak" time="0.007" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestDailyStats" name="test_comparison_with_previous_days" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestAcarsStatistics" name="test_acars_stats_returns_200_ok" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestAcarsStatistics" name="test_acars_stats_response_structure" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestAcarsStatistics" name="test_acars_stats_by_source" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestAcarsStatistics" name="test_acars_stats_top_labels" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestAcarsStatistics" name="test_acars_stats_breakdown" time="0.020" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestAcarsStatistics" name="test_acars_stats_airlines" time="0.020" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestAcarsStatistics" name="test_acars_stats_trends" time="0.020" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestAcarsStatistics" name="test_acars_stats_filter_by_hours" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestAcarsStatistics" name="test_acars_labels_reference" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestAcarsStatistics" name="test_acars_stats_summary" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestAcarsStatistics" name="test_acars_category_trends" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestAcarsStatistics" name="test_acars_text_analysis" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestStatsIntegration" name="test_all_stats_endpoints_return_json" time="0.305" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestStatsIntegration" name="test_stats_with_authenticated_user" time="0.026" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestStatsIntegration" name="test_stats_cache_behavior" time="0.015" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestStatsIntegration" name="test_stats_time_range_consistency" time="0.055" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestStatsPermissions" name="test_public_stats_accessible_without_auth" time="0.036" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestStatsPermissions" name="test_viewer_can_access_stats" time="0.235" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestStatsPermissions" name="test_operator_can_manage_favorites" time="0.020" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestStatsPermissions" name="test_analyst_has_full_stats_access" time="0.286" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestConfigurationModels" name="test_notable_registration_creation" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestConfigurationModels" name="test_notable_callsign_creation" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestConfigurationModels" name="test_rare_aircraft_type_creation" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_stats.TestConfigurationModels" name="test_filter_active_patterns" time="0.007" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestHealthCheckEndpoints" name="test_health_check_returns_200" time="0.142" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestHealthCheckEndpoints" name="test_health_check_with_trailing_slash" time="0.004" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestHealthCheckEndpoints" name="test_health_check_response_structure" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestHealthCheckEndpoints" name="test_health_check_services_include_database" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestHealthCheckEndpoints" name="test_health_check_services_include_cache" time="0.004" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestHealthCheckEndpoints" name="test_health_check_services_include_celery" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestHealthCheckEndpoints" name="test_health_check_celery_up_with_heartbeat" time="0.006" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestHealthCheckEndpoints" name="test_health_check_database_connectivity" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestHealthCheckEndpoints" name="test_health_check_cache_connectivity" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestHealthCheckEndpoints" name="test_health_check_returns_json" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestHealthCheckEndpoints" name="test_health_check_timestamp_format" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestHealthCheckEndpoints" name="test_health_check_is_public_no_auth_required" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestHealthCheckEndpoints" name="test_health_check_overall_status_healthy" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemStatusEndpoint" name="test_status_returns_200" time="0.015" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemStatusEndpoint" name="test_status_with_trailing_slash" time="0.012" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemStatusEndpoint" name="test_status_includes_version_info" time="0.012" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemStatusEndpoint" name="test_status_includes_uptime" time="0.012" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemStatusEndpoint" name="test_status_includes_component_statuses" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemStatusEndpoint" name="test_status_includes_aircraft_count" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemStatusEndpoint" name="test_status_includes_session_count" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemStatusEndpoint" name="test_status_includes_alert_count" time="0.025" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemStatusEndpoint" name="test_status_includes_safety_event_count" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemStatusEndpoint" name="test_status_includes_location" time="0.011" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemStatusEndpoint" name="test_status_with_cached_aircraft_data" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemStatusEndpoint" name="test_status_adsb_offline_when_no_data" time="0.012" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemHealthDetailEndpoint" name="test_health_detail_returns_200" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemHealthDetailEndpoint" name="test_health_detail_includes_database_stats" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemHealthDetailEndpoint" name="test_health_detail_database_latency" time="0.006" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemHealthDetailEndpoint" name="test_health_detail_cache_stats" time="0.006" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemHealthDetailEndpoint" name="test_health_detail_external_service_connectivity" time="0.006" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemInfoEndpoint" name="test_info_returns_200" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemInfoEndpoint" name="test_info_includes_version" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemInfoEndpoint" name="test_info_includes_environment" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemInfoEndpoint" name="test_info_includes_feature_flags" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemInfoEndpoint" name="test_info_includes_auth_mode_configuration" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemInfoEndpoint" name="test_info_includes_endpoints_documentation" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestPrometheusMetricsEndpoint" name="test_metrics_endpoint_exists" time="0.004" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestPrometheusMetricsEndpoint" name="test_metrics_returns_prometheus_format_when_enabled" time="0.037" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestPrometheusMetricsEndpoint" name="test_metrics_includes_http_request_counts" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestPrometheusMetricsEndpoint" name="test_metrics_requires_permission_when_protected" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestPrometheusMetricsEndpoint" name="test_metrics_disabled_returns_503" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestDatabaseStatsEndpoint" name="test_databases_returns_200_or_requires_auth" time="0.012" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestDatabaseStatsEndpoint" name="test_databases_includes_table_row_counts" time="0.011" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestDatabaseStatsEndpoint" name="test_databases_includes_connection_pool_status" time="0.012" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestDatabaseStatsEndpoint" name="test_databases_requires_system_manage_permission" time="0.112" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestGeodataStatsEndpoint" name="test_geodata_returns_200_or_404" time="0.022" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestGeodataStatsEndpoint" name="test_geodata_includes_airport_count" time="0.015" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestGeodataStatsEndpoint" name="test_geodata_includes_navaid_count" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestGeodataStatsEndpoint" name="test_geodata_includes_last_update_times" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestGeodataStatsEndpoint" name="test_geodata_includes_coverage_area" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestWeatherCacheStatsEndpoint" name="test_weather_returns_200_or_404" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestWeatherCacheStatsEndpoint" name="test_weather_includes_metar_taf_counts" time="0.015" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestWeatherCacheStatsEndpoint" name="test_weather_includes_pireps_count" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestWeatherCacheStatsEndpoint" name="test_weather_includes_cache_age" time="0.017" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestAudioServiceStatsEndpoint" name="test_audio_service_stats_returns_200_or_404" time="0.009" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestAudioServiceStatsEndpoint" name="test_audio_service_stats_includes_queue_depth" time="0.010" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestAudioServiceStatsEndpoint" name="test_audio_service_stats_includes_processing_rate" time="0.010" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestAudioServiceStatsEndpoint" name="test_audio_service_stats_includes_error_rate" time="0.010" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestAudioServiceStatsEndpoint" name="test_audio_service_stats_includes_service_connectivity" time="0.010" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemPermissionChecks" name="test_health_check_is_public" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemPermissionChecks" name="test_metrics_requires_system_view_metrics_permission" time="0.028" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemPermissionChecks" name="test_detailed_stats_require_system_manage_permission" time="0.028" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemPermissionChecks" name="test_status_endpoint_respects_feature_access_config" time="0.023" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemPermissionChecks" name="test_viewer_can_access_basic_status" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemPermissionChecks" name="test_viewer_can_access_system_info" time="0.009" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemPermissionChecks" name="test_operator_can_access_system_endpoints" time="0.019" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemPermissionChecks" name="test_admin_can_access_all_system_endpoints" time="0.021" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemErrorHandling" name="test_graceful_degradation_when_cache_unavailable" time="0.006" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemErrorHandling" name="test_partial_status_when_some_components_fail" time="0.012" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemErrorHandling" name="test_proper_error_messages_on_service_failure" time="0.004" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemErrorHandling" name="test_health_check_reports_degraded_state" time="0.004" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemErrorHandling" name="test_status_returns_valid_json_even_with_errors" time="0.012" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemErrorHandling" name="test_database_query_timeout_handling" time="0.006" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemIntegration" name="test_all_system_endpoints_return_json" time="0.020" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemIntegration" name="test_version_consistent_across_endpoints" time="0.016" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemIntegration" name="test_health_and_status_correlation" time="0.018" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemIntegration" name="test_options_request_for_cors" time="0.006" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemIntegration" name="test_head_request_returns_headers_only" time="0.004" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemIntegration" name="test_cache_state_reflected_in_status" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestAuthModeBehavior" name="test_public_mode_allows_all_status_access" time="0.012" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestAuthModeBehavior" name="test_hybrid_mode_health_always_public" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestAuthModeBehavior" name="test_authenticated_mode_requires_auth_for_detailed_stats" time="0.006" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestAPIKeySystemAccess" name="test_api_key_can_access_status" time="0.020" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestAPIKeySystemAccess" name="test_api_key_can_access_health" time="0.011" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestAPIKeySystemAccess" name="test_api_key_can_access_info" time="0.010" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemPerformance" name="test_health_check_response_time" time="0.004" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemPerformance" name="test_status_endpoint_response_time" time="0.011" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemPerformance" name="test_health_check_under_load" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemEdgeCases" name="test_empty_database_status" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemEdgeCases" name="test_status_with_null_location" time="0.013" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemEdgeCases" name="test_health_check_with_invalid_method" time="0.005" /><testcase classname="skyspy.tests.e2e.test_e2e_system.TestSystemEdgeCases" name="test_system_endpoints_handle_unicode" time="0.005" /><testcase classname="skyspy.tests.test_acars_decoder.AirlineLookupTests" name="test_find_airline_by_iata_american" time="0.004" /><testcase classname="skyspy.tests.test_acars_decoder.AirlineLookupTests" name="test_find_airline_by_iata_delta" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.AirlineLookupTests" name="test_find_airline_by_iata_unknown" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.AirlineLookupTests" name="test_find_airline_by_icao_american" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.AirlineLookupTests" name="test_find_airline_by_icao_cargo" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.AirlineLookupTests" name="test_find_airline_by_icao_delta" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.AirlineLookupTests" name="test_find_airline_by_icao_international" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.AirlineLookupTests" name="test_find_airline_by_icao_southwest" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.AirlineLookupTests" name="test_find_airline_by_icao_united" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.AirlineLookupTests" name="test_find_airline_by_icao_unknown" time="0.004" /><testcase classname="skyspy.tests.test_acars_decoder.LabelLookupTests" name="test_get_label_name_known" time="0.005" /><testcase classname="skyspy.tests.test_acars_decoder.LabelLookupTests" name="test_get_label_name_unknown" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.LabelLookupTests" name="test_lookup_label_datalink" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.LabelLookupTests" name="test_lookup_label_oooi_in" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.LabelLookupTests" name="test_lookup_label_oooi_off" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.LabelLookupTests" name="test_lookup_label_oooi_on" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.LabelLookupTests" name="test_lookup_label_oooi_out" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.LabelLookupTests" name="test_lookup_label_unknown" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.LabelLookupTests" name="test_lookup_label_weather" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.CallsignParsingTests" name="test_parse_callsign_airline_only" time="0.004" /><testcase classname="skyspy.tests.test_acars_decoder.CallsignParsingTests" name="test_parse_callsign_cache_hit" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.CallsignParsingTests" name="test_parse_callsign_empty" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.CallsignParsingTests" name="test_parse_callsign_iata_format_american" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.CallsignParsingTests" name="test_parse_callsign_iata_format_unknown" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.CallsignParsingTests" name="test_parse_callsign_icao_format_american" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.CallsignParsingTests" name="test_parse_callsign_icao_format_leading_zeros" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.CallsignParsingTests" name="test_parse_callsign_icao_format_united" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.CallsignParsingTests" name="test_parse_callsign_icao_format_unknown_airline" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.CallsignParsingTests" name="test_parse_callsign_lowercase_normalized" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.CallsignParsingTests" name="test_parse_callsign_none" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.CallsignParsingTests" name="test_parse_callsign_short" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.CallsignParsingTests" name="test_parse_callsign_with_whitespace" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.DecodeLabelTests" name="test_decode_label_empty" time="0.005" /><testcase classname="skyspy.tests.test_acars_decoder.DecodeLabelTests" name="test_decode_label_known" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.DecodeLabelTests" name="test_decode_label_none" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.DecodeLabelTests" name="test_decode_label_unknown" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.DecodeLabelTests" name="test_decode_label_with_whitespace" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.CoordinateValidationTests" name="test_validate_coordinates_invalid_latitude" time="0.005" /><testcase classname="skyspy.tests.test_acars_decoder.CoordinateValidationTests" name="test_validate_coordinates_invalid_longitude" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.CoordinateValidationTests" name="test_validate_coordinates_valid" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.CoordinateParsingTests" name="test_parse_coordinates_empty_text" time="0.005" /><testcase classname="skyspy.tests.test_acars_decoder.CoordinateParsingTests" name="test_parse_coordinates_format1_north_west" time="0.005" /><testcase classname="skyspy.tests.test_acars_decoder.CoordinateParsingTests" name="test_parse_coordinates_format1_south_east" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.CoordinateParsingTests" name="test_parse_coordinates_format2_decimal_degrees" time="0.005" /><testcase classname="skyspy.tests.test_acars_decoder.CoordinateParsingTests" name="test_parse_coordinates_invalid_range" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.CoordinateParsingTests" name="test_parse_coordinates_no_coordinates" time="0.004" /><testcase classname="skyspy.tests.test_acars_decoder.H1MessageDecodingTests" name="test_decode_h1_empty" time="0.005" /><testcase classname="skyspy.tests.test_acars_decoder.H1MessageDecodingTests" name="test_decode_h1_flight_plan" time="0.005" /><testcase classname="skyspy.tests.test_acars_decoder.H1MessageDecodingTests" name="test_decode_h1_position_report" time="0.004" /><testcase classname="skyspy.tests.test_acars_decoder.H1MessageDecodingTests" name="test_decode_h1_progress_report" time="0.004" /><testcase classname="skyspy.tests.test_acars_decoder.H1MessageDecodingTests" name="test_decode_h1_unknown_format" time="0.004" /><testcase classname="skyspy.tests.test_acars_decoder.MessageTextDecodingTests" name="test_decode_empty_text" time="0.005" /><testcase classname="skyspy.tests.test_acars_decoder.MessageTextDecodingTests" name="test_decode_extracts_airport_codes" time="0.007" /><testcase classname="skyspy.tests.test_acars_decoder.MessageTextDecodingTests" name="test_decode_filters_invalid_airport_codes" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.MessageTextDecodingTests" name="test_decode_ground_station_squitter" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.MessageTextDecodingTests" name="test_decode_h1_via_main_decoder" time="0.005" /><testcase classname="skyspy.tests.test_acars_decoder.MessageTextDecodingTests" name="test_decode_oooi_event_in" time="0.005" /><testcase classname="skyspy.tests.test_acars_decoder.MessageTextDecodingTests" name="test_decode_oooi_event_off" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.MessageTextDecodingTests" name="test_decode_oooi_event_on" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.MessageTextDecodingTests" name="test_decode_oooi_event_out" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.MessageTextDecodingTests" name="test_decode_preserves_libacars_data" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.MessageTextDecodingTests" name="test_decode_weather_metar" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.MessageTextDecodingTests" name="test_decode_weather_taf" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.EnrichMessageTests" name="test_enrich_basic_message" time="0.005" /><testcase classname="skyspy.tests.test_acars_decoder.EnrichMessageTests" name="test_enrich_message_empty_text" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.EnrichMessageTests" name="test_enrich_message_preserves_all_original_fields" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.EnrichMessageTests" name="test_enrich_message_with_decoded_text" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.EnrichMessageTests" name="test_enrich_message_without_callsign" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.EnrichMessageTests" name="test_enrich_message_without_label" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.EdgeCaseTests" name="test_airport_codes_exclude_common_words" time="0.005" /><testcase classname="skyspy.tests.test_acars_decoder.EdgeCaseTests" name="test_airport_codes_international_regions" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.EdgeCaseTests" name="test_decode_message_unicode_text" time="0.004" /><testcase classname="skyspy.tests.test_acars_decoder.EdgeCaseTests" name="test_decode_message_very_long_text" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.EdgeCaseTests" name="test_enrich_message_does_not_modify_original" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.EdgeCaseTests" name="test_h1_message_with_route_waypoints" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.EdgeCaseTests" name="test_multiple_weather_labels" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.EdgeCaseTests" name="test_oooi_label_80" time="0.004" /><testcase classname="skyspy.tests.test_acars_decoder.EdgeCaseTests" name="test_parse_callsign_alphanumeric_iata" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.EdgeCaseTests" name="test_parse_callsign_numbers_only" time="0.003" /><testcase classname="skyspy.tests.test_acars_decoder.EdgeCaseTests" name="test_parse_callsign_special_characters" time="0.004" /><testcase classname="skyspy.tests.test_api_aircraft.AircraftListViewTests" name="test_list_aircraft_data_preserved" time="0.038"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:108: in test_list_aircraft_data_preserved
    response = self.client.get('/api/v1/aircraft/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftListViewTests" name="test_list_empty_cache" time="0.029"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:36: in test_list_empty_cache
    response = self.client.get('/api/v1/aircraft/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftListViewTests" name="test_list_response_structure" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:46: in test_list_response_structure
    response = self.client.get('/api/v1/aircraft/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftListViewTests" name="test_list_returns_200" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:31: in test_list_returns_200
    response = self.client.get('/api/v1/aircraft/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftListViewTests" name="test_list_timestamp_format" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:119: in test_list_timestamp_format
    response = self.client.get('/api/v1/aircraft/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftListViewTests" name="test_list_with_cached_aircraft" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:88: in test_list_with_cached_aircraft
    response = self.client.get('/api/v1/aircraft/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftRetrieveViewTests" name="test_retrieve_404_error_message" time="0.055"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:196: in test_retrieve_404_error_message
    response = self.client.get('/api/v1/aircraft/NOTFOUND/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftRetrieveViewTests" name="test_retrieve_aircraft_data" time="0.028"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:166: in test_retrieve_aircraft_data
    response = self.client.get('/api/v1/aircraft/ABC123/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftRetrieveViewTests" name="test_retrieve_by_icao_hex" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:182: in test_retrieve_by_icao_hex
    response = self.client.get('/api/v1/aircraft/ABC123/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftRetrieveViewTests" name="test_retrieve_case_sensitive" time="0.118"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:208: in test_retrieve_case_sensitive
    response = self.client.get('/api/v1/aircraft/abc123/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftRetrieveViewTests" name="test_retrieve_existing_aircraft" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:150: in test_retrieve_existing_aircraft
    response = self.client.get('/api/v1/aircraft/ABC123/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftRetrieveViewTests" name="test_retrieve_from_multiple_aircraft" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:220: in test_retrieve_from_multiple_aircraft
    response = self.client.get('/api/v1/aircraft/DEF456/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftRetrieveViewTests" name="test_retrieve_nonexistent_aircraft" time="0.029"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:189: in test_retrieve_nonexistent_aircraft
    response = self.client.get('/api/v1/aircraft/NOTFOUND/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftTopViewTests" name="test_top_climbing_only_positive" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:325: in test_top_climbing_only_positive
    response = self.client.get('/api/v1/aircraft/top/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftTopViewTests" name="test_top_closest_sorted" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:274: in test_top_closest_sorted
    response = self.client.get('/api/v1/aircraft/top/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftTopViewTests" name="test_top_default_limit" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:373: in test_top_default_limit
    response = self.client.get('/api/v1/aircraft/top/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftTopViewTests" name="test_top_empty_cache" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:258: in test_top_empty_cache
    response = self.client.get('/api/v1/aircraft/top/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftTopViewTests" name="test_top_fastest_sorted" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:308: in test_top_fastest_sorted
    response = self.client.get('/api/v1/aircraft/top/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftTopViewTests" name="test_top_highest_sorted" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:291: in test_top_highest_sorted
    response = self.client.get('/api/v1/aircraft/top/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftTopViewTests" name="test_top_limit_parameter" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:360: in test_top_limit_parameter
    response = self.client.get('/api/v1/aircraft/top/?limit=3')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftTopViewTests" name="test_top_military_filtered" time="0.025"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:343: in test_top_military_filtered
    response = self.client.get('/api/v1/aircraft/top/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftTopViewTests" name="test_top_requires_position" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:387: in test_top_requires_position
    response = self.client.get('/api/v1/aircraft/top/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftTopViewTests" name="test_top_response_structure" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:246: in test_top_response_structure
    response = self.client.get('/api/v1/aircraft/top/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftTopViewTests" name="test_top_returns_200" time="0.108"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:241: in test_top_returns_200
    response = self.client.get('/api/v1/aircraft/top/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftStatsViewTests" name="test_stats_altitude_bands" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:479: in test_stats_altitude_bands
    response = self.client.get('/api/v1/aircraft/stats/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftStatsViewTests" name="test_stats_categories" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:498: in test_stats_categories
    response = self.client.get('/api/v1/aircraft/stats/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftStatsViewTests" name="test_stats_counts" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:446: in test_stats_counts
    response = self.client.get('/api/v1/aircraft/stats/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftStatsViewTests" name="test_stats_emergency_squawks" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:463: in test_stats_emergency_squawks
    response = self.client.get('/api/v1/aircraft/stats/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftStatsViewTests" name="test_stats_empty_cache" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:429: in test_stats_empty_cache
    response = self.client.get('/api/v1/aircraft/stats/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftStatsViewTests" name="test_stats_messages_count" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:511: in test_stats_messages_count
    response = self.client.get('/api/v1/aircraft/stats/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftStatsViewTests" name="test_stats_response_structure" time="0.033"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:417: in test_stats_response_structure
    response = self.client.get('/api/v1/aircraft/stats/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftStatsViewTests" name="test_stats_returns_200" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:412: in test_stats_returns_200
    response = self.client.get('/api/v1/aircraft/stats/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.UATAircraftViewTests" name="test_uat_empty_cache" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:547: in test_uat_empty_cache
    response = self.client.get('/api/v1/uat/aircraft/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.UATAircraftViewTests" name="test_uat_response_structure" time="0.025"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:536: in test_uat_response_structure
    response = self.client.get('/api/v1/uat/aircraft/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.UATAircraftViewTests" name="test_uat_returns_200" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:531: in test_uat_returns_200
    response = self.client.get('/api/v1/uat/aircraft/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.UATAircraftViewTests" name="test_uat_separate_from_1090" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:573: in test_uat_separate_from_1090
    response_1090 = self.client.get('/api/v1/aircraft/')
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.UATAircraftViewTests" name="test_uat_with_cached_aircraft" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:561: in test_uat_with_cached_aircraft
    response = self.client.get('/api/v1/uat/aircraft/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftEndpointsIntegrationTests" name="test_all_endpoints_return_json" time="0.121"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:681: in test_all_endpoints_return_json
    response = self.client.get(endpoint)
               ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftEndpointsIntegrationTests" name="test_list_and_retrieve_consistency" time="0.025"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:635: in test_list_and_retrieve_consistency
    list_response = self.client.get('/api/v1/aircraft/')
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftEndpointsIntegrationTests" name="test_no_authentication_required" time="0.029"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:700: in test_no_authentication_required
    response = self.client.get(endpoint)
               ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftEndpointsIntegrationTests" name="test_stats_matches_list" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:648: in test_stats_matches_list
    list_response = self.client.get('/api/v1/aircraft/')
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_aircraft.AircraftEndpointsIntegrationTests" name="test_top_aircraft_in_list" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_aircraft.py:658: in test_top_aircraft_in_list
    top_response = self.client.get('/api/v1/aircraft/top/')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleListViewTests" name="test_list_empty" time="0.028"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:46: in test_list_empty
    response = self.client.get('/api/v1/alerts/rules/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleListViewTests" name="test_list_filter_by_enabled" time="0.036"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:93: in test_list_filter_by_enabled
    response = self.client.get('/api/v1/alerts/rules/?enabled=true')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleListViewTests" name="test_list_filter_by_priority" time="0.031"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:105: in test_list_filter_by_priority
    response = self.client.get('/api/v1/alerts/rules/?priority=critical')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleListViewTests" name="test_list_filter_by_rule_type" time="0.031"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:116: in test_list_filter_by_rule_type
    response = self.client.get('/api/v1/alerts/rules/?rule_type=icao')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleListViewTests" name="test_list_returns_200" time="0.025"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:41: in test_list_returns_200
    response = self.client.get('/api/v1/alerts/rules/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleListViewTests" name="test_list_rule_structure" time="0.031"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:77: in test_list_rule_structure
    response = self.client.get('/api/v1/alerts/rules/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleListViewTests" name="test_list_with_rules" time="0.037"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:59: in test_list_with_rules
    response = self.client.get('/api/v1/alerts/rules/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleCreateViewTests" name="test_create_default_values" time="0.057"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:235: in test_create_default_values
    response = self.client.post('/api/v1/alerts/rules/', data, format='json')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleCreateViewTests" name="test_create_invalid_priority" time="0.038"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:250: in test_create_invalid_priority
    response = self.client.post('/api/v1/alerts/rules/', data, format='json')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleCreateViewTests" name="test_create_missing_name" time="0.031"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:226: in test_create_missing_name
    response = self.client.post('/api/v1/alerts/rules/', data, format='json')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleCreateViewTests" name="test_create_returns_rule" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:156: in test_create_returns_rule
    response = self.client.post('/api/v1/alerts/rules/', data, format='json')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleCreateViewTests" name="test_create_rule_persisted" time="0.029"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:171: in test_create_rule_persisted
    response = self.client.post('/api/v1/alerts/rules/', data, format='json')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleCreateViewTests" name="test_create_simple_rule" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:145: in test_create_simple_rule
    response = self.client.post('/api/v1/alerts/rules/', data, format='json')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleCreateViewTests" name="test_create_with_all_fields" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:189: in test_create_with_all_fields
    response = self.client.post('/api/v1/alerts/rules/', data, format='json')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleCreateViewTests" name="test_create_with_complex_conditions" time="0.030"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:216: in test_create_with_complex_conditions
    response = self.client.post('/api/v1/alerts/rules/', data, format='json')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleRetrieveViewTests" name="test_retrieve_existing_rule" time="0.035"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:274: in test_retrieve_existing_rule
    response = self.client.get(f'/api/v1/alerts/rules/{self.rule.id}/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleRetrieveViewTests" name="test_retrieve_nonexistent_rule" time="0.033"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:288: in test_retrieve_nonexistent_rule
    response = self.client.get('/api/v1/alerts/rules/99999/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleRetrieveViewTests" name="test_retrieve_rule_data" time="0.031"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:279: in test_retrieve_rule_data
    response = self.client.get(f'/api/v1/alerts/rules/{self.rule.id}/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleUpdateViewTests" name="test_full_update" time="0.033"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:321: in test_full_update
    response = self.client.put(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:307: in put
    response = super().put(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:217: in put
    return self.generic('PUT', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleUpdateViewTests" name="test_partial_update" time="0.030"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:334: in test_partial_update
    response = self.client.patch(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:315: in patch
    response = super().patch(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:221: in patch
    return self.generic('PATCH', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleUpdateViewTests" name="test_update_enabled_status" time="0.031"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:387: in test_update_enabled_status
    response = self.client.patch(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:315: in patch
    response = super().patch(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:221: in patch
    return self.generic('PATCH', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleUpdateViewTests" name="test_update_nonexistent_rule" time="0.030"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:363: in test_update_nonexistent_rule
    response = self.client.patch(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:315: in patch
    response = super().patch(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:221: in patch
    return self.generic('PATCH', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleUpdateViewTests" name="test_update_persisted" time="0.030"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:350: in test_update_persisted
    self.client.patch(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:315: in patch
    response = super().patch(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:221: in patch
    return self.generic('PATCH', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleUpdateViewTests" name="test_update_priority" time="0.032"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:374: in test_update_priority
    response = self.client.patch(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:315: in patch
    response = super().patch(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:221: in patch
    return self.generic('PATCH', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleDeleteViewTests" name="test_delete_nonexistent_rule" time="0.036"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:424: in test_delete_nonexistent_rule
    response = self.client.delete('/api/v1/alerts/rules/99999/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:323: in delete
    response = super().delete(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:225: in delete
    return self.generic('DELETE', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleDeleteViewTests" name="test_delete_removes_from_db" time="0.029"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:418: in test_delete_removes_from_db
    self.client.delete(f'/api/v1/alerts/rules/{rule_id}/')
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:323: in delete
    response = super().delete(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:225: in delete
    return self.generic('DELETE', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleDeleteViewTests" name="test_delete_rule" time="0.030"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:412: in test_delete_rule
    response = self.client.delete(f'/api/v1/alerts/rules/{self.rule.id}/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:323: in delete
    response = super().delete(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:225: in delete
    return self.generic('DELETE', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleDeleteViewTests" name="test_delete_twice" time="0.034"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:429: in test_delete_twice
    self.client.delete(f'/api/v1/alerts/rules/{self.rule.id}/')
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:323: in delete
    response = super().delete(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:225: in delete
    return self.generic('DELETE', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleToggleViewTests" name="test_toggle_disabled_to_enabled" time="0.040"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:462: in test_toggle_disabled_to_enabled
    response = self.client.post(f'/api/v1/alerts/rules/{self.rule.id}/toggle/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleToggleViewTests" name="test_toggle_enabled_to_disabled" time="0.031"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:451: in test_toggle_enabled_to_disabled
    response = self.client.post(f'/api/v1/alerts/rules/{self.rule.id}/toggle/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleToggleViewTests" name="test_toggle_nonexistent_rule" time="0.031"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:478: in test_toggle_nonexistent_rule
    response = self.client.post('/api/v1/alerts/rules/99999/toggle/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleToggleViewTests" name="test_toggle_returns_updated_rule" time="0.034"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:470: in test_toggle_returns_updated_rule
    response = self.client.post(f'/api/v1/alerts/rules/{self.rule.id}/toggle/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertRuleToggleViewTests" name="test_toggle_twice_returns_to_original" time="0.031"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:485: in test_toggle_twice_returns_to_original
    self.client.post(f'/api/v1/alerts/rules/{self.rule.id}/toggle/')
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertHistoryListViewTests" name="test_list_empty" time="0.028"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:513: in test_list_empty
    response = self.client.get('/api/v1/alerts/history/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertHistoryListViewTests" name="test_list_filter_by_icao" time="0.033"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:569: in test_list_filter_by_icao
    response = self.client.get('/api/v1/alerts/history/?icao_hex=ABC123')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertHistoryListViewTests" name="test_list_filter_by_priority" time="0.032"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:581: in test_list_filter_by_priority
    response = self.client.get('/api/v1/alerts/history/?priority=critical')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertHistoryListViewTests" name="test_list_ordered_by_time" time="0.033"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:593: in test_list_ordered_by_time
    response = self.client.get('/api/v1/alerts/history/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertHistoryListViewTests" name="test_list_returns_200" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:508: in test_list_returns_200
    response = self.client.get('/api/v1/alerts/history/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertHistoryListViewTests" name="test_list_time_filter" time="0.035"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:557: in test_list_time_filter
    response = self.client.get('/api/v1/alerts/history/?hours=24')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertHistoryListViewTests" name="test_list_with_history" time="0.148"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:531: in test_list_with_history
    response = self.client.get('/api/v1/alerts/history/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertHistoryClearViewTests" name="test_clear_deletes_all" time="0.035"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:626: in test_clear_deletes_all
    response = self.client.delete('/api/v1/alerts/history/clear/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:323: in delete
    response = super().delete(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:225: in delete
    return self.generic('DELETE', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertHistoryClearViewTests" name="test_clear_does_not_affect_rules" time="0.031"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:654: in test_clear_does_not_affect_rules
    self.client.delete('/api/v1/alerts/history/clear/')
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:323: in delete
    response = super().delete(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:225: in delete
    return self.generic('DELETE', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertHistoryClearViewTests" name="test_clear_empty_history" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:644: in test_clear_empty_history
    response = self.client.delete('/api/v1/alerts/history/clear/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:323: in delete
    response = super().delete(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:225: in delete
    return self.generic('DELETE', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertHistoryClearViewTests" name="test_clear_returns_200" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:616: in test_clear_returns_200
    response = self.client.delete('/api/v1/alerts/history/clear/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:323: in delete
    response = super().delete(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:225: in delete
    return self.generic('DELETE', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertHistoryClearViewTests" name="test_clear_returns_count" time="0.035"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:636: in test_clear_returns_count
    response = self.client.delete('/api/v1/alerts/history/clear/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:323: in delete
    response = super().delete(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:225: in delete
    return self.generic('DELETE', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertsIntegrationTests" name="test_all_endpoints_return_json" time="0.038"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:738: in test_all_endpoints_return_json
    response = self.client.get(endpoint)
               ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertsIntegrationTests" name="test_crud_workflow" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:676: in test_crud_workflow
    create_response = self.client.post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertsIntegrationTests" name="test_history_linked_to_rule" time="0.033"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:719: in test_history_linked_to_rule
    response = self.client.get('/api/v1/alerts/history/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_alerts.AlertsIntegrationTests" name="test_no_authentication_required" time="0.031"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_alerts.py:766: in test_no_authentication_required
    response = self.client.get(endpoint)
               ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SightingViewSetTests" name="test_list_empty" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:41: in test_list_empty
    response = self.client.get('/api/v1/sightings/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SightingViewSetTests" name="test_list_filter_by_callsign" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:143: in test_list_filter_by_callsign
    response = self.client.get('/api/v1/sightings/?callsign=UAL')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SightingViewSetTests" name="test_list_filter_by_icao" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:128: in test_list_filter_by_icao
    response = self.client.get('/api/v1/sightings/?icao=ABC123')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SightingViewSetTests" name="test_list_filter_by_military" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:158: in test_list_filter_by_military
    response = self.client.get('/api/v1/sightings/?is_military=true')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SightingViewSetTests" name="test_list_large_result_set" time="0.116"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:185: in test_list_large_result_set
    response = self.client.get('/api/v1/sightings/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SightingViewSetTests" name="test_list_ordered_by_timestamp" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:169: in test_list_ordered_by_timestamp
    response = self.client.get('/api/v1/sightings/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SightingViewSetTests" name="test_list_read_only" time="0.025"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:195: in test_list_read_only
    response = self.client.post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SightingViewSetTests" name="test_list_returns_200" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:36: in test_list_returns_200
    response = self.client.get('/api/v1/sightings/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SightingViewSetTests" name="test_list_sighting_structure" time="0.029"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:88: in test_list_sighting_structure
    response = self.client.get('/api/v1/sightings/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SightingViewSetTests" name="test_list_time_filter" time="0.028"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:116: in test_list_time_filter
    response = self.client.get('/api/v1/sightings/?hours=24')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SightingViewSetTests" name="test_list_with_sightings" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:68: in test_list_with_sightings
    response = self.client.get('/api/v1/sightings/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SightingRetrieveTests" name="test_retrieve_existing_sighting" time="0.028"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:224: in test_retrieve_existing_sighting
    response = self.client.get(f'/api/v1/sightings/{self.sighting.id}/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SightingRetrieveTests" name="test_retrieve_nonexistent_sighting" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:240: in test_retrieve_nonexistent_sighting
    response = self.client.get('/api/v1/sightings/99999/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SightingRetrieveTests" name="test_retrieve_sighting_data" time="0.033"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:229: in test_retrieve_sighting_data
    response = self.client.get(f'/api/v1/sightings/{self.sighting.id}/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SessionViewSetTests" name="test_list_duration_calculation" time="0.035"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:330: in test_list_duration_calculation
    response = self.client.get('/api/v1/sessions/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SessionViewSetTests" name="test_list_empty" time="0.025"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:263: in test_list_empty
    response = self.client.get('/api/v1/sessions/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SessionViewSetTests" name="test_list_filter_by_icao" time="0.032"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:376: in test_list_filter_by_icao
    response = self.client.get('/api/v1/sessions/?icao_hex=ABC123')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SessionViewSetTests" name="test_list_filter_military_only" time="0.029"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:365: in test_list_filter_military_only
    response = self.client.get('/api/v1/sessions/?military_only=true')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SessionViewSetTests" name="test_list_ordered_by_last_seen" time="0.031"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:387: in test_list_ordered_by_last_seen
    response = self.client.get('/api/v1/sessions/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SessionViewSetTests" name="test_list_read_only" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:395: in test_list_read_only
    response = self.client.post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SessionViewSetTests" name="test_list_returns_200" time="0.035"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:258: in test_list_returns_200
    response = self.client.get('/api/v1/sessions/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SessionViewSetTests" name="test_list_session_structure" time="0.030"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:307: in test_list_session_structure
    response = self.client.get('/api/v1/sessions/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SessionViewSetTests" name="test_list_time_filter" time="0.031"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:353: in test_list_time_filter
    response = self.client.get('/api/v1/sessions/?hours=24')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SessionViewSetTests" name="test_list_with_sessions" time="0.030"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:280: in test_list_with_sessions
    response = self.client.get('/api/v1/sessions/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SessionRetrieveTests" name="test_retrieve_existing_session" time="0.031"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:423: in test_retrieve_existing_session
    response = self.client.get(f'/api/v1/sessions/{self.session.id}/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SessionRetrieveTests" name="test_retrieve_nonexistent_session" time="0.032"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:438: in test_retrieve_nonexistent_session
    response = self.client.get('/api/v1/sessions/99999/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.SessionRetrieveTests" name="test_retrieve_session_data" time="0.029"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:428: in test_retrieve_session_data
    response = self.client.get(f'/api/v1/sessions/{self.session.id}/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryStatsViewTests" name="test_stats_calculations" time="0.030"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:535: in test_stats_calculations
    response = self.client.get('/api/v1/history/stats/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryStatsViewTests" name="test_stats_empty" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:477: in test_stats_empty
    response = self.client.get('/api/v1/history/stats/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryStatsViewTests" name="test_stats_response_structure" time="0.028"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:463: in test_stats_response_structure
    response = self.client.get('/api/v1/history/stats/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryStatsViewTests" name="test_stats_returns_200" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:458: in test_stats_returns_200
    response = self.client.get('/api/v1/history/stats/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryStatsViewTests" name="test_stats_time_filter" time="0.029"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:565: in test_stats_time_filter
    response = self.client.get('/api/v1/history/stats/?hours=24')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryStatsViewTests" name="test_stats_with_data" time="0.032"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:508: in test_stats_with_data
    response = self.client.get('/api/v1/history/stats/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryTrendsViewTests" name="test_trends_empty" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:613: in test_trends_empty
    response = self.client.get('/api/v1/history/trends/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryTrendsViewTests" name="test_trends_interval_structure" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:654: in test_trends_interval_structure
    response = self.client.get('/api/v1/history/trends/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryTrendsViewTests" name="test_trends_response_structure" time="0.025"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:591: in test_trends_response_structure
    response = self.client.get('/api/v1/history/trends/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryTrendsViewTests" name="test_trends_returns_200" time="0.033"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:586: in test_trends_returns_200
    response = self.client.get('/api/v1/history/trends/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryTrendsViewTests" name="test_trends_summary_structure" time="0.029"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:601: in test_trends_summary_structure
    response = self.client.get('/api/v1/history/trends/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryTrendsViewTests" name="test_trends_with_data" time="0.051"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:635: in test_trends_with_data
    response = self.client.get('/api/v1/history/trends/?hours=6')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryTopPerformersViewTests" name="test_top_performers_empty" time="0.030"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:702: in test_top_performers_empty
    response = self.client.get('/api/v1/history/top-performers/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryTopPerformersViewTests" name="test_top_performers_entry_structure" time="0.034"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:754: in test_top_performers_entry_structure
    response = self.client.get('/api/v1/history/top-performers/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryTopPerformersViewTests" name="test_top_performers_limit" time="0.053"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:781: in test_top_performers_limit
    response = self.client.get('/api/v1/history/top-performers/?limit=5')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryTopPerformersViewTests" name="test_top_performers_response_structure" time="0.025"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:687: in test_top_performers_response_structure
    response = self.client.get('/api/v1/history/top-performers/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryTopPerformersViewTests" name="test_top_performers_returns_200" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:682: in test_top_performers_returns_200
    response = self.client.get('/api/v1/history/top-performers/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryTopPerformersViewTests" name="test_top_performers_sorted_correctly" time="0.033"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:813: in test_top_performers_sorted_correctly
    response = self.client.get('/api/v1/history/top-performers/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryTopPerformersViewTests" name="test_top_performers_with_sessions" time="0.038"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:728: in test_top_performers_with_sessions
    response = self.client.get('/api/v1/history/top-performers/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryIntegrationTests" name="test_all_endpoints_return_json" time="0.033"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:851: in test_all_endpoints_return_json
    response = self.client.get(endpoint)
               ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryIntegrationTests" name="test_consistent_time_filtering" time="0.038"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:902: in test_consistent_time_filtering
    sightings_response = self.client.get('/api/v1/sightings/?hours=24')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryIntegrationTests" name="test_no_authentication_required" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:871: in test_no_authentication_required
    response = self.client.get(endpoint)
               ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryIntegrationTests" name="test_read_only_endpoints" time="0.031"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:952: in test_read_only_endpoints
    response = self.client.post(endpoint, {}, format='json')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_history.HistoryIntegrationTests" name="test_stats_match_list_counts" time="0.043"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_history.py:924: in test_stats_match_list_counts
    sightings_response = self.client.get('/api/v1/sightings/')
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventListViewTests" name="test_list_empty" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:43: in test_list_empty
    response = self.client.get('/api/v1/safety/events/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventListViewTests" name="test_list_event_structure" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:87: in test_list_event_structure
    response = self.client.get('/api/v1/safety/events/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventListViewTests" name="test_list_filter_by_acknowledged" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:139: in test_list_filter_by_acknowledged
    response = self.client.get('/api/v1/safety/events/?acknowledged=true')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventListViewTests" name="test_list_filter_by_event_type" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:105: in test_list_filter_by_event_type
    response = self.client.get('/api/v1/safety/events/?event_type=tcas_ra')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventListViewTests" name="test_list_filter_by_icao" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:128: in test_list_filter_by_icao
    response = self.client.get('/api/v1/safety/events/?icao_hex=ABC123')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventListViewTests" name="test_list_filter_by_severity" time="0.182"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:117: in test_list_filter_by_severity
    response = self.client.get('/api/v1/safety/events/?severity=critical')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventListViewTests" name="test_list_ordered_by_timestamp" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:172: in test_list_ordered_by_timestamp
    response = self.client.get('/api/v1/safety/events/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventListViewTests" name="test_list_returns_200" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:38: in test_list_returns_200
    response = self.client.get('/api/v1/safety/events/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventListViewTests" name="test_list_time_filter" time="0.028"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:161: in test_list_time_filter
    response = self.client.get('/api/v1/safety/events/?hours=24')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventListViewTests" name="test_list_with_events" time="0.028"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:67: in test_list_with_events
    response = self.client.get('/api/v1/safety/events/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventRetrieveViewTests" name="test_retrieve_event_data" time="0.028"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:205: in test_retrieve_event_data
    response = self.client.get(f'/api/v1/safety/events/{self.event.id}/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventRetrieveViewTests" name="test_retrieve_existing_event" time="0.028"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:200: in test_retrieve_existing_event
    response = self.client.get(f'/api/v1/safety/events/{self.event.id}/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventRetrieveViewTests" name="test_retrieve_nonexistent_event" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:216: in test_retrieve_nonexistent_event
    response = self.client.get('/api/v1/safety/events/99999/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventStatsViewTests" name="test_stats_counts_by_severity" time="0.029"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:283: in test_stats_counts_by_severity
    response = self.client.get('/api/v1/safety/events/stats/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventStatsViewTests" name="test_stats_counts_by_type" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:271: in test_stats_counts_by_type
    response = self.client.get('/api/v1/safety/events/stats/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventStatsViewTests" name="test_stats_event_rate" time="0.039"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:317: in test_stats_event_rate
    response = self.client.get('/api/v1/safety/events/stats/?hours=24')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventStatsViewTests" name="test_stats_recent_events" time="0.025"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:342: in test_stats_recent_events
    response = self.client.get('/api/v1/safety/events/stats/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventStatsViewTests" name="test_stats_response_structure" time="0.025"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:239: in test_stats_response_structure
    response = self.client.get('/api/v1/safety/events/stats/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventStatsViewTests" name="test_stats_returns_200" time="0.028"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:234: in test_stats_returns_200
    response = self.client.get('/api/v1/safety/events/stats/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventStatsViewTests" name="test_stats_thresholds" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:253: in test_stats_thresholds
    response = self.client.get('/api/v1/safety/events/stats/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventStatsViewTests" name="test_stats_time_filter" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:358: in test_stats_time_filter
    response = self.client.get('/api/v1/safety/events/stats/?hours=24')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventStatsViewTests" name="test_stats_top_aircraft" time="0.028"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:329: in test_stats_top_aircraft
    response = self.client.get('/api/v1/safety/events/stats/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventStatsViewTests" name="test_stats_total_events" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:306: in test_stats_total_events
    response = self.client.get('/api/v1/safety/events/stats/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventStatsViewTests" name="test_stats_unique_aircraft" time="0.063"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:295: in test_stats_unique_aircraft
    response = self.client.get('/api/v1/safety/events/stats/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventAircraftStatsViewTests" name="test_aircraft_stats_empty" time="0.042"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:393: in test_aircraft_stats_empty
    response = self.client.get('/api/v1/safety/events/aircraft/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventAircraftStatsViewTests" name="test_aircraft_stats_ordered_by_event_count" time="0.034"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:470: in test_aircraft_stats_ordered_by_event_count
    response = self.client.get('/api/v1/safety/events/aircraft/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventAircraftStatsViewTests" name="test_aircraft_stats_response_structure" time="0.025"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:383: in test_aircraft_stats_response_structure
    response = self.client.get('/api/v1/safety/events/aircraft/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventAircraftStatsViewTests" name="test_aircraft_stats_returns_200" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:378: in test_aircraft_stats_returns_200
    response = self.client.get('/api/v1/safety/events/aircraft/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventAircraftStatsViewTests" name="test_aircraft_stats_structure" time="0.025"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:433: in test_aircraft_stats_structure
    response = self.client.get('/api/v1/safety/events/aircraft/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventAircraftStatsViewTests" name="test_aircraft_stats_with_events" time="0.031"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:414: in test_aircraft_stats_with_events
    response = self.client.get('/api/v1/safety/events/aircraft/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventAircraftStatsViewTests" name="test_aircraft_stats_worst_severity" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:457: in test_aircraft_stats_worst_severity
    response = self.client.get('/api/v1/safety/events/aircraft/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventAcknowledgeViewTests" name="test_acknowledge_already_acknowledged" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:531: in test_acknowledge_already_acknowledged
    response = self.client.post(f'/api/v1/safety/events/{self.event.id}/acknowledge/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventAcknowledgeViewTests" name="test_acknowledge_event" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:497: in test_acknowledge_event
    response = self.client.post(f'/api/v1/safety/events/{self.event.id}/acknowledge/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventAcknowledgeViewTests" name="test_acknowledge_nonexistent_event" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:522: in test_acknowledge_nonexistent_event
    response = self.client.post('/api/v1/safety/events/99999/acknowledge/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventAcknowledgeViewTests" name="test_acknowledge_returns_event" time="0.025"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:514: in test_acknowledge_returns_event
    response = self.client.post(f'/api/v1/safety/events/{self.event.id}/acknowledge/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventAcknowledgeViewTests" name="test_acknowledge_sets_timestamp" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:507: in test_acknowledge_sets_timestamp
    self.client.post(f'/api/v1/safety/events/{self.event.id}/acknowledge/')
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventUnacknowledgeViewTests" name="test_unacknowledge_clears_timestamp" time="0.028"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:570: in test_unacknowledge_clears_timestamp
    self.client.delete(f'/api/v1/safety/events/{self.event.id}/unacknowledge/')
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:323: in delete
    response = super().delete(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:225: in delete
    return self.generic('DELETE', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventUnacknowledgeViewTests" name="test_unacknowledge_event" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:560: in test_unacknowledge_event
    response = self.client.delete(f'/api/v1/safety/events/{self.event.id}/unacknowledge/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:323: in delete
    response = super().delete(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:225: in delete
    return self.generic('DELETE', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventUnacknowledgeViewTests" name="test_unacknowledge_nonexistent_event" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:585: in test_unacknowledge_nonexistent_event
    response = self.client.delete('/api/v1/safety/events/99999/unacknowledge/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:323: in delete
    response = super().delete(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:225: in delete
    return self.generic('DELETE', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventUnacknowledgeViewTests" name="test_unacknowledge_returns_event" time="0.032"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:577: in test_unacknowledge_returns_event
    response = self.client.delete(f'/api/v1/safety/events/{self.event.id}/unacknowledge/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:323: in delete
    response = super().delete(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:225: in delete
    return self.generic('DELETE', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventDeleteViewTests" name="test_delete_event" time="0.028"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:607: in test_delete_event
    response = self.client.delete(f'/api/v1/safety/events/{self.event.id}/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:323: in delete
    response = super().delete(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:225: in delete
    return self.generic('DELETE', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventDeleteViewTests" name="test_delete_nonexistent_event" time="0.025"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:619: in test_delete_nonexistent_event
    response = self.client.delete('/api/v1/safety/events/99999/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:323: in delete
    response = super().delete(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:225: in delete
    return self.generic('DELETE', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventDeleteViewTests" name="test_delete_removes_from_db" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:613: in test_delete_removes_from_db
    self.client.delete(f'/api/v1/safety/events/{event_id}/')
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:323: in delete
    response = super().delete(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:225: in delete
    return self.generic('DELETE', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventValidationTests" name="test_event_types" time="0.011" /><testcase classname="skyspy.tests.test_api_safety.SafetyEventValidationTests" name="test_severity_levels" time="0.006" /><testcase classname="skyspy.tests.test_api_safety.SafetyEventsIntegrationTests" name="test_acknowledge_workflow" time="0.030"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:684: in test_acknowledge_workflow
    ack_response = self.client.post(f'/api/v1/safety/events/{event.id}/acknowledge/')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:299: in post
    response = super().post(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:213: in post
    return self.generic('POST', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventsIntegrationTests" name="test_all_endpoints_return_json" time="0.028"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:727: in test_all_endpoints_return_json
    response = self.client.get(endpoint)
               ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventsIntegrationTests" name="test_http_methods_restricted" time="0.025"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:763: in test_http_methods_restricted
    response = self.client.put(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:307: in put
    response = super().put(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:217: in put
    return self.generic('PUT', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventsIntegrationTests" name="test_no_authentication_required" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:748: in test_no_authentication_required
    response = self.client.get(endpoint)
               ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_safety.SafetyEventsIntegrationTests" name="test_stats_consistency" time="0.028"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_safety.py:707: in test_stats_consistency
    list_response = self.client.get('/api/v1/safety/events/')
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.HealthCheckViewTests" name="test_health_check_api_v1_endpoint" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:91: in test_health_check_api_v1_endpoint
    response = self.client.get('/api/v1/system/health')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.HealthCheckViewTests" name="test_health_check_cache_status" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:66: in test_health_check_cache_status
    response = self.client.get('/health')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.HealthCheckViewTests" name="test_health_check_celery_status" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:74: in test_health_check_celery_status
    response = self.client.get('/health')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.HealthCheckViewTests" name="test_health_check_celery_with_heartbeat" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:84: in test_health_check_celery_with_heartbeat
    response = self.client.get('/health')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.HealthCheckViewTests" name="test_health_check_database_up" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:57: in test_health_check_database_up
    response = self.client.get('/health')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.HealthCheckViewTests" name="test_health_check_no_authentication_required" time="0.025"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:98: in test_health_check_no_authentication_required
    response = self.client.get('/health')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.HealthCheckViewTests" name="test_health_check_response_structure" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:42: in test_health_check_response_structure
    response = self.client.get('/health')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.HealthCheckViewTests" name="test_health_check_returns_200" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:32: in test_health_check_returns_200
    response = self.client.get('/health')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.HealthCheckViewTests" name="test_health_check_timestamp_format" time="0.025"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:103: in test_health_check_timestamp_format
    response = self.client.get('/health')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.HealthCheckViewTests" name="test_health_check_with_trailing_slash" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:37: in test_health_check_with_trailing_slash
    response = self.client.get('/health/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.StatusViewTests" name="test_status_adsb_online_from_cache" time="0.032"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:200: in test_status_adsb_online_from_cache
    response = self.client.get('/api/v1/system/status')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.StatusViewTests" name="test_status_counts_are_integers" time="0.025"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:171: in test_status_counts_are_integers
    response = self.client.get('/api/v1/system/status')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.StatusViewTests" name="test_status_location_structure" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:153: in test_status_location_structure
    response = self.client.get('/api/v1/system/status')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.StatusViewTests" name="test_status_no_authentication_required" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:208: in test_status_no_authentication_required
    response = self.client.get('/api/v1/system/status')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.StatusViewTests" name="test_status_response_structure" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:135: in test_status_response_structure
    response = self.client.get('/api/v1/system/status')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.StatusViewTests" name="test_status_returns_200" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:125: in test_status_returns_200
    response = self.client.get('/api/v1/system/status')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.StatusViewTests" name="test_status_version_format" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:162: in test_status_version_format
    response = self.client.get('/api/v1/system/status')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.StatusViewTests" name="test_status_with_cached_aircraft" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:191: in test_status_with_cached_aircraft
    response = self.client.get('/api/v1/system/status')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.StatusViewTests" name="test_status_with_trailing_slash" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:130: in test_status_with_trailing_slash
    response = self.client.get('/api/v1/system/status/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.SystemInfoViewTests" name="test_info_aircraft_endpoints" time="0.027"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:255: in test_info_aircraft_endpoints
    response = self.client.get('/api/v1/system/info')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.SystemInfoViewTests" name="test_info_endpoints_structure" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:241: in test_info_endpoints_structure
    response = self.client.get('/api/v1/system/info')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.SystemInfoViewTests" name="test_info_no_authentication_required" time="0.034"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:277: in test_info_no_authentication_required
    response = self.client.get('/api/v1/system/info')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.SystemInfoViewTests" name="test_info_response_structure" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:231: in test_info_response_structure
    response = self.client.get('/api/v1/system/info')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.SystemInfoViewTests" name="test_info_returns_200" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:221: in test_info_returns_200
    response = self.client.get('/api/v1/system/info')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.SystemInfoViewTests" name="test_info_system_endpoints" time="0.024"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:266: in test_info_system_endpoints
    response = self.client.get('/api/v1/system/info')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.SystemInfoViewTests" name="test_info_with_trailing_slash" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:226: in test_info_with_trailing_slash
    response = self.client.get('/api/v1/system/info/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.MetricsViewTests" name="test_metrics_disabled_error_message" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:314: in test_metrics_disabled_error_message
    response = self.client.get('/metrics')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.MetricsViewTests" name="test_metrics_no_authentication_required" time="0.033"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:331: in test_metrics_no_authentication_required
    response = self.client.get('/metrics')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.MetricsViewTests" name="test_metrics_returns_200_when_enabled" time="0.032"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:295: in test_metrics_returns_200_when_enabled
    response = self.client.get('/metrics')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.MetricsViewTests" name="test_metrics_returns_503_when_disabled" time="0.025"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:307: in test_metrics_returns_503_when_disabled
    response = self.client.get('/metrics')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.MetricsViewTests" name="test_metrics_with_trailing_slash" time="0.025"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:321: in test_metrics_with_trailing_slash
    response = self.client.get('/metrics/')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.SystemEndpointsIntegrationTests" name="test_all_system_endpoints_accessible" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:361: in test_all_system_endpoints_accessible
    response = self.client.get(endpoint)
               ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.SystemEndpointsIntegrationTests" name="test_head_request" time="0.026"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:402: in test_head_request
    response = self.client.head('/health')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1187: in head
    response = super().head(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:518: in head
    return self.generic(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.SystemEndpointsIntegrationTests" name="test_json_content_type" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:377: in test_json_content_type
    response = self.client.get(endpoint)
               ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.SystemEndpointsIntegrationTests" name="test_options_request" time="0.023"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:396: in test_options_request
    response = self.client.options('/health')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:331: in options
    response = super().options(
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:229: in options
    return self.generic('OPTIONS', path, data, content_type, **extra)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_api_system.SystemEndpointsIntegrationTests" name="test_version_consistency" time="0.025"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/test_api_system.py:386: in test_version_consistency
    status_response = self.client.get('/api/v1/system/status')
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:292: in get
    response = super().get(path, data=data, **extra)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:209: in get
    return self.generic('GET', path, **r)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:237: in generic
    return super().generic(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:289: in request
    return super().request(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework/test.py:241: in request
    request = super().request(**kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:192: in _get_response
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.test_services_acars.LRUCacheUnitTests" name="test_cache_add_and_contains" time="0.006" /><testcase classname="skyspy.tests.test_services_acars.LRUCacheUnitTests" name="test_cache_expired_cleanup_on_add" time="1.111" /><testcase classname="skyspy.tests.test_services_acars.LRUCacheUnitTests" name="test_cache_lru_order_maintained" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.LRUCacheUnitTests" name="test_cache_maxsize_eviction" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.LRUCacheUnitTests" name="test_cache_size" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.LRUCacheUnitTests" name="test_cache_thread_safety" time="0.027" /><testcase classname="skyspy.tests.test_services_acars.LRUCacheUnitTests" name="test_cache_ttl_expiration" time="1.113" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceMessageHashTests" name="test_compute_hash_different_icao" time="0.007" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceMessageHashTests" name="test_compute_hash_different_timestamp" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceMessageHashTests" name="test_compute_hash_handles_missing_fields" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceMessageHashTests" name="test_compute_hash_same_messages" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceMessageHashTests" name="test_compute_hash_text_truncated_to_50_chars" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceMessageHashTests" name="test_compute_hash_timestamp_rounded_to_second" time="0.004" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceDeduplicationTests" name="test_is_duplicate_first_message" time="0.005" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceDeduplicationTests" name="test_is_duplicate_increments_stats" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceDeduplicationTests" name="test_is_duplicate_same_message_twice" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceNormalizationTests" name="test_normalize_acars_ack_field" time="0.005" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceNormalizationTests" name="test_normalize_acars_alternate_icao_field" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceNormalizationTests" name="test_normalize_acars_basic_message" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceNormalizationTests" name="test_normalize_acars_callsign_stripped" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceNormalizationTests" name="test_normalize_acars_lowercase_icao" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceNormalizationTests" name="test_normalize_acars_registration_with_dots" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceNormalizationTests" name="test_normalize_acars_station_id_from_app" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceNormalizationTests" name="test_normalize_frequency_already_mhz" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceNormalizationTests" name="test_normalize_frequency_from_hz" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceNormalizationTests" name="test_normalize_frequency_invalid_returns_none" time="0.004" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceNormalizationTests" name="test_normalize_unknown_source_returns_none" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceNormalizationTests" name="test_normalize_vdlm2_flat_format" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceNormalizationTests" name="test_normalize_vdlm2_nested_dumpvdl2_format" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceNormalizationTests" name="test_normalize_vdlm2_nested_frequency_from_hz" time="0.004" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceStatisticsTests" name="test_get_stats_hourly_count_cleanup" time="0.006"><failure message="TypeError: can't compare offset-naive and offset-aware datetimes">skyspy/tests/test_services_acars.py:554: in test_get_stats_hourly_count_cleanup
    stats = self.service.get_stats()
            ^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/services/acars.py:569: in get_stats
    t for t in self._hourly_counts[source] if t &gt; hour_ago
                                              ^^^^^^^^^^^^
E   TypeError: can't compare offset-naive and offset-aware datetimes</failure></testcase><testcase classname="skyspy.tests.test_services_acars.AcarsServiceStatisticsTests" name="test_get_stats_initial_state" time="0.005" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceStatisticsTests" name="test_get_stats_top_frequencies" time="0.004" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceRecentMessagesTests" name="test_get_recent_messages_empty" time="0.007" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceRecentMessagesTests" name="test_get_recent_messages_respects_limit" time="0.004" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceRecentMessagesTests" name="test_get_recent_messages_reversed_order" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceRecentMessagesTests" name="test_recent_messages_max_buffer_size" time="0.004" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceProcessMessageTests" name="test_process_message_duplicate_filtered" time="0.019" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceProcessMessageTests" name="test_process_message_frequency_tracking" time="0.010" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceProcessMessageTests" name="test_process_message_invalid_json" time="0.005" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceProcessMessageTests" name="test_process_message_unicode_error" time="0.005" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceProcessMessageTests" name="test_process_message_valid_acars" time="0.008" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceBroadcastTests" name="test_broadcast_failure_does_not_raise" time="0.016" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceBroadcastTests" name="test_broadcast_message_adds_timestamp" time="0.014" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceBroadcastTests" name="test_broadcast_message_to_aircraft_group" time="0.006" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceBroadcastTests" name="test_broadcast_message_to_all_group" time="0.005" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceStorageTests" name="test_store_message_creates_record" time="0.017" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceStorageTests" name="test_store_message_error_does_not_raise" time="0.006" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceStorageTests" name="test_store_message_handles_iso_timestamp" time="0.008" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceLifecycleTests" name="test_start_ignores_duplicate_start" time="0.007" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceLifecycleTests" name="test_start_sets_running_flag" time="0.005" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceLifecycleTests" name="test_stop_cancels_tasks" time="0.004" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceLifecycleTests" name="test_stop_clears_running_flag" time="0.005" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceEdgeCaseTests" name="test_normalize_message_exception_handling" time="0.005" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceEdgeCaseTests" name="test_normalize_message_with_empty_text" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceEdgeCaseTests" name="test_normalize_message_with_none_flight" time="0.003" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceEdgeCaseTests" name="test_normalize_unknown_source_returns_none" time="0.004" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceEdgeCaseTests" name="test_normalize_vdlm2_integer_icao" time="0.009" /><testcase classname="skyspy.tests.test_services_acars.AcarsServiceEdgeCaseTests" name="test_normalize_vdlm2_small_integer_icao" time="0.005" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_contains_case_insensitive" time="0.006" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_contains_match" time="0.006" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_contains_no_match" time="0.005" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_endswith_match" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_endswith_no_match" time="0.004" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_eq_case_insensitive" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_eq_string_match" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_eq_string_no_match" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_ge_equal" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_ge_greater_than" time="0.004" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_ge_less" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_gt_equal" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_gt_greater_than" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_gt_less" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_invalid_operator" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_le_equal" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_le_greater" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_le_less_than" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_lt_equal" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_lt_greater" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_lt_less_than" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_neq_different_values" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_neq_same_values" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_none_value" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_numeric_with_non_numeric_string" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_regex_case_insensitive" time="0.004" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_regex_match" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_regex_no_match" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_startswith_match" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceOperatorTests" name="test_compare_startswith_no_match" time="0.004" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceFieldMappingTests" name="test_get_altitude_value" time="0.005" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceFieldMappingTests" name="test_get_callsign_value" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceFieldMappingTests" name="test_get_category_value" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceFieldMappingTests" name="test_get_distance_value" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceFieldMappingTests" name="test_get_icao_value" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceFieldMappingTests" name="test_get_military_value" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceFieldMappingTests" name="test_get_missing_field_returns_none" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceFieldMappingTests" name="test_get_speed_value" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceFieldMappingTests" name="test_get_squawk_value" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceFieldMappingTests" name="test_get_type_value" time="0.003"><failure message="AssertionError: None != 'B738'">skyspy/tests/test_services_alerts.py:249: in test_get_type_value
    self.assertEqual(value, 'B738')
E   AssertionError: None != 'B738'</failure></testcase><testcase classname="skyspy.tests.test_services_alerts.AlertServiceFieldMappingTests" name="test_get_unknown_field_returns_none" time="0.004" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceFieldMappingTests" name="test_get_vertical_rate_value" time="0.005" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceSimpleConditionTests" name="test_simple_condition_altitude_above" time="0.006" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceSimpleConditionTests" name="test_simple_condition_callsign_startswith" time="0.004" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceSimpleConditionTests" name="test_simple_condition_icao_match" time="0.004" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceSimpleConditionTests" name="test_simple_condition_missing_value_returns_false" time="0.004" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceSimpleConditionTests" name="test_simple_condition_squawk_emergency" time="0.004" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceComplexConditionTests" name="test_complex_conditions_and_all_true" time="0.006" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceComplexConditionTests" name="test_complex_conditions_and_one_false" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceComplexConditionTests" name="test_complex_conditions_default_and_logic" time="0.004" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceComplexConditionTests" name="test_complex_conditions_empty_conditions_in_group" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceComplexConditionTests" name="test_complex_conditions_empty_groups" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceComplexConditionTests" name="test_complex_conditions_multiple_groups" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceComplexConditionTests" name="test_complex_conditions_or_all_false" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceComplexConditionTests" name="test_complex_conditions_or_one_true" time="0.005" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceRuleEvaluationTests" name="test_check_rule_both_simple_and_complex" time="0.021"><failure message="AttributeError: 'AlertRule' object has no attribute 'compiled_regex'">skyspy/tests/test_services_alerts.py:580: in test_check_rule_both_simple_and_complex
    result = self.service._check_rule(rule, aircraft)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/services/alerts.py:141: in _check_rule
    compiled_regex=rule.compiled_regex
                   ^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'AlertRule' object has no attribute 'compiled_regex'</failure></testcase><testcase classname="skyspy.tests.test_services_alerts.AlertServiceRuleEvaluationTests" name="test_check_rule_simple_match" time="0.011"><failure message="AttributeError: 'AlertRule' object has no attribute 'compiled_regex'">skyspy/tests/test_services_alerts.py:517: in test_check_rule_simple_match
    result = self.service._check_rule(rule, aircraft)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/services/alerts.py:141: in _check_rule
    compiled_regex=rule.compiled_regex
                   ^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'AlertRule' object has no attribute 'compiled_regex'</failure></testcase><testcase classname="skyspy.tests.test_services_alerts.AlertServiceRuleEvaluationTests" name="test_check_rule_simple_no_match" time="0.010"><failure message="AttributeError: 'AlertRule' object has no attribute 'compiled_regex'">skyspy/tests/test_services_alerts.py:531: in test_check_rule_simple_no_match
    result = self.service._check_rule(rule, aircraft)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/services/alerts.py:141: in _check_rule
    compiled_regex=rule.compiled_regex
                   ^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'AlertRule' object has no attribute 'compiled_regex'</failure></testcase><testcase classname="skyspy.tests.test_services_alerts.AlertServiceRuleEvaluationTests" name="test_check_rule_with_complex_conditions" time="0.010" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceTriggerTests" name="test_trigger_alert_broadcasts_to_channel" time="0.013"><failure message="AttributeError: 'AlertRule' object has no attribute 'cooldown_seconds'">skyspy/tests/test_services_alerts.py:645: in test_trigger_alert_broadcasts_to_channel
    self.service._trigger_alert(rule, aircraft)
skyspy/services/alerts.py:321: in _trigger_alert
    rule.id, icao, rule.cooldown_seconds
                   ^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'AlertRule' object has no attribute 'cooldown_seconds'</failure></testcase><testcase classname="skyspy.tests.test_services_alerts.AlertServiceTriggerTests" name="test_trigger_alert_cooldown" time="0.011"><failure message="AttributeError: 'AlertRule' object has no attribute 'cooldown_seconds'">skyspy/tests/test_services_alerts.py:666: in test_trigger_alert_cooldown
    alert1 = self.service._trigger_alert(rule, aircraft)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/services/alerts.py:321: in _trigger_alert
    rule.id, icao, rule.cooldown_seconds
                   ^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'AlertRule' object has no attribute 'cooldown_seconds'</failure></testcase><testcase classname="skyspy.tests.test_services_alerts.AlertServiceTriggerTests" name="test_trigger_alert_different_aircraft_no_cooldown" time="0.011"><failure message="AttributeError: 'AlertRule' object has no attribute 'cooldown_seconds'">skyspy/tests/test_services_alerts.py:692: in test_trigger_alert_different_aircraft_no_cooldown
    alert1 = self.service._trigger_alert(rule, aircraft1)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/services/alerts.py:321: in _trigger_alert
    rule.id, icao, rule.cooldown_seconds
                   ^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'AlertRule' object has no attribute 'cooldown_seconds'</failure></testcase><testcase classname="skyspy.tests.test_services_alerts.AlertServiceTriggerTests" name="test_trigger_alert_stores_history" time="0.015"><failure message="AttributeError: 'AlertRule' object has no attribute 'cooldown_seconds'">skyspy/tests/test_services_alerts.py:616: in test_trigger_alert_stores_history
    alert_data = self.service._trigger_alert(rule, aircraft)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/services/alerts.py:321: in _trigger_alert
    rule.id, icao, rule.cooldown_seconds
                   ^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'AlertRule' object has no attribute 'cooldown_seconds'</failure></testcase><testcase classname="skyspy.tests.test_services_alerts.AlertServiceCheckAlertsTests" name="test_check_alerts_matches_enabled_rules" time="0.029" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceCheckAlertsTests" name="test_check_alerts_multiple_aircraft" time="0.038" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceCheckAlertsTests" name="test_check_alerts_multiple_rules" time="0.040" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceCheckAlertsTests" name="test_check_alerts_respects_schedule" time="0.031" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceNotificationTests" name="test_send_notification_apprise_called" time="0.014" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceNotificationTests" name="test_send_notification_disabled_config" time="0.010" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceNotificationTests" name="test_send_notification_empty_urls" time="0.009" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceWebhookTests" name="test_call_webhook_failure_does_not_raise" time="0.005" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceWebhookTests" name="test_call_webhook_success" time="0.003" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceEdgeCaseTests" name="test_aircraft_without_hex" time="0.022" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceEdgeCaseTests" name="test_check_alerts_empty_aircraft_list" time="0.010" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceEdgeCaseTests" name="test_check_alerts_no_rules" time="0.007" /><testcase classname="skyspy.tests.test_services_alerts.AlertServiceEdgeCaseTests" name="test_rule_without_simple_or_complex_conditions" time="0.009" /><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorUnitTests" name="test_cooldown_cleanup" time="0.007"><failure message="AttributeError: 'SafetyMonitor' object has no attribute '_cleanup_state'. Did you mean: '_cleanup_old_state'?">skyspy/tests/test_services_safety.py:407: in test_cooldown_cleanup
    self.monitor._cleanup_state(set())
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SafetyMonitor' object has no attribute '_cleanup_state'. Did you mean: '_cleanup_old_state'?</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorUnitTests" name="test_cooldown_expiration" time="0.006"><failure message="AttributeError: 'SafetyMonitor' object has no attribute '_is_on_cooldown'. Did you mean: '_event_cooldown'?">skyspy/tests/test_services_safety.py:354: in test_cooldown_expiration
    self.assertFalse(self.monitor._is_on_cooldown(key, event_type))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SafetyMonitor' object has no attribute '_is_on_cooldown'. Did you mean: '_event_cooldown'?</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorUnitTests" name="test_cooldown_mechanism" time="0.004"><failure message="AttributeError: 'SafetyMonitor' object has no attribute '_is_on_cooldown'. Did you mean: '_event_cooldown'?">skyspy/tests/test_services_safety.py:336: in test_cooldown_mechanism
    self.assertFalse(self.monitor._is_on_cooldown(key, event_type))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SafetyMonitor' object has no attribute '_is_on_cooldown'. Did you mean: '_event_cooldown'?</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorUnitTests" name="test_different_event_types_separate_cooldowns" time="0.004"><failure message="AttributeError: 'SafetyMonitor' object has no attribute '_set_cooldown'. Did you mean: '_event_cooldown'?">skyspy/tests/test_services_safety.py:360: in test_different_event_types_separate_cooldowns
    self.monitor._set_cooldown(key, 'emergency_7700')
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SafetyMonitor' object has no attribute '_set_cooldown'. Did you mean: '_event_cooldown'?</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorUnitTests" name="test_emergency_squawk_7500_hijack" time="0.005"><failure message="TypeError: SafetyMonitor._check_emergency_squawk() missing 2 required positional arguments: 'squawk' and 'ac'">skyspy/tests/test_services_safety.py:56: in test_emergency_squawk_7500_hijack
    event = self.monitor._check_emergency_squawk(aircraft, '7500')
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: SafetyMonitor._check_emergency_squawk() missing 2 required positional arguments: 'squawk' and 'ac'</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorUnitTests" name="test_emergency_squawk_7600_radio_failure" time="0.004"><failure message="TypeError: SafetyMonitor._check_emergency_squawk() missing 2 required positional arguments: 'squawk' and 'ac'">skyspy/tests/test_services_safety.py:73: in test_emergency_squawk_7600_radio_failure
    event = self.monitor._check_emergency_squawk(aircraft, '7600')
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: SafetyMonitor._check_emergency_squawk() missing 2 required positional arguments: 'squawk' and 'ac'</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorUnitTests" name="test_emergency_squawk_7700_emergency" time="0.004"><failure message="TypeError: SafetyMonitor._check_emergency_squawk() missing 2 required positional arguments: 'squawk' and 'ac'">skyspy/tests/test_services_safety.py:88: in test_emergency_squawk_7700_emergency
    event = self.monitor._check_emergency_squawk(aircraft, '7700')
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: SafetyMonitor._check_emergency_squawk() missing 2 required positional arguments: 'squawk' and 'ac'</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorUnitTests" name="test_emergency_squawk_cooldown" time="0.004"><failure message="TypeError: SafetyMonitor._check_emergency_squawk() missing 2 required positional arguments: 'squawk' and 'ac'">skyspy/tests/test_services_safety.py:116: in test_emergency_squawk_cooldown
    event1 = self.monitor._check_emergency_squawk(aircraft, '7700')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: SafetyMonitor._check_emergency_squawk() missing 2 required positional arguments: 'squawk' and 'ac'</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorUnitTests" name="test_emergency_squawk_without_callsign" time="0.004"><failure message="TypeError: SafetyMonitor._check_emergency_squawk() missing 2 required positional arguments: 'squawk' and 'ac'">skyspy/tests/test_services_safety.py:102: in test_emergency_squawk_without_callsign
    event = self.monitor._check_emergency_squawk(aircraft, '7700')
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: SafetyMonitor._check_emergency_squawk() missing 2 required positional arguments: 'squawk' and 'ac'</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorUnitTests" name="test_extreme_vs_climbing" time="0.004"><failure message="AttributeError: 'SafetyMonitor' object has no attribute '_check_extreme_vs'">skyspy/tests/test_services_safety.py:135: in test_extreme_vs_climbing
    event = self.monitor._check_extreme_vs(aircraft, 7000)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SafetyMonitor' object has no attribute '_check_extreme_vs'</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorUnitTests" name="test_extreme_vs_cooldown" time="0.004"><failure message="AttributeError: 'SafetyMonitor' object has no attribute '_check_extreme_vs'">skyspy/tests/test_services_safety.py:177: in test_extreme_vs_cooldown
    event1 = self.monitor._check_extreme_vs(aircraft, 7000)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SafetyMonitor' object has no attribute '_check_extreme_vs'</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorUnitTests" name="test_extreme_vs_descending" time="0.004"><failure message="AttributeError: 'SafetyMonitor' object has no attribute '_check_extreme_vs'">skyspy/tests/test_services_safety.py:151: in test_extreme_vs_descending
    event = self.monitor._check_extreme_vs(aircraft, -8000)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SafetyMonitor' object has no attribute '_check_extreme_vs'</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorUnitTests" name="test_normal_vs_no_alert" time="0.004" /><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorUnitTests" name="test_proximity_conflict_critical_severity" time="0.004"><failure message="AttributeError: 'SafetyMonitor' object has no attribute '_check_pair_proximity'">skyspy/tests/test_services_safety.py:297: in test_proximity_conflict_critical_severity
    event = self.monitor._check_pair_proximity(ac1, ac2)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SafetyMonitor' object has no attribute '_check_pair_proximity'</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorUnitTests" name="test_proximity_conflict_detection" time="0.005"><failure message="AttributeError: 'SafetyMonitor' object has no attribute '_check_pair_proximity'">skyspy/tests/test_services_safety.py:267: in test_proximity_conflict_detection
    event = self.monitor._check_pair_proximity(ac1, ac2)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SafetyMonitor' object has no attribute '_check_pair_proximity'</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorUnitTests" name="test_proximity_no_alert_large_altitude_diff" time="0.004"><failure message="AttributeError: 'SafetyMonitor' object has no attribute '_check_pair_proximity'">skyspy/tests/test_services_safety.py:322: in test_proximity_no_alert_large_altitude_diff
    event = self.monitor._check_pair_proximity(ac1, ac2)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SafetyMonitor' object has no attribute '_check_pair_proximity'</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorUnitTests" name="test_proximity_no_alert_large_distance" time="0.005"><failure message="AttributeError: 'SafetyMonitor' object has no attribute '_check_pair_proximity'">skyspy/tests/test_services_safety.py:310: in test_proximity_no_alert_large_distance
    event = self.monitor._check_pair_proximity(ac1, ac2)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SafetyMonitor' object has no attribute '_check_pair_proximity'</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorUnitTests" name="test_state_cleanup" time="0.004"><failure message="AttributeError: 'SafetyMonitor' object has no attribute '_cleanup_state'. Did you mean: '_cleanup_old_state'?">skyspy/tests/test_services_safety.py:390: in test_state_cleanup
    self.monitor._cleanup_state({'NEW001'})
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SafetyMonitor' object has no attribute '_cleanup_state'. Did you mean: '_cleanup_old_state'?</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorUnitTests" name="test_vs_reversal_detection" time="0.004"><failure message="AttributeError: 'SafetyMonitor' object has no attribute '_check_vs_reversal'">skyspy/tests/test_services_safety.py:198: in test_vs_reversal_detection
    event = self.monitor._check_vs_reversal(aircraft, 2500, -2000)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SafetyMonitor' object has no attribute '_check_vs_reversal'</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorUnitTests" name="test_vs_reversal_low_vs_no_alert" time="0.005"><failure message="AttributeError: 'SafetyMonitor' object has no attribute '_check_vs_reversal'">skyspy/tests/test_services_safety.py:227: in test_vs_reversal_low_vs_no_alert
    event = self.monitor._check_vs_reversal(aircraft, 1000, -1200)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SafetyMonitor' object has no attribute '_check_vs_reversal'</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorUnitTests" name="test_vs_reversal_one_value_below_threshold" time="0.004"><failure message="AttributeError: 'SafetyMonitor' object has no attribute '_check_vs_reversal'">skyspy/tests/test_services_safety.py:239: in test_vs_reversal_one_value_below_threshold
    event = self.monitor._check_vs_reversal(aircraft, 1000, -3000)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SafetyMonitor' object has no attribute '_check_vs_reversal'</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorUnitTests" name="test_vs_reversal_small_change_no_alert" time="0.005"><failure message="AttributeError: 'SafetyMonitor' object has no attribute '_check_vs_reversal'">skyspy/tests/test_services_safety.py:215: in test_vs_reversal_small_change_no_alert
    event = self.monitor._check_vs_reversal(aircraft, 2000, 500)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SafetyMonitor' object has no attribute '_check_vs_reversal'</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorIntegrationTests" name="test_broadcast_failure_does_not_break_workflow" time="0.009" /><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorIntegrationTests" name="test_disabled_monitoring_returns_empty" time="0.003" /><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorIntegrationTests" name="test_full_update_workflow_emergency_squawk" time="0.006"><failure message="AssertionError: 'squawk_emergency' != '7700'&#10;- squawk_emergency&#10;+ 7700">skyspy/tests/test_services_safety.py:461: in test_full_update_workflow_emergency_squawk
    self.assertEqual(events[0]['event_type'], '7700')
E   AssertionError: 'squawk_emergency' != '7700'
E   - squawk_emergency
E   + 7700</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorIntegrationTests" name="test_full_update_workflow_multiple_events" time="0.007"><failure message="AssertionError: '7700' not found in {'squawk_emergency', 'extreme_vs'}">skyspy/tests/test_services_safety.py:494: in test_full_update_workflow_multiple_events
    self.assertIn('7700', event_types)
E   AssertionError: '7700' not found in {'squawk_emergency', 'extreme_vs'}</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorIntegrationTests" name="test_full_update_workflow_proximity" time="0.005" /><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorIntegrationTests" name="test_full_update_workflow_vs_reversal_tracking" time="0.006"><failure message="KeyError: 'vr'">skyspy/tests/test_services_safety.py:522: in test_full_update_workflow_vs_reversal_tracking
    self.assertEqual(self.monitor._aircraft_state['TRACK01']['vr'], 2500)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'vr'</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorEdgeCaseTests" name="test_empty_aircraft_list" time="0.006" /><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorEdgeCaseTests" name="test_lowercase_icao_hex_normalized" time="0.004"><failure message="TypeError: SafetyMonitor._check_emergency_squawk() missing 2 required positional arguments: 'squawk' and 'ac'">skyspy/tests/test_services_safety.py:685: in test_lowercase_icao_hex_normalized
    event = self.monitor._check_emergency_squawk(aircraft, '7700')
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: SafetyMonitor._check_emergency_squawk() missing 2 required positional arguments: 'squawk' and 'ac'</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorEdgeCaseTests" name="test_missing_icao_hex" time="0.004" /><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorEdgeCaseTests" name="test_multiple_proximity_conflicts" time="0.007" /><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorEdgeCaseTests" name="test_none_values_in_aircraft_data" time="0.004" /><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorEdgeCaseTests" name="test_proximity_check_skips_aircraft_without_position" time="0.004"><failure message="AttributeError: 'list' object has no attribute 'keys'">skyspy/tests/test_services_safety.py:727: in test_proximity_check_skips_aircraft_without_position
    events = self.monitor._check_proximity_conflicts(aircraft_list)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/services/safety.py:703: in _check_proximity_conflicts
    icao_list = list(positions.keys())
                     ^^^^^^^^^^^^^^
E   AttributeError: 'list' object has no attribute 'keys'</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorEdgeCaseTests" name="test_proximity_check_with_missing_altitude" time="0.004"><failure message="AttributeError: 'SafetyMonitor' object has no attribute '_check_pair_proximity'">skyspy/tests/test_services_safety.py:705: in test_proximity_check_with_missing_altitude
    event = self.monitor._check_pair_proximity(ac1, ac2)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SafetyMonitor' object has no attribute '_check_pair_proximity'</failure></testcase><testcase classname="skyspy.tests.test_services_safety.SafetyMonitorEdgeCaseTests" name="test_vs_rate_from_alternative_fields" time="0.005" /><testcase classname="skyspy.tests.test_tasks_aircraft.CalculateDistanceTest" name="test_distance_is_symmetric" time="0.005" /><testcase classname="skyspy.tests.test_tasks_aircraft.CalculateDistanceTest" name="test_known_distance" time="0.003" /><testcase classname="skyspy.tests.test_tasks_aircraft.CalculateDistanceTest" name="test_same_point_returns_zero" time="0.003" /><testcase classname="skyspy.tests.test_tasks_aircraft.PollAircraftTaskTest" name="test_poll_aircraft_emergency_squawk" time="4.142" /><testcase classname="skyspy.tests.test_tasks_aircraft.PollAircraftTaskTest" name="test_poll_aircraft_http_error" time="0.007" /><testcase classname="skyspy.tests.test_tasks_aircraft.PollAircraftTaskTest" name="test_poll_aircraft_invalid_json" time="0.004" /><testcase classname="skyspy.tests.test_tasks_aircraft.PollAircraftTaskTest" name="test_poll_aircraft_success" time="1.258" /><testcase classname="skyspy.tests.test_tasks_aircraft.CleanupSessionsTaskTest" name="test_cleanup_sessions_identifies_stale" time="0.014" /><testcase classname="skyspy.tests.test_tasks_aircraft.StoreAircraftSightingsTaskTest" name="test_store_sightings_empty_list" time="0.008" /><testcase classname="skyspy.tests.test_tasks_aircraft.StoreAircraftSightingsTaskTest" name="test_store_sightings_handles_missing_fields" time="0.006" /><testcase classname="skyspy.tests.test_tasks_aircraft.StoreAircraftSightingsTaskTest" name="test_store_sightings_skips_no_position" time="0.006" /><testcase classname="skyspy.tests.test_tasks_aircraft.StoreAircraftSightingsTaskTest" name="test_store_sightings_valid_data" time="0.012" /><testcase classname="skyspy.tests.test_tasks_aircraft.UpdateAircraftSessionsTaskTest" name="test_update_sessions_creates_new_for_stale_session" time="0.011" /><testcase classname="skyspy.tests.test_tasks_aircraft.UpdateAircraftSessionsTaskTest" name="test_update_sessions_creates_new_session" time="0.007" /><testcase classname="skyspy.tests.test_tasks_aircraft.UpdateAircraftSessionsTaskTest" name="test_update_sessions_empty_list" time="0.005" /><testcase classname="skyspy.tests.test_tasks_aircraft.UpdateAircraftSessionsTaskTest" name="test_update_sessions_skips_empty_icao" time="0.008" /><testcase classname="skyspy.tests.test_tasks_aircraft.UpdateAircraftSessionsTaskTest" name="test_update_sessions_updates_existing_session" time="0.010" /><testcase classname="skyspy.tests.test_tasks_aircraft.UpdateStatsCacheTaskTest" name="test_update_stats_cache_empty" time="0.005" /><testcase classname="skyspy.tests.test_tasks_aircraft.UpdateStatsCacheTaskTest" name="test_update_stats_cache_with_aircraft" time="0.004" /><testcase classname="skyspy.tests.test_tasks_aircraft.UpdateSafetyStatsTaskTest" name="test_update_safety_stats_no_events" time="0.008" /><testcase classname="skyspy.tests.test_tasks_aircraft.UpdateSafetyStatsTaskTest" name="test_update_safety_stats_with_events" time="0.010" /><testcase classname="skyspy.tests.test_tasks_aircraft.TaskRetryBehaviorTest" name="test_poll_aircraft_no_retry_on_failure" time="0.007" /><testcase classname="skyspy.tests.test_tasks_aircraft.TaskSchedulingTest" name="test_cleanup_sessions_is_shared_task" time="0.005" /><testcase classname="skyspy.tests.test_tasks_aircraft.TaskSchedulingTest" name="test_poll_aircraft_is_shared_task" time="0.003" /><testcase classname="skyspy.tests.test_tasks_aircraft.TaskSchedulingTest" name="test_store_aircraft_sightings_is_shared_task" time="0.003" /><testcase classname="skyspy.tests.test_tasks_aircraft.TaskSchedulingTest" name="test_update_stats_cache_is_shared_task" time="0.004" /><testcase classname="skyspy.tests.test_tasks_aircraft.TaskAtomicityTest" name="test_store_sightings_atomic_rollback" time="0.005" /><testcase classname="skyspy.tests.test_tasks_aircraft.TaskAtomicityTest" name="test_update_sessions_atomic" time="0.004" /><testcase classname="skyspy.tests.test_tasks_airspace.RefreshAirspaceAdvisoriesTaskTest" name="test_refresh_advisories_broadcasts_update" time="0.017" /><testcase classname="skyspy.tests.test_tasks_airspace.RefreshAirspaceAdvisoriesTaskTest" name="test_refresh_advisories_deletes_expired" time="0.013" /><testcase classname="skyspy.tests.test_tasks_airspace.RefreshAirspaceAdvisoriesTaskTest" name="test_refresh_advisories_handles_broadcast_failure" time="0.011" /><testcase classname="skyspy.tests.test_tasks_airspace.RefreshAirspaceAdvisoriesTaskTest" name="test_refresh_advisories_handles_invalid_dates" time="0.013" /><testcase classname="skyspy.tests.test_tasks_airspace.RefreshAirspaceAdvisoriesTaskTest" name="test_refresh_advisories_http_error" time="0.005" /><testcase classname="skyspy.tests.test_tasks_airspace.RefreshAirspaceAdvisoriesTaskTest" name="test_refresh_advisories_non_200_response" time="0.004" /><testcase classname="skyspy.tests.test_tasks_airspace.RefreshAirspaceAdvisoriesTaskTest" name="test_refresh_advisories_skips_invalid_advisory" time="0.012" /><testcase classname="skyspy.tests.test_tasks_airspace.RefreshAirspaceAdvisoriesTaskTest" name="test_refresh_advisories_success" time="0.025" /><testcase classname="skyspy.tests.test_tasks_airspace.RefreshAirspaceAdvisoriesTaskTest" name="test_refresh_advisories_updates_existing" time="0.015" /><testcase classname="skyspy.tests.test_tasks_airspace.RefreshAirspaceBoundariesTaskTest" name="test_refresh_boundaries_broadcasts_update" time="0.010"><failure message="AssertionError: Expected 'group_send' to have been called.">skyspy/tests/test_tasks_airspace.py:344: in test_refresh_boundaries_broadcasts_update
    mock_channel_layer.group_send.assert_called()
/usr/local/lib/python3.12/unittest/mock.py:918: in assert_called
    raise AssertionError(msg)
E   AssertionError: Expected 'group_send' to have been called.</failure></testcase><testcase classname="skyspy.tests.test_tasks_airspace.RefreshAirspaceBoundariesTaskTest" name="test_refresh_boundaries_empty_database" time="0.005" /><testcase classname="skyspy.tests.test_tasks_airspace.RefreshAirspaceBoundariesTaskTest" name="test_refresh_boundaries_handles_broadcast_failure" time="0.004" /><testcase classname="skyspy.tests.test_tasks_airspace.RefreshAirspaceBoundariesTaskTest" name="test_refresh_boundaries_success" time="0.008" /><testcase classname="skyspy.tests.test_tasks_airspace.AirspaceTaskSchedulingTest" name="test_refresh_advisories_is_shared_task" time="0.005" /><testcase classname="skyspy.tests.test_tasks_airspace.AirspaceTaskSchedulingTest" name="test_refresh_boundaries_is_shared_task" time="0.004" /><testcase classname="skyspy.tests.test_tasks_airspace.AirspaceTaskAtomicityTest" name="test_refresh_advisories_uses_atomic" time="0.007" /><testcase classname="skyspy.tests.test_tasks_airspace.AirspaceAdvisoryModelTest" name="test_advisory_types_supported" time="0.011" /><testcase classname="skyspy.tests.test_tasks_airspace.AirspaceAdvisoryModelTest" name="test_hazard_types_supported" time="0.011" /><testcase classname="skyspy.tests.test_tasks_airspace.AirspaceBoundaryModelTest" name="test_airspace_classes_supported" time="0.014" /><testcase classname="skyspy.tests.test_tasks_airspace.AirspaceBoundaryModelTest" name="test_polygon_geojson_storage" time="0.006" /><testcase classname="skyspy.tests.test_tasks_analytics.UpdateAntennaAnalyticsTaskTest" name="test_analytics_cache_timeout" time="0.009"><failure message="ModuleNotFoundError: No module named 'numpy'">skyspy/tests/test_tasks_analytics.py:225: in test_analytics_cache_timeout
    update_antenna_analytics()
/opt/venv/lib/python3.12/site-packages/celery/local.py:182: in __call__
    return self._get_current_object()(*a, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/celery/app/task.py:411: in __call__
    return self.run(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/tasks/analytics.py:58: in update_antenna_analytics
    import numpy as np
E   ModuleNotFoundError: No module named 'numpy'</failure></testcase><testcase classname="skyspy.tests.test_tasks_analytics.UpdateAntennaAnalyticsTaskTest" name="test_analytics_direction_calculation" time="0.006"><failure message="ModuleNotFoundError: No module named 'numpy'">skyspy/tests/test_tasks_analytics.py:103: in test_analytics_direction_calculation
    update_antenna_analytics()
/opt/venv/lib/python3.12/site-packages/celery/local.py:182: in __call__
    return self._get_current_object()(*a, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/celery/app/task.py:411: in __call__
    return self.run(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/tasks/analytics.py:58: in update_antenna_analytics
    import numpy as np
E   ModuleNotFoundError: No module named 'numpy'</failure></testcase><testcase classname="skyspy.tests.test_tasks_analytics.UpdateAntennaAnalyticsTaskTest" name="test_analytics_no_sightings" time="0.004"><failure message="ModuleNotFoundError: No module named 'numpy'">skyspy/tests/test_tasks_analytics.py:45: in test_analytics_no_sightings
    update_antenna_analytics()
/opt/venv/lib/python3.12/site-packages/celery/local.py:182: in __call__
    return self._get_current_object()(*a, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/celery/app/task.py:411: in __call__
    return self.run(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/tasks/analytics.py:58: in update_antenna_analytics
    import numpy as np
E   ModuleNotFoundError: No module named 'numpy'</failure></testcase><testcase classname="skyspy.tests.test_tasks_analytics.UpdateAntennaAnalyticsTaskTest" name="test_analytics_only_uses_recent_sightings" time="0.007"><failure message="ModuleNotFoundError: No module named 'numpy'">skyspy/tests/test_tasks_analytics.py:165: in test_analytics_only_uses_recent_sightings
    update_antenna_analytics()
/opt/venv/lib/python3.12/site-packages/celery/local.py:182: in __call__
    return self._get_current_object()(*a, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/celery/app/task.py:411: in __call__
    return self.run(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/tasks/analytics.py:58: in update_antenna_analytics
    import numpy as np
E   ModuleNotFoundError: No module named 'numpy'</failure></testcase><testcase classname="skyspy.tests.test_tasks_analytics.UpdateAntennaAnalyticsTaskTest" name="test_analytics_positions_per_hour" time="0.012"><failure message="ModuleNotFoundError: No module named 'numpy'">skyspy/tests/test_tasks_analytics.py:209: in test_analytics_positions_per_hour
    update_antenna_analytics()
/opt/venv/lib/python3.12/site-packages/celery/local.py:182: in __call__
    return self._get_current_object()(*a, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/celery/app/task.py:411: in __call__
    return self.run(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/tasks/analytics.py:58: in update_antenna_analytics
    import numpy as np
E   ModuleNotFoundError: No module named 'numpy'</failure></testcase><testcase classname="skyspy.tests.test_tasks_analytics.UpdateAntennaAnalyticsTaskTest" name="test_analytics_rssi_statistics" time="0.007"><failure message="ModuleNotFoundError: No module named 'numpy'">skyspy/tests/test_tasks_analytics.py:131: in test_analytics_rssi_statistics
    update_antenna_analytics()
/opt/venv/lib/python3.12/site-packages/celery/local.py:182: in __call__
    return self._get_current_object()(*a, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/celery/app/task.py:411: in __call__
    return self.run(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/tasks/analytics.py:58: in update_antenna_analytics
    import numpy as np
E   ModuleNotFoundError: No module named 'numpy'</failure></testcase><testcase classname="skyspy.tests.test_tasks_analytics.UpdateAntennaAnalyticsTaskTest" name="test_analytics_skips_null_distance" time="0.008"><failure message="ModuleNotFoundError: No module named 'numpy'">skyspy/tests/test_tasks_analytics.py:190: in test_analytics_skips_null_distance
    update_antenna_analytics()
/opt/venv/lib/python3.12/site-packages/celery/local.py:182: in __call__
    return self._get_current_object()(*a, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/celery/app/task.py:411: in __call__
    return self.run(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/tasks/analytics.py:58: in update_antenna_analytics
    import numpy as np
E   ModuleNotFoundError: No module named 'numpy'</failure></testcase><testcase classname="skyspy.tests.test_tasks_analytics.UpdateAntennaAnalyticsTaskTest" name="test_analytics_with_sightings" time="0.009"><failure message="ModuleNotFoundError: No module named 'numpy'">skyspy/tests/test_tasks_analytics.py:82: in test_analytics_with_sightings
    update_antenna_analytics()
/opt/venv/lib/python3.12/site-packages/celery/local.py:182: in __call__
    return self._get_current_object()(*a, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/celery/app/task.py:411: in __call__
    return self.run(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/tasks/analytics.py:58: in update_antenna_analytics
    import numpy as np
E   ModuleNotFoundError: No module named 'numpy'</failure></testcase><testcase classname="skyspy.tests.test_tasks_analytics.CalculateDailyStatsTaskTest" name="test_daily_stats_cache_timeout" time="0.014" /><testcase classname="skyspy.tests.test_tasks_analytics.CalculateDailyStatsTaskTest" name="test_daily_stats_cached" time="0.010" /><testcase classname="skyspy.tests.test_tasks_analytics.CalculateDailyStatsTaskTest" name="test_daily_stats_calculates_yesterday" time="0.013" /><testcase classname="skyspy.tests.test_tasks_analytics.CalculateDailyStatsTaskTest" name="test_daily_stats_distance_calculations" time="0.016" /><testcase classname="skyspy.tests.test_tasks_analytics.CalculateDailyStatsTaskTest" name="test_daily_stats_excludes_today" time="0.011" /><testcase classname="skyspy.tests.test_tasks_analytics.CalculateDailyStatsTaskTest" name="test_daily_stats_military_count" time="0.014" /><testcase classname="skyspy.tests.test_tasks_analytics.CalculateDailyStatsTaskTest" name="test_daily_stats_no_data" time="0.009" /><testcase classname="skyspy.tests.test_tasks_analytics.CalculateDailyStatsTaskTest" name="test_daily_stats_unique_aircraft_count" time="0.019" /><testcase classname="skyspy.tests.test_tasks_analytics.AnalyticsTaskSchedulingTest" name="test_calculate_daily_stats_is_shared_task" time="0.006" /><testcase classname="skyspy.tests.test_tasks_analytics.AnalyticsTaskSchedulingTest" name="test_update_antenna_analytics_is_shared_task" time="0.004" /><testcase classname="skyspy.tests.test_tasks_analytics.AnalyticsPerformanceTest" name="test_antenna_analytics_handles_large_dataset" time="0.021"><failure message="ModuleNotFoundError: No module named 'numpy'">skyspy/tests/test_tasks_analytics.py:477: in test_antenna_analytics_handles_large_dataset
    update_antenna_analytics()
/opt/venv/lib/python3.12/site-packages/celery/local.py:182: in __call__
    return self._get_current_object()(*a, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/celery/app/task.py:411: in __call__
    return self.run(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/tasks/analytics.py:58: in update_antenna_analytics
    import numpy as np
E   ModuleNotFoundError: No module named 'numpy'</failure></testcase><testcase classname="skyspy.tests.test_tasks_analytics.AnalyticsEdgeCasesTest" name="test_analytics_handles_extreme_coordinates" time="0.008"><failure message="ModuleNotFoundError: No module named 'numpy'">skyspy/tests/test_tasks_analytics.py:527: in test_analytics_handles_extreme_coordinates
    update_antenna_analytics()
/opt/venv/lib/python3.12/site-packages/celery/local.py:182: in __call__
    return self._get_current_object()(*a, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/celery/app/task.py:411: in __call__
    return self.run(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/tasks/analytics.py:58: in update_antenna_analytics
    import numpy as np
E   ModuleNotFoundError: No module named 'numpy'</failure></testcase><testcase classname="skyspy.tests.test_tasks_analytics.AnalyticsEdgeCasesTest" name="test_analytics_handles_zero_distance" time="0.007"><failure message="ModuleNotFoundError: No module named 'numpy'">skyspy/tests/test_tasks_analytics.py:510: in test_analytics_handles_zero_distance
    update_antenna_analytics()
/opt/venv/lib/python3.12/site-packages/celery/local.py:182: in __call__
    return self._get_current_object()(*a, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/celery/app/task.py:411: in __call__
    return self.run(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/tasks/analytics.py:58: in update_antenna_analytics
    import numpy as np
E   ModuleNotFoundError: No module named 'numpy'</failure></testcase><testcase classname="skyspy.tests.test_tasks_analytics.AnalyticsEdgeCasesTest" name="test_daily_stats_handles_null_distances" time="0.011" /><testcase classname="skyspy.tests.test_tasks_analytics.AnalyticsEdgeCasesTest" name="test_daily_stats_returns_dict" time="0.010" /><testcase classname="skyspy.tests.test_tasks_transcription.ProcessTranscriptionQueueTaskTest" name="test_process_queue_disabled" time="0.010" /><testcase classname="skyspy.tests.test_tasks_transcription.ProcessTranscriptionQueueTaskTest" name="test_process_queue_respects_limit" time="0.010" /><testcase classname="skyspy.tests.test_tasks_transcription.ProcessTranscriptionQueueTaskTest" name="test_process_queue_skips_non_queued" time="0.008" /><testcase classname="skyspy.tests.test_tasks_transcription.ProcessTranscriptionQueueTaskTest" name="test_process_queue_triggers_transcribe" time="0.008" /><testcase classname="skyspy.tests.test_tasks_transcription.TranscribeAudioTaskTest" name="test_transcribe_already_completed" time="0.008" /><testcase classname="skyspy.tests.test_tasks_transcription.TranscribeAudioTaskTest" name="test_transcribe_file_not_found" time="0.014"><failure message="Exception: Failed to fetch audio data">skyspy/tests/test_tasks_transcription.py:215: in test_transcribe_file_not_found
    transcribe_audio(transmission.id)
/opt/venv/lib/python3.12/site-packages/celery/local.py:182: in __call__
    return self._get_current_object()(*a, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/celery/app/task.py:411: in __call__
    return self.run(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/tasks/transcription.py:100: in transcribe_audio
    raise self.retry(exc=e, countdown=60)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/celery/app/task.py:734: in retry
    raise_with_context(exc or Retry('Task can be retried', None))
skyspy/tasks/transcription.py:85: in transcribe_audio
    raise Exception(transmission.transcription_error or "Transcription failed")
E   Exception: Failed to fetch audio data</failure></testcase><testcase classname="skyspy.tests.test_tasks_transcription.TranscribeAudioTaskTest" name="test_transcribe_marks_processing_status" time="0.008"><failure message="AttributeError: &lt;module 'skyspy.tasks.transcription' from '/app/skyspy/tasks/transcription.py'&gt; does not have the attribute '_transcribe_with_whisper'">/usr/local/lib/python3.12/unittest/mock.py:1393: in patched
    with self.decoration_helper(patched,
/usr/local/lib/python3.12/contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1375: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/contextlib.py:526: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;module 'skyspy.tasks.transcription' from '/app/skyspy/tasks/transcription.py'&gt; does not have the attribute '_transcribe_with_whisper'</failure></testcase><testcase classname="skyspy.tests.test_tasks_transcription.TranscribeAudioTaskTest" name="test_transcribe_no_service_configured" time="0.011"><failure message="Exception: Transcription failed">skyspy/tests/test_tasks_transcription.py:270: in test_transcribe_no_service_configured
    transcribe_audio(transmission.id)
/opt/venv/lib/python3.12/site-packages/celery/local.py:182: in __call__
    return self._get_current_object()(*a, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/celery/app/task.py:411: in __call__
    return self.run(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/tasks/transcription.py:100: in transcribe_audio
    raise self.retry(exc=e, countdown=60)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/celery/app/task.py:734: in retry
    raise_with_context(exc or Retry('Task can be retried', None))
skyspy/tasks/transcription.py:85: in transcribe_audio
    raise Exception(transmission.transcription_error or "Transcription failed")
E   Exception: Transcription failed</failure></testcase><testcase classname="skyspy.tests.test_tasks_transcription.TranscribeAudioTaskTest" name="test_transcribe_nonexistent_transmission" time="0.006" /><testcase classname="skyspy.tests.test_tasks_transcription.TranscribeAudioTaskTest" name="test_transcribe_with_external_service" time="0.004"><failure message="AttributeError: &lt;module 'skyspy.tasks.transcription' from '/app/skyspy/tasks/transcription.py'&gt; does not have the attribute '_transcribe_with_service'">/usr/local/lib/python3.12/unittest/mock.py:1393: in patched
    with self.decoration_helper(patched,
/usr/local/lib/python3.12/contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1375: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/contextlib.py:526: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;module 'skyspy.tasks.transcription' from '/app/skyspy/tasks/transcription.py'&gt; does not have the attribute '_transcribe_with_service'</failure></testcase><testcase classname="skyspy.tests.test_tasks_transcription.TranscribeAudioTaskTest" name="test_transcribe_with_whisper_success" time="0.005"><failure message="AttributeError: &lt;module 'skyspy.tasks.transcription' from '/app/skyspy/tasks/transcription.py'&gt; does not have the attribute '_transcribe_with_whisper'">/usr/local/lib/python3.12/unittest/mock.py:1393: in patched
    with self.decoration_helper(patched,
/usr/local/lib/python3.12/contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1375: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/contextlib.py:526: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;module 'skyspy.tasks.transcription' from '/app/skyspy/tasks/transcription.py'&gt; does not have the attribute '_transcribe_with_whisper'</failure></testcase><testcase classname="skyspy.tests.test_tasks_transcription.TranscribeAudioRetryTest" name="test_transcribe_retries_on_failure" time="0.007"><failure message="AttributeError: &lt;module 'skyspy.tasks.transcription' from '/app/skyspy/tasks/transcription.py'&gt; does not have the attribute '_transcribe_with_whisper'">/usr/local/lib/python3.12/unittest/mock.py:1393: in patched
    with self.decoration_helper(patched,
/usr/local/lib/python3.12/contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1375: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/contextlib.py:526: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;module 'skyspy.tasks.transcription' from '/app/skyspy/tasks/transcription.py'&gt; does not have the attribute '_transcribe_with_whisper'</failure></testcase><testcase classname="skyspy.tests.test_tasks_transcription.TranscribeAudioRetryTest" name="test_transcribe_task_has_max_retries" time="0.007" /><testcase classname="skyspy.tests.test_tasks_transcription.TranscribeWithWhisperTest" name="test_whisper_api_call" time="0.000"><skipped type="pytest.skip" message="_transcribe_with_whisper helper was removed/refactored">/app/skyspy/tests/test_tasks_transcription.py:358: _transcribe_with_whisper helper was removed/refactored</skipped></testcase><testcase classname="skyspy.tests.test_tasks_transcription.TranscribeWithServiceTest" name="test_service_api_call_with_auth" time="0.000"><skipped type="pytest.skip" message="_transcribe_with_service helper was removed/refactored">/app/skyspy/tests/test_tasks_transcription.py:388: _transcribe_with_service helper was removed/refactored</skipped></testcase><testcase classname="skyspy.tests.test_tasks_transcription.ExtractCallsignsTaskTest" name="test_extract_airline_callsigns" time="0.264"><failure message="KeyError: 'airline'">skyspy/tests/test_tasks_transcription.py:458: in test_extract_airline_callsigns
    airlines = [c['airline'] for c in callsigns if c.get('type') == 'airline']
                ^^^^^^^^^^^^
E   KeyError: 'airline'</failure></testcase><testcase classname="skyspy.tests.test_tasks_transcription.ExtractCallsignsTaskTest" name="test_extract_callsigns_no_transcript" time="0.007" /><testcase classname="skyspy.tests.test_tasks_transcription.ExtractCallsignsTaskTest" name="test_extract_callsigns_nonexistent_transmission" time="0.005" /><testcase classname="skyspy.tests.test_tasks_transcription.ExtractCallsignsTaskTest" name="test_extract_multiple_callsign_types" time="0.016"><failure message="AssertionError: 'n_number' not found in {'airline', 'general_aviation'}">skyspy/tests/test_tasks_transcription.py:496: in test_extract_multiple_callsign_types
    self.assertIn('n_number', types)
E   AssertionError: 'n_number' not found in {'airline', 'general_aviation'}</failure></testcase><testcase classname="skyspy.tests.test_tasks_transcription.ExtractCallsignsTaskTest" name="test_extract_n_numbers" time="0.015"><failure message="AssertionError: 0 not greater than or equal to 1">skyspy/tests/test_tasks_transcription.py:477: in test_extract_n_numbers
    self.assertGreaterEqual(len(n_numbers), 1)
E   AssertionError: 0 not greater than or equal to 1</failure></testcase><testcase classname="skyspy.tests.test_tasks_transcription.BroadcastTranscriptionUpdateTest" name="test_broadcast_completed" time="0.009" /><testcase classname="skyspy.tests.test_tasks_transcription.BroadcastTranscriptionUpdateTest" name="test_broadcast_failed" time="0.007" /><testcase classname="skyspy.tests.test_tasks_transcription.BroadcastTranscriptionUpdateTest" name="test_broadcast_handles_failure" time="0.006" /><testcase classname="skyspy.tests.test_tasks_transcription.BroadcastTranscriptionUpdateTest" name="test_broadcast_started" time="0.007" /><testcase classname="skyspy.tests.test_tasks_transcription.TranscriptionTaskSchedulingTest" name="test_extract_callsigns_is_shared_task" time="0.005" /><testcase classname="skyspy.tests.test_tasks_transcription.TranscriptionTaskSchedulingTest" name="test_process_queue_is_shared_task" time="0.003" /><testcase classname="skyspy.tests.test_tasks_transcription.TranscriptionTaskSchedulingTest" name="test_transcribe_audio_is_shared_task" time="0.004" /><testcase classname="skyspy.tests.test_tasks_transcription.AudioTransmissionModelTest" name="test_transcript_segments_json" time="0.008" /><testcase classname="skyspy.tests.test_tasks_transcription.AudioTransmissionModelTest" name="test_transcription_status_choices" time="0.014" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAircraftWebSocket" name="test_connect_to_aircraft_websocket" time="0.256" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAircraftWebSocket" name="test_receive_aircraft_position_updates" time="0.415" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAircraftWebSocket" name="test_filter_aircraft_by_distance" time="0.601" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAircraftWebSocket" name="test_filter_aircraft_by_altitude" time="0.602" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAircraftWebSocket" name="test_subscribe_to_specific_icao" time="0.590" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAircraftWebSocket" name="test_unsubscribe_from_aircraft" time="0.604" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAircraftWebSocket" name="test_handle_high_frequency_updates" time="1.162" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAircraftWebSocket" name="test_request_single_aircraft_by_icao" time="0.606" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAircraftWebSocket" name="test_request_aircraft_list_with_filters" time="0.589" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestSafetyWebSocket" name="test_connect_to_safety_websocket" time="0.203"><failure message="KeyError: 'TIME_ZONE'">skyspy/tests/e2e/test_e2e_websocket.py:537: in test_connect_to_safety_websocket
    await communicator.disconnect()
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:115: in disconnect
    await self.wait(timeout)
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:58: in wait
    await self.future
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/safety.py:37: in send_initial_state
    active_events = await self.get_active_events()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/safety.py:128: in get_active_events
    for event in queryset.order_by('-timestamp')[:100]:
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1610: in execute_sql
    sql, params = self.as_sql()
                  ^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:794: in as_sql
    self.compile(self.where) if self.where is not None else ("", [])
    ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/where.py:151: in as_sql
    sql, params = compiler.compile(child)
                  ^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:258: in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:141: in process_rhs
    return self.get_db_prep_lookup(value, connection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:291: in get_db_prep_lookup
    else get_db_prep_value(v, connection, prepared=True)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/fields/__init__.py:1684: in get_db_prep_value
    return connection.ops.adapt_datetimefield_value(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/sqlite3/operations.py:279: in adapt_datetimefield_value
    value = timezone.make_naive(value, self.connection.timezone)
                                       ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/functional.py:47: in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:152: in timezone
    elif self.settings_dict["TIME_ZONE"] is None:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestSafetyWebSocket" name="test_receive_safety_event_notifications" time="1.209"><failure message="KeyError: 'TIME_ZONE'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:548: in test_receive_safety_event_notifications
    response = await communicator.receive_json_from()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/safety.py:37: in send_initial_state
    active_events = await self.get_active_events()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/safety.py:128: in get_active_events
    for event in queryset.order_by('-timestamp')[:100]:
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1610: in execute_sql
    sql, params = self.as_sql()
                  ^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:794: in as_sql
    self.compile(self.where) if self.where is not None else ("", [])
    ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/where.py:151: in as_sql
    sql, params = compiler.compile(child)
                  ^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:258: in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:141: in process_rhs
    return self.get_db_prep_lookup(value, connection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:291: in get_db_prep_lookup
    else get_db_prep_value(v, connection, prepared=True)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/fields/__init__.py:1684: in get_db_prep_value
    return connection.ops.adapt_datetimefield_value(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/sqlite3/operations.py:279: in adapt_datetimefield_value
    value = timezone.make_naive(value, self.connection.timezone)
                                       ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/functional.py:47: in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:152: in timezone
    elif self.settings_dict["TIME_ZONE"] is None:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestSafetyWebSocket" name="test_safety_event_includes_type_and_severity" time="1.318"><failure message="KeyError: 'TIME_ZONE'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:564: in test_safety_event_includes_type_and_severity
    await communicator.receive_json_from()
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/safety.py:37: in send_initial_state
    active_events = await self.get_active_events()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/safety.py:128: in get_active_events
    for event in queryset.order_by('-timestamp')[:100]:
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1610: in execute_sql
    sql, params = self.as_sql()
                  ^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:794: in as_sql
    self.compile(self.where) if self.where is not None else ("", [])
    ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/where.py:151: in as_sql
    sql, params = compiler.compile(child)
                  ^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:258: in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:141: in process_rhs
    return self.get_db_prep_lookup(value, connection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:291: in get_db_prep_lookup
    else get_db_prep_value(v, connection, prepared=True)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/fields/__init__.py:1684: in get_db_prep_value
    return connection.ops.adapt_datetimefield_value(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/sqlite3/operations.py:279: in adapt_datetimefield_value
    value = timezone.make_naive(value, self.connection.timezone)
                                       ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/functional.py:47: in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:152: in timezone
    elif self.settings_dict["TIME_ZONE"] is None:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestSafetyWebSocket" name="test_receive_realtime_tcas_alerts" time="1.211"><failure message="KeyError: 'TIME_ZONE'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:596: in test_receive_realtime_tcas_alerts
    await communicator.receive_json_from()
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/safety.py:37: in send_initial_state
    active_events = await self.get_active_events()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/safety.py:128: in get_active_events
    for event in queryset.order_by('-timestamp')[:100]:
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1610: in execute_sql
    sql, params = self.as_sql()
                  ^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:794: in as_sql
    self.compile(self.where) if self.where is not None else ("", [])
    ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/where.py:151: in as_sql
    sql, params = compiler.compile(child)
                  ^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:258: in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:141: in process_rhs
    return self.get_db_prep_lookup(value, connection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:291: in get_db_prep_lookup
    else get_db_prep_value(v, connection, prepared=True)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/fields/__init__.py:1684: in get_db_prep_value
    return connection.ops.adapt_datetimefield_value(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/sqlite3/operations.py:279: in adapt_datetimefield_value
    value = timezone.make_naive(value, self.connection.timezone)
                                       ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/functional.py:47: in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:152: in timezone
    elif self.settings_dict["TIME_ZONE"] is None:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestSafetyWebSocket" name="test_receive_emergency_squawk_notifications" time="1.208"><failure message="KeyError: 'TIME_ZONE'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:627: in test_receive_emergency_squawk_notifications
    await communicator.receive_json_from()
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/safety.py:37: in send_initial_state
    active_events = await self.get_active_events()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/safety.py:128: in get_active_events
    for event in queryset.order_by('-timestamp')[:100]:
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1610: in execute_sql
    sql, params = self.as_sql()
                  ^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:794: in as_sql
    self.compile(self.where) if self.where is not None else ("", [])
    ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/where.py:151: in as_sql
    sql, params = compiler.compile(child)
                  ^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:258: in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:141: in process_rhs
    return self.get_db_prep_lookup(value, connection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:291: in get_db_prep_lookup
    else get_db_prep_value(v, connection, prepared=True)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/fields/__init__.py:1684: in get_db_prep_value
    return connection.ops.adapt_datetimefield_value(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/sqlite3/operations.py:279: in adapt_datetimefield_value
    value = timezone.make_naive(value, self.connection.timezone)
                                       ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/functional.py:47: in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:152: in timezone
    elif self.settings_dict["TIME_ZONE"] is None:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestSafetyWebSocket" name="test_acknowledge_safety_event" time="1.217"><failure message="KeyError: 'TIME_ZONE'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:657: in test_acknowledge_safety_event
    await communicator.receive_json_from()
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/safety.py:37: in send_initial_state
    active_events = await self.get_active_events()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/safety.py:128: in get_active_events
    for event in queryset.order_by('-timestamp')[:100]:
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1610: in execute_sql
    sql, params = self.as_sql()
                  ^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:794: in as_sql
    self.compile(self.where) if self.where is not None else ("", [])
    ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/where.py:151: in as_sql
    sql, params = compiler.compile(child)
                  ^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:258: in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:141: in process_rhs
    return self.get_db_prep_lookup(value, connection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:291: in get_db_prep_lookup
    else get_db_prep_value(v, connection, prepared=True)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/fields/__init__.py:1684: in get_db_prep_value
    return connection.ops.adapt_datetimefield_value(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/sqlite3/operations.py:279: in adapt_datetimefield_value
    value = timezone.make_naive(value, self.connection.timezone)
                                       ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/functional.py:47: in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:152: in timezone
    elif self.settings_dict["TIME_ZONE"] is None:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestSafetyWebSocket" name="test_request_safety_event_history" time="1.223"><failure message="KeyError: 'TIME_ZONE'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:689: in test_request_safety_event_history
    await communicator.receive_json_from()
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/safety.py:37: in send_initial_state
    active_events = await self.get_active_events()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/safety.py:128: in get_active_events
    for event in queryset.order_by('-timestamp')[:100]:
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1610: in execute_sql
    sql, params = self.as_sql()
                  ^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:794: in as_sql
    self.compile(self.where) if self.where is not None else ("", [])
    ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/where.py:151: in as_sql
    sql, params = compiler.compile(child)
                  ^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:258: in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:141: in process_rhs
    return self.get_db_prep_lookup(value, connection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:291: in get_db_prep_lookup
    else get_db_prep_value(v, connection, prepared=True)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/fields/__init__.py:1684: in get_db_prep_value
    return connection.ops.adapt_datetimefield_value(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/sqlite3/operations.py:279: in adapt_datetimefield_value
    value = timezone.make_naive(value, self.connection.timezone)
                                       ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/functional.py:47: in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:152: in timezone
    elif self.settings_dict["TIME_ZONE"] is None:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAlertsWebSocket" name="test_connect_to_alerts_websocket" time="0.206"><failure message="KeyError: 'TIME_ZONE'">skyspy/tests/e2e/test_e2e_websocket.py:727: in test_connect_to_alerts_websocket
    await communicator.disconnect()
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:115: in disconnect
    await self.wait(timeout)
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:58: in wait
    await self.future
/opt/venv/lib/python3.12/site-packages/channels/routing.py:48: in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/security/websocket.py:37: in __call__
    return await self.application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:39: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:175: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/routing.py:118: in __call__
    return await application(
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/alerts.py:39: in connect
    await super().connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/alerts.py:73: in send_initial_state
    alerts = await self.get_recent_alerts()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/alerts.py:201: in get_recent_alerts
    return [self._serialize_alert(alert) for alert in alerts]
                                                      ^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1610: in execute_sql
    sql, params = self.as_sql()
                  ^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:794: in as_sql
    self.compile(self.where) if self.where is not None else ("", [])
    ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/where.py:151: in as_sql
    sql, params = compiler.compile(child)
                  ^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:258: in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:141: in process_rhs
    return self.get_db_prep_lookup(value, connection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:291: in get_db_prep_lookup
    else get_db_prep_value(v, connection, prepared=True)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/fields/__init__.py:1684: in get_db_prep_value
    return connection.ops.adapt_datetimefield_value(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/sqlite3/operations.py:279: in adapt_datetimefield_value
    value = timezone.make_naive(value, self.connection.timezone)
                                       ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/functional.py:47: in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:152: in timezone
    elif self.settings_dict["TIME_ZONE"] is None:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAlertsWebSocket" name="test_receive_alert_trigger_notifications" time="1.222"><failure message="KeyError: 'TIME_ZONE'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:741: in test_receive_alert_trigger_notifications
    response = await asyncio.wait_for(
/usr/local/lib/python3.12/asyncio/tasks.py:520: in wait_for
    return await fut
           ^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/routing.py:48: in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/security/websocket.py:37: in __call__
    return await self.application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:39: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:175: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/routing.py:118: in __call__
    return await application(
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/alerts.py:39: in connect
    await super().connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/alerts.py:73: in send_initial_state
    alerts = await self.get_recent_alerts()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/alerts.py:201: in get_recent_alerts
    return [self._serialize_alert(alert) for alert in alerts]
                                                      ^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1610: in execute_sql
    sql, params = self.as_sql()
                  ^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:794: in as_sql
    self.compile(self.where) if self.where is not None else ("", [])
    ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/where.py:151: in as_sql
    sql, params = compiler.compile(child)
                  ^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:258: in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:141: in process_rhs
    return self.get_db_prep_lookup(value, connection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:291: in get_db_prep_lookup
    else get_db_prep_value(v, connection, prepared=True)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/fields/__init__.py:1684: in get_db_prep_value
    return connection.ops.adapt_datetimefield_value(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/sqlite3/operations.py:279: in adapt_datetimefield_value
    value = timezone.make_naive(value, self.connection.timezone)
                                       ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/functional.py:47: in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:152: in timezone
    elif self.settings_dict["TIME_ZONE"] is None:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAlertsWebSocket" name="test_alert_includes_rule_info_and_aircraft" time="1.220"><failure message="KeyError: 'TIME_ZONE'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:765: in test_alert_includes_rule_info_and_aircraft
    await asyncio.wait_for(communicator.receive_json_from(), timeout=1.0)
/usr/local/lib/python3.12/asyncio/tasks.py:520: in wait_for
    return await fut
           ^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/routing.py:48: in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/security/websocket.py:37: in __call__
    return await self.application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:39: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:175: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/routing.py:118: in __call__
    return await application(
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/alerts.py:39: in connect
    await super().connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/alerts.py:73: in send_initial_state
    alerts = await self.get_recent_alerts()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/alerts.py:201: in get_recent_alerts
    return [self._serialize_alert(alert) for alert in alerts]
                                                      ^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1610: in execute_sql
    sql, params = self.as_sql()
                  ^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:794: in as_sql
    self.compile(self.where) if self.where is not None else ("", [])
    ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/where.py:151: in as_sql
    sql, params = compiler.compile(child)
                  ^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:258: in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:141: in process_rhs
    return self.get_db_prep_lookup(value, connection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:291: in get_db_prep_lookup
    else get_db_prep_value(v, connection, prepared=True)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/fields/__init__.py:1684: in get_db_prep_value
    return connection.ops.adapt_datetimefield_value(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/sqlite3/operations.py:279: in adapt_datetimefield_value
    value = timezone.make_naive(value, self.connection.timezone)
                                       ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/functional.py:47: in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:152: in timezone
    elif self.settings_dict["TIME_ZONE"] is None:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAlertsWebSocket" name="test_filter_alerts_by_rule_ids" time="1.227"><failure message="KeyError: 'TIME_ZONE'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:817: in test_filter_alerts_by_rule_ids
    await asyncio.wait_for(communicator.receive_json_from(), timeout=1.0)
/usr/local/lib/python3.12/asyncio/tasks.py:520: in wait_for
    return await fut
           ^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/routing.py:48: in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/security/websocket.py:37: in __call__
    return await self.application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:39: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:175: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/routing.py:118: in __call__
    return await application(
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/alerts.py:39: in connect
    await super().connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/alerts.py:73: in send_initial_state
    alerts = await self.get_recent_alerts()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/alerts.py:201: in get_recent_alerts
    return [self._serialize_alert(alert) for alert in alerts]
                                                      ^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1610: in execute_sql
    sql, params = self.as_sql()
                  ^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:794: in as_sql
    self.compile(self.where) if self.where is not None else ("", [])
    ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/where.py:151: in as_sql
    sql, params = compiler.compile(child)
                  ^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:258: in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:141: in process_rhs
    return self.get_db_prep_lookup(value, connection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:291: in get_db_prep_lookup
    else get_db_prep_value(v, connection, prepared=True)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/fields/__init__.py:1684: in get_db_prep_value
    return connection.ops.adapt_datetimefield_value(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/sqlite3/operations.py:279: in adapt_datetimefield_value
    value = timezone.make_naive(value, self.connection.timezone)
                                       ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/functional.py:47: in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:152: in timezone
    elif self.settings_dict["TIME_ZONE"] is None:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAcarsWebSocket" name="test_connect_to_acars_websocket" time="0.198"><failure message="KeyError: 'TIME_ZONE'">skyspy/tests/e2e/test_e2e_websocket.py:841: in test_connect_to_acars_websocket
    await communicator.disconnect()
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:115: in disconnect
    await self.wait(timeout)
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:58: in wait
    await self.future
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/acars.py:34: in send_initial_state
    recent_messages = await self.get_recent_messages()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/acars.py:92: in get_recent_messages
    for msg in AcarsMessage.objects.order_by('-timestamp')[:limit]:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:320: in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:296: in _cursor
    self.ensure_connection()
/opt/venv/lib/python3.12/site-packages/django/test/testcases.py:311: in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:279: in ensure_connection
    self.connect()
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:240: in connect
    self.check_settings()
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:264: in check_settings
    if self.settings_dict["TIME_ZONE"] is not None and not settings.USE_TZ:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAcarsWebSocket" name="test_receive_acars_vdl2_messages" time="1.232"><failure message="KeyError: 'TIME_ZONE'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:852: in test_receive_acars_vdl2_messages
    response = await communicator.receive_json_from()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/acars.py:34: in send_initial_state
    recent_messages = await self.get_recent_messages()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/acars.py:92: in get_recent_messages
    for msg in AcarsMessage.objects.order_by('-timestamp')[:limit]:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:320: in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:296: in _cursor
    self.ensure_connection()
/opt/venv/lib/python3.12/site-packages/django/test/testcases.py:311: in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:279: in ensure_connection
    self.connect()
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:240: in connect
    self.check_settings()
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:264: in check_settings
    if self.settings_dict["TIME_ZONE"] is not None and not settings.USE_TZ:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAcarsWebSocket" name="test_filter_acars_by_frequency" time="1.253"><failure message="KeyError: 'TIME_ZONE'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:867: in test_filter_acars_by_frequency
    await communicator.receive_json_from()
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/acars.py:34: in send_initial_state
    recent_messages = await self.get_recent_messages()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/acars.py:92: in get_recent_messages
    for msg in AcarsMessage.objects.order_by('-timestamp')[:limit]:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:320: in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:296: in _cursor
    self.ensure_connection()
/opt/venv/lib/python3.12/site-packages/django/test/testcases.py:311: in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:279: in ensure_connection
    self.connect()
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:240: in connect
    self.check_settings()
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:264: in check_settings
    if self.settings_dict["TIME_ZONE"] is not None and not settings.USE_TZ:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAcarsWebSocket" name="test_filter_acars_by_label" time="1.222"><failure message="KeyError: 'TIME_ZONE'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:892: in test_filter_acars_by_label
    await communicator.receive_json_from()
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/acars.py:34: in send_initial_state
    recent_messages = await self.get_recent_messages()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/acars.py:92: in get_recent_messages
    for msg in AcarsMessage.objects.order_by('-timestamp')[:limit]:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:320: in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:296: in _cursor
    self.ensure_connection()
/opt/venv/lib/python3.12/site-packages/django/test/testcases.py:311: in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:279: in ensure_connection
    self.connect()
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:240: in connect
    self.check_settings()
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:264: in check_settings
    if self.settings_dict["TIME_ZONE"] is not None and not settings.USE_TZ:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAcarsWebSocket" name="test_acars_includes_decoded_content" time="1.246"><failure message="KeyError: 'TIME_ZONE'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:917: in test_acars_includes_decoded_content
    response = await communicator.receive_json_from()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/acars.py:34: in send_initial_state
    recent_messages = await self.get_recent_messages()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/acars.py:92: in get_recent_messages
    for msg in AcarsMessage.objects.order_by('-timestamp')[:limit]:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:320: in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:296: in _cursor
    self.ensure_connection()
/opt/venv/lib/python3.12/site-packages/django/test/testcases.py:311: in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:279: in ensure_connection
    self.connect()
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:240: in connect
    self.check_settings()
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:264: in check_settings
    if self.settings_dict["TIME_ZONE"] is not None and not settings.USE_TZ:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAcarsWebSocket" name="test_subscribe_to_vdl2_only" time="1.235"><failure message="KeyError: 'TIME_ZONE'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:936: in test_subscribe_to_vdl2_only
    await communicator.receive_json_from()
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/acars.py:34: in send_initial_state
    recent_messages = await self.get_recent_messages()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/acars.py:92: in get_recent_messages
    for msg in AcarsMessage.objects.order_by('-timestamp')[:limit]:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:320: in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:296: in _cursor
    self.ensure_connection()
/opt/venv/lib/python3.12/site-packages/django/test/testcases.py:311: in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:279: in ensure_connection
    self.connect()
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:240: in connect
    self.check_settings()
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:264: in check_settings
    if self.settings_dict["TIME_ZONE"] is not None and not settings.USE_TZ:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAudioWebSocket" name="test_connect_to_audio_websocket" time="0.185"><failure message="KeyError: 'TIME_ZONE'">skyspy/tests/e2e/test_e2e_websocket.py:975: in test_connect_to_audio_websocket
    await communicator.disconnect()
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:115: in disconnect
    await self.wait(timeout)
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:58: in wait
    await self.future
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/audio.py:36: in send_initial_state
    recent = await self.get_recent_transmissions()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/audio.py:97: in get_recent_transmissions
    for trans in AudioTransmission.objects.order_by('-created_at')[:limit]:
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:320: in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:296: in _cursor
    self.ensure_connection()
/opt/venv/lib/python3.12/site-packages/django/test/testcases.py:311: in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:279: in ensure_connection
    self.connect()
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:240: in connect
    self.check_settings()
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:264: in check_settings
    if self.settings_dict["TIME_ZONE"] is not None and not settings.USE_TZ:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAudioWebSocket" name="test_receive_audio_transmission_notifications" time="1.199"><failure message="KeyError: 'TIME_ZONE'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:986: in test_receive_audio_transmission_notifications
    response = await communicator.receive_json_from()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/audio.py:36: in send_initial_state
    recent = await self.get_recent_transmissions()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/audio.py:97: in get_recent_transmissions
    for trans in AudioTransmission.objects.order_by('-created_at')[:limit]:
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:320: in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:296: in _cursor
    self.ensure_connection()
/opt/venv/lib/python3.12/site-packages/django/test/testcases.py:311: in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:279: in ensure_connection
    self.connect()
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:240: in connect
    self.check_settings()
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:264: in check_settings
    if self.settings_dict["TIME_ZONE"] is not None and not settings.USE_TZ:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAudioWebSocket" name="test_receive_transcription_completion_updates" time="1.192"><failure message="KeyError: 'TIME_ZONE'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:1001: in test_receive_transcription_completion_updates
    await communicator.receive_json_from()
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/audio.py:36: in send_initial_state
    recent = await self.get_recent_transmissions()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/audio.py:97: in get_recent_transmissions
    for trans in AudioTransmission.objects.order_by('-created_at')[:limit]:
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:320: in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:296: in _cursor
    self.ensure_connection()
/opt/venv/lib/python3.12/site-packages/django/test/testcases.py:311: in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:279: in ensure_connection
    self.connect()
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:240: in connect
    self.check_settings()
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:264: in check_settings
    if self.settings_dict["TIME_ZONE"] is not None and not settings.USE_TZ:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAudioWebSocket" name="test_filter_audio_by_frequency" time="1.203"><failure message="KeyError: 'TIME_ZONE'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:1030: in test_filter_audio_by_frequency
    await communicator.receive_json_from()
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/audio.py:36: in send_initial_state
    recent = await self.get_recent_transmissions()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/audio.py:97: in get_recent_transmissions
    for trans in AudioTransmission.objects.order_by('-created_at')[:limit]:
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:320: in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:296: in _cursor
    self.ensure_connection()
/opt/venv/lib/python3.12/site-packages/django/test/testcases.py:311: in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:279: in ensure_connection
    self.connect()
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:240: in connect
    self.check_settings()
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:264: in check_settings
    if self.settings_dict["TIME_ZONE"] is not None and not settings.USE_TZ:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAudioWebSocket" name="test_filter_audio_by_channel" time="1.198"><failure message="KeyError: 'TIME_ZONE'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:1054: in test_filter_audio_by_channel
    await communicator.receive_json_from()
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/audio.py:36: in send_initial_state
    recent = await self.get_recent_transmissions()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/audio.py:97: in get_recent_transmissions
    for trans in AudioTransmission.objects.order_by('-created_at')[:limit]:
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:320: in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:296: in _cursor
    self.ensure_connection()
/opt/venv/lib/python3.12/site-packages/django/test/testcases.py:311: in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:279: in ensure_connection
    self.connect()
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:240: in connect
    self.check_settings()
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:264: in check_settings
    if self.settings_dict["TIME_ZONE"] is not None and not settings.USE_TZ:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestAudioWebSocket" name="test_transcription_status_updates" time="1.187"><failure message="KeyError: 'TIME_ZONE'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:1078: in test_transcription_status_updates
    await communicator.receive_json_from()
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/audio.py:36: in send_initial_state
    recent = await self.get_recent_transmissions()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/audio.py:97: in get_recent_transmissions
    for trans in AudioTransmission.objects.order_by('-created_at')[:limit]:
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:320: in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:296: in _cursor
    self.ensure_connection()
/opt/venv/lib/python3.12/site-packages/django/test/testcases.py:311: in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:279: in ensure_connection
    self.connect()
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:240: in connect
    self.check_settings()
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:264: in check_settings
    if self.settings_dict["TIME_ZONE"] is not None and not settings.USE_TZ:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestStatsWebSocket" name="test_connect_to_stats_websocket" time="0.187"><failure message="AttributeError: 'StatsConsumer' object has no attribute '_rate_limiter'">skyspy/tests/e2e/test_e2e_websocket.py:1117: in test_connect_to_stats_websocket
    await communicator.disconnect()
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:115: in disconnect
    await self.wait(timeout)
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:58: in wait
    await self.future
/opt/venv/lib/python3.12/site-packages/channels/routing.py:48: in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/security/websocket.py:37: in __call__
    return await self.application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:39: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:175: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/routing.py:118: in __call__
    return await application(
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/stats.py:122: in connect
    await self.send_json({
skyspy/channels/consumers/base.py:709: in send_json
    if self._rate_limiter and not self._rate_limiter.can_send(msg_type):
       ^^^^^^^^^^^^^^^^^^
E   AttributeError: 'StatsConsumer' object has no attribute '_rate_limiter'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestStatsWebSocket" name="test_receive_live_statistics_updates" time="1.190"><failure message="AttributeError: 'StatsConsumer' object has no attribute '_rate_limiter'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:1132: in test_receive_live_statistics_updates
    response = await asyncio.wait_for(
/usr/local/lib/python3.12/asyncio/tasks.py:520: in wait_for
    return await fut
           ^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/routing.py:48: in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/security/websocket.py:37: in __call__
    return await self.application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:39: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:175: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/routing.py:118: in __call__
    return await application(
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/stats.py:122: in connect
    await self.send_json({
skyspy/channels/consumers/base.py:709: in send_json
    if self._rate_limiter and not self._rate_limiter.can_send(msg_type):
       ^^^^^^^^^^^^^^^^^^
E   AttributeError: 'StatsConsumer' object has no attribute '_rate_limiter'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestStatsWebSocket" name="test_aircraft_count_changes" time="1.195"><failure message="AttributeError: 'StatsConsumer' object has no attribute '_rate_limiter'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:1170: in test_aircraft_count_changes
    await asyncio.wait_for(communicator.receive_json_from(), timeout=1.0)
/usr/local/lib/python3.12/asyncio/tasks.py:520: in wait_for
    return await fut
           ^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/routing.py:48: in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/security/websocket.py:37: in __call__
    return await self.application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:39: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:175: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/routing.py:118: in __call__
    return await application(
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/stats.py:122: in connect
    await self.send_json({
skyspy/channels/consumers/base.py:709: in send_json
    if self._rate_limiter and not self._rate_limiter.can_send(msg_type):
       ^^^^^^^^^^^^^^^^^^
E   AttributeError: 'StatsConsumer' object has no attribute '_rate_limiter'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestStatsWebSocket" name="test_tracking_quality_updates" time="1.182"><failure message="AttributeError: 'StatsConsumer' object has no attribute '_rate_limiter'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:1202: in test_tracking_quality_updates
    await asyncio.wait_for(communicator.receive_json_from(), timeout=1.0)
/usr/local/lib/python3.12/asyncio/tasks.py:520: in wait_for
    return await fut
           ^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/routing.py:48: in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/security/websocket.py:37: in __call__
    return await self.application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:39: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:175: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/routing.py:118: in __call__
    return await application(
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/stats.py:122: in connect
    await self.send_json({
skyspy/channels/consumers/base.py:709: in send_json
    if self._rate_limiter and not self._rate_limiter.can_send(msg_type):
       ^^^^^^^^^^^^^^^^^^
E   AttributeError: 'StatsConsumer' object has no attribute '_rate_limiter'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestConnectionManagement" name="test_websocket_connects_successfully" time="0.180" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestConnectionManagement" name="test_handles_disconnect_gracefully" time="0.376" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestConnectionManagement" name="test_reconnection_works" time="0.617" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestConnectionManagement" name="test_multiple_simultaneous_connections" time="0.608" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestConnectionManagement" name="test_connection_timeout_handling" time="0.640" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestWebSocketAuthentication" name="test_websocket_without_auth_in_public_mode" time="0.232" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestWebSocketAuthentication" name="test_websocket_with_jwt_token_as_query_param" time="0.214"><failure message="KeyError: 'TIME_ZONE'">skyspy/tests/e2e/test_e2e_websocket.py:1367: in test_websocket_with_jwt_token_as_query_param
    access_token = await get_token()
                   ^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/tests/e2e/test_e2e_websocket.py:1364: in get_token
    refresh = RefreshToken.for_user(operator_user)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/rest_framework_simplejwt/tokens.py:344: in for_user
    OutstandingToken.objects.create(
/opt/venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
/opt/venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
/opt/venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
/opt/venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
/opt/venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
/opt/venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1880: in execute_sql
    with self.connection.cursor() as cursor:
         ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:320: in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:296: in _cursor
    self.ensure_connection()
/opt/venv/lib/python3.12/site-packages/django/test/testcases.py:311: in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:279: in ensure_connection
    self.connect()
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:240: in connect
    self.check_settings()
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:264: in check_settings
    if self.settings_dict["TIME_ZONE"] is not None and not settings.USE_TZ:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestWebSocketAuthentication" name="test_websocket_rejects_invalid_token" time="0.179" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestWebSocketAuthentication" name="test_websocket_auth_mode_hybrid" time="0.298" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestMessageFormat" name="test_messages_are_valid_json" time="0.385" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestMessageFormat" name="test_messages_include_type_field" time="0.391" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestMessageFormat" name="test_messages_include_timestamp" time="0.381" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestMessageFormat" name="test_payload_structure_consistency" time="1.211"><failure message="KeyError: 'TIME_ZONE'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:1469: in test_payload_structure_consistency
    response = await communicator.receive_json_from()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/safety.py:37: in send_initial_state
    active_events = await self.get_active_events()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/safety.py:128: in get_active_events
    for event in queryset.order_by('-timestamp')[:100]:
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1610: in execute_sql
    sql, params = self.as_sql()
                  ^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:794: in as_sql
    self.compile(self.where) if self.where is not None else ("", [])
    ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/where.py:151: in as_sql
    sql, params = compiler.compile(child)
                  ^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:258: in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:141: in process_rhs
    return self.get_db_prep_lookup(value, connection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:291: in get_db_prep_lookup
    else get_db_prep_value(v, connection, prepared=True)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/fields/__init__.py:1684: in get_db_prep_value
    return connection.ops.adapt_datetimefield_value(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/sqlite3/operations.py:279: in adapt_datetimefield_value
    value = timezone.make_naive(value, self.connection.timezone)
                                       ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/functional.py:47: in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:152: in timezone
    elif self.settings_dict["TIME_ZONE"] is None:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestMessageFormat" name="test_error_message_format" time="0.589" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestMessageFormat" name="test_request_response_format" time="0.596" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestPerformance" name="test_handles_burst_of_messages" time="0.898"><failure message="assert 1 &gt; 100">skyspy/tests/e2e/test_e2e_websocket.py:1573: in test_handles_burst_of_messages
    assert received &gt; 100  # At least some messages
    ^^^^^^^^^^^^^^^^^^^^^
E   assert 1 &gt; 100</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestPerformance" name="test_rate_limiting_behavior" time="1.592" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestPerformance" name="test_large_payload_handling" time="0.947" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestPerformance" name="test_concurrent_subscription_changes" time="1.113" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestServerSentEvents" name="test_sse_endpoint_returns_event_stream" time="0.219"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/e2e/test_e2e_websocket.py:1712: in test_sse_endpoint_returns_event_stream
    response = await client.get('/events/?channels=aircraft')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1481: in get
    response = await super().get(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1444: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:555: in thread_handler
    raise exc_info[1]
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:42: in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:246: in _get_response_async
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestServerSentEvents" name="test_sse_multiple_channels_subscription" time="0.200"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/e2e/test_e2e_websocket.py:1730: in test_sse_multiple_channels_subscription
    response = await client.get('/events/?channels=aircraft,safety,alerts')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1481: in get
    response = await super().get(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1444: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:555: in thread_handler
    raise exc_info[1]
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:42: in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:246: in _get_response_async
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestServerSentEvents" name="test_sse_event_format" time="0.200"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/e2e/test_e2e_websocket.py:1742: in test_sse_event_format
    response = await client.get('/events/?channels=aircraft')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1481: in get
    response = await super().get(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1444: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:555: in thread_handler
    raise exc_info[1]
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:42: in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:246: in _get_response_async
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestServerSentEvents" name="test_sse_connection_keepalive" time="0.190"><failure message="KeyError: 'ATOMIC_REQUESTS'">skyspy/tests/e2e/test_e2e_websocket.py:1760: in test_sse_connection_keepalive
    response = await client.get('/events/?channels=aircraft')
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1481: in get
    response = await super().get(
/opt/venv/lib/python3.12/site-packages/django/test/client.py:1444: in request
    self.check_exception(response)
/opt/venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:555: in thread_handler
    raise exc_info[1]
/opt/venv/lib/python3.12/site-packages/django/core/handlers/exception.py:42: in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:246: in _get_response_async
    wrapped_callback = self.make_view_atomic(callback)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/core/handlers/base.py:348: in make_view_atomic
    if settings_dict["ATOMIC_REQUESTS"] and alias not in non_atomic_requests:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'ATOMIC_REQUESTS'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestCrossConsumerIntegration" name="test_safety_event_triggers_alert_broadcast" time="1.260"><failure message="KeyError: 'TIME_ZONE'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:1795: in test_safety_event_triggers_alert_broadcast
    await asyncio.wait_for(safety_communicator.receive_json_from(), timeout=1.0)
/usr/local/lib/python3.12/asyncio/tasks.py:520: in wait_for
    return await fut
           ^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/routing.py:48: in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/security/websocket.py:37: in __call__
    return await self.application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:39: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:175: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/routing.py:118: in __call__
    return await application(
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/safety.py:37: in send_initial_state
    active_events = await self.get_active_events()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/safety.py:128: in get_active_events
    for event in queryset.order_by('-timestamp')[:100]:
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1610: in execute_sql
    sql, params = self.as_sql()
                  ^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:794: in as_sql
    self.compile(self.where) if self.where is not None else ("", [])
    ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/where.py:151: in as_sql
    sql, params = compiler.compile(child)
                  ^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:258: in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:141: in process_rhs
    return self.get_db_prep_lookup(value, connection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:291: in get_db_prep_lookup
    else get_db_prep_value(v, connection, prepared=True)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/fields/__init__.py:1684: in get_db_prep_value
    return connection.ops.adapt_datetimefield_value(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/sqlite3/operations.py:279: in adapt_datetimefield_value
    value = timezone.make_naive(value, self.connection.timezone)
                                       ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/functional.py:47: in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:152: in timezone
    elif self.settings_dict["TIME_ZONE"] is None:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestCrossConsumerIntegration" name="test_aircraft_update_triggers_safety_check" time="0.379"><failure message="KeyError: 'TIME_ZONE'">skyspy/tests/e2e/test_e2e_websocket.py:1829: in test_aircraft_update_triggers_safety_check
    response2 = await asyncio.wait_for(
/usr/local/lib/python3.12/asyncio/tasks.py:520: in wait_for
    return await fut
           ^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:106: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/routing.py:48: in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/security/websocket.py:37: in __call__
    return await self.application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:39: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:175: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/routing.py:118: in __call__
    return await application(
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/safety.py:37: in send_initial_state
    active_events = await self.get_active_events()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/safety.py:128: in get_active_events
    for event in queryset.order_by('-timestamp')[:100]:
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1610: in execute_sql
    sql, params = self.as_sql()
                  ^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:794: in as_sql
    self.compile(self.where) if self.where is not None else ("", [])
    ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/where.py:151: in as_sql
    sql, params = compiler.compile(child)
                  ^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:258: in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:141: in process_rhs
    return self.get_db_prep_lookup(value, connection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:291: in get_db_prep_lookup
    else get_db_prep_value(v, connection, prepared=True)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/fields/__init__.py:1684: in get_db_prep_value
    return connection.ops.adapt_datetimefield_value(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/sqlite3/operations.py:279: in adapt_datetimefield_value
    value = timezone.make_naive(value, self.connection.timezone)
                                       ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/functional.py:47: in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:152: in timezone
    elif self.settings_dict["TIME_ZONE"] is None:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestCrossConsumerIntegration" name="test_audio_transcription_triggers_acars_check" time="1.193"><failure message="KeyError: 'TIME_ZONE'">/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:110: in receive_output
    return await self.output_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/asyncio/queues.py:158: in get
    await getter
E   asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:109: in receive_output
    async with async_timeout(timeout):
               ^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:71: in __aexit__
    self._do_exit(exc_type)
/opt/venv/lib/python3.12/site-packages/asgiref/timeout.py:108: in _do_exit
    raise asyncio.TimeoutError
E   TimeoutError

During handling of the above exception, another exception occurred:
skyspy/tests/e2e/test_e2e_websocket.py:1858: in test_audio_transcription_triggers_acars_check
    response1 = await audio_communicator.receive_json_from()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:104: in receive_json_from
    payload = await self.receive_from(timeout)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:79: in receive_from
    response = await self.receive_output(timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/testing/application.py:17: in receive_output
    return await super().receive_output(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:114: in receive_output
    self.future.result()
/opt/venv/lib/python3.12/site-packages/channels/routing.py:48: in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/security/websocket.py:37: in __call__
    return await self.application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:39: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:175: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/routing.py:118: in __call__
    return await application(
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/audio.py:36: in send_initial_state
    recent = await self.get_recent_transmissions()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/audio.py:97: in get_recent_transmissions
    for trans in AudioTransmission.objects.order_by('-created_at')[:limit]:
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:320: in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:296: in _cursor
    self.ensure_connection()
/opt/venv/lib/python3.12/site-packages/django/test/testcases.py:311: in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:279: in ensure_connection
    self.connect()
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:240: in connect
    self.check_settings()
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:264: in check_settings
    if self.settings_dict["TIME_ZONE"] is not None and not settings.USE_TZ:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestEdgeCases" name="test_empty_cache_returns_empty_snapshot" time="0.389" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestEdgeCases" name="test_empty_database_safety_snapshot" time="0.176"><failure message="KeyError: 'TIME_ZONE'">skyspy/tests/e2e/test_e2e_websocket.py:1893: in test_empty_database_safety_snapshot
    await database_sync_to_async(SafetyEvent.objects.all().delete)()
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1201: in delete
    num_deleted, num_deleted_per_model = collector.delete()
                                         ^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/deletion.py:454: in delete
    with transaction.atomic(using=self.using, savepoint=False):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/transaction.py:198: in __enter__
    if not connection.get_autocommit():
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:454: in get_autocommit
    self.ensure_connection()
/opt/venv/lib/python3.12/site-packages/django/test/testcases.py:311: in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:279: in ensure_connection
    self.connect()
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:240: in connect
    self.check_settings()
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:264: in check_settings
    if self.settings_dict["TIME_ZONE"] is not None and not settings.USE_TZ:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestEdgeCases" name="test_invalid_json_message_handling" time="0.580" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestEdgeCases" name="test_unknown_request_type_error" time="0.578" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestEdgeCases" name="test_missing_required_params" time="0.588" /><testcase classname="skyspy.tests.e2e.test_e2e_websocket.TestEdgeCases" name="test_subscribe_unsupported_topic" time="0.589" /><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerConnection" name="test_connect_accepts_websocket" time="0.235"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:89: in test_connect_accepts_websocket
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerConnection" name="test_connect_sends_initial_snapshot" time="0.176"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:100: in test_connect_sends_initial_snapshot
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerConnection" name="test_connect_joins_default_all_topic" time="0.159"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:119: in test_connect_joins_default_all_topic
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerConnection" name="test_connect_with_specific_topics" time="0.204"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:140: in test_connect_with_specific_topics
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerConnection" name="test_disconnect_leaves_groups" time="0.172"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:168: in test_disconnect_leaves_groups
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerSubscription" name="test_subscribe_to_topics" time="0.159"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:191: in test_subscribe_to_topics
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerSubscription" name="test_unsubscribe_from_topics" time="0.160"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:214: in test_unsubscribe_from_topics
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerSubscription" name="test_subscribe_all_supported_topics" time="0.166"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:236: in test_subscribe_all_supported_topics
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerBroadcast" name="test_acars_message_broadcast" time="0.156"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:265: in test_acars_message_broadcast
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerBroadcast" name="test_acars_snapshot_broadcast" time="0.165"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:294: in test_acars_snapshot_broadcast
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerBroadcast" name="test_vdlm2_specific_topic_broadcast" time="0.157"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:319: in test_vdlm2_specific_topic_broadcast
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerBroadcast" name="test_multiple_consumers_receive_broadcast" time="0.188"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:345: in test_multiple_consumers_receive_broadcast
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerRequests" name="test_request_messages" time="0.167"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:384: in test_request_messages
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerRequests" name="test_request_messages_by_icao" time="0.168"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:409: in test_request_messages_by_icao
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerRequests" name="test_request_messages_by_callsign" time="0.163"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:433: in test_request_messages_by_callsign
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerRequests" name="test_request_messages_by_label" time="0.159"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:457: in test_request_messages_by_label
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerRequests" name="test_request_messages_by_source" time="0.210"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:481: in test_request_messages_by_source
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerRequests" name="test_request_messages_with_limit" time="0.194"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:505: in test_request_messages_with_limit
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerRequests" name="test_request_stats" time="0.188"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:528: in test_request_stats
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerRequests" name="test_request_labels" time="0.235"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:565: in test_request_labels
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerRequests" name="test_request_unknown_type" time="0.178"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:591: in test_request_unknown_type
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerErrorHandling" name="test_unknown_action_returns_error" time="0.170"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:620: in test_unknown_action_returns_error
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerErrorHandling" name="test_ping_pong" time="0.162"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:640: in test_ping_pong
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerErrorHandling" name="test_empty_database_returns_empty_snapshot" time="0.180"><failure message="django.core.exceptions.SynchronousOnlyOperation: You cannot call this from an async context - use a thread or sync_to_async.">skyspy/tests/test_consumers_acars.py:658: in test_empty_database_returns_empty_snapshot
    AcarsMessage.objects.all().delete()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1201: in delete
    num_deleted, num_deleted_per_model = collector.delete()
                                         ^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/deletion.py:454: in delete
    with transaction.atomic(using=self.using, savepoint=False):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/transaction.py:198: in __enter__
    if not connection.get_autocommit():
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:454: in get_autocommit
    self.ensure_connection()
/opt/venv/lib/python3.12/site-packages/django/test/testcases.py:311: in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:24: in inner
    raise SynchronousOnlyOperation(message)
E   django.core.exceptions.SynchronousOnlyOperation: You cannot call this from an async context - use a thread or sync_to_async.</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerErrorHandling" name="test_message_serialization" time="0.169"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:676: in test_message_serialization
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_acars.TestAcarsConsumerErrorHandling" name="test_subscribe_unsupported_topic_ignored" time="0.195"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_acars.py:702: in test_subscribe_unsupported_topic_ignored
    with patch.object(AcarsConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.acars.AcarsConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerConnection" name="test_connect_accepts_websocket" time="0.163"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:75: in test_connect_accepts_websocket
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerConnection" name="test_connect_sends_initial_snapshot" time="0.159"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:86: in test_connect_sends_initial_snapshot
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerConnection" name="test_connect_joins_default_all_topic" time="0.168"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:105: in test_connect_joins_default_all_topic
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerConnection" name="test_connect_with_specific_topics" time="0.167"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:130: in test_connect_with_specific_topics
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerConnection" name="test_disconnect_leaves_groups" time="0.166"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:160: in test_disconnect_leaves_groups
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerSubscription" name="test_subscribe_to_topics" time="0.170"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:186: in test_subscribe_to_topics
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerSubscription" name="test_subscribe_single_topic_as_string" time="0.162"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:209: in test_subscribe_single_topic_as_string
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerSubscription" name="test_unsubscribe_from_topics" time="0.199"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:231: in test_unsubscribe_from_topics
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerSubscription" name="test_subscribe_stats_with_filters" time="0.174"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:253: in test_subscribe_stats_with_filters
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerSubscription" name="test_update_stats_filters" time="0.244"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:280: in test_update_stats_filters
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerBroadcast" name="test_aircraft_update_broadcast" time="0.184"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:319: in test_aircraft_update_broadcast
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerBroadcast" name="test_aircraft_new_broadcast" time="0.170"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:348: in test_aircraft_new_broadcast
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerBroadcast" name="test_aircraft_remove_broadcast" time="0.169"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:375: in test_aircraft_remove_broadcast
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerBroadcast" name="test_aircraft_heartbeat_broadcast" time="0.176"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:397: in test_aircraft_heartbeat_broadcast
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerBroadcast" name="test_aircraft_position_broadcast" time="0.160"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:419: in test_aircraft_position_broadcast
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerBroadcast" name="test_multiple_consumers_receive_broadcast" time="0.169"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:448: in test_multiple_consumers_receive_broadcast
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerRequests" name="test_request_single_aircraft" time="0.160"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:490: in test_request_single_aircraft
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerRequests" name="test_request_aircraft_missing_icao" time="0.162"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:517: in test_request_aircraft_missing_icao
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerRequests" name="test_request_aircraft_list" time="0.151"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:542: in test_request_aircraft_list
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerRequests" name="test_request_aircraft_list_with_filters" time="0.162"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:568: in test_request_aircraft_list_with_filters
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerRequests" name="test_request_aircraft_list_altitude_filter" time="0.147"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:595: in test_request_aircraft_list_altitude_filter
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerRequests" name="test_request_unknown_type" time="0.165"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:621: in test_request_unknown_type
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerErrorHandling" name="test_unknown_action_returns_error" time="0.149"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:652: in test_unknown_action_returns_error
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerErrorHandling" name="test_ping_pong" time="0.154"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:673: in test_ping_pong
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerErrorHandling" name="test_subscribe_unsupported_topic_ignored" time="0.171"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:691: in test_subscribe_unsupported_topic_ignored
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_aircraft.TestAircraftConsumerErrorHandling" name="test_empty_cache_returns_empty_snapshot" time="0.164"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_aircraft.py:716: in test_empty_cache_returns_empty_snapshot
    with patch.object(AircraftConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.aircraft.AircraftConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerConnection" name="test_connect_accepts_websocket" time="0.170"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:101: in test_connect_accepts_websocket
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerConnection" name="test_connect_sends_initial_snapshot" time="0.228"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:112: in test_connect_sends_initial_snapshot
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerConnection" name="test_connect_joins_default_all_topic" time="0.177"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:130: in test_connect_joins_default_all_topic
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerConnection" name="test_connect_with_specific_topics" time="0.176"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:151: in test_connect_with_specific_topics
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerConnection" name="test_disconnect_leaves_groups" time="0.172"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:179: in test_disconnect_leaves_groups
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerSubscription" name="test_subscribe_to_topics" time="0.175"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:202: in test_subscribe_to_topics
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerSubscription" name="test_unsubscribe_from_topics" time="0.160"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:225: in test_unsubscribe_from_topics
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerSubscription" name="test_subscribe_all_supported_topics" time="0.162"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:247: in test_subscribe_all_supported_topics
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerBroadcast" name="test_audio_transmission_broadcast" time="0.164"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:276: in test_audio_transmission_broadcast
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerBroadcast" name="test_transcription_started_broadcast" time="0.167"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:304: in test_transcription_started_broadcast
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerBroadcast" name="test_transcription_completed_broadcast" time="0.182"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:330: in test_transcription_completed_broadcast
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerBroadcast" name="test_transcription_failed_broadcast" time="0.212"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:358: in test_transcription_failed_broadcast
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerBroadcast" name="test_audio_snapshot_broadcast" time="0.211"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:385: in test_audio_snapshot_broadcast
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerBroadcast" name="test_multiple_consumers_receive_broadcast" time="0.191"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:410: in test_multiple_consumers_receive_broadcast
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerRequests" name="test_request_transmissions" time="0.172"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:449: in test_request_transmissions
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerRequests" name="test_request_transmissions_by_frequency" time="0.171"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:474: in test_request_transmissions_by_frequency
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerRequests" name="test_request_transmissions_by_channel_name" time="0.162"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:498: in test_request_transmissions_by_channel_name
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerRequests" name="test_request_transmissions_by_status" time="0.163"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:522: in test_request_transmissions_by_status
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerRequests" name="test_request_transmissions_with_limit" time="0.162"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:546: in test_request_transmissions_with_limit
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerRequests" name="test_request_single_transmission" time="0.195"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:569: in test_request_single_transmission
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerRequests" name="test_request_single_transmission_missing_id" time="0.170"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:599: in test_request_single_transmission_missing_id
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerRequests" name="test_request_nonexistent_transmission" time="0.172"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:623: in test_request_nonexistent_transmission
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerRequests" name="test_request_stats" time="0.207"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:646: in test_request_stats
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerRequests" name="test_request_unknown_type" time="0.193"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:676: in test_request_unknown_type
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerErrorHandling" name="test_unknown_action_returns_error" time="0.159"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:705: in test_unknown_action_returns_error
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerErrorHandling" name="test_ping_pong" time="0.215"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:725: in test_ping_pong
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerErrorHandling" name="test_empty_database_returns_empty_snapshot" time="0.198"><failure message="django.core.exceptions.SynchronousOnlyOperation: You cannot call this from an async context - use a thread or sync_to_async.">skyspy/tests/test_consumers_audio.py:743: in test_empty_database_returns_empty_snapshot
    AudioTransmission.objects.all().delete()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1201: in delete
    num_deleted, num_deleted_per_model = collector.delete()
                                         ^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/deletion.py:454: in delete
    with transaction.atomic(using=self.using, savepoint=False):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/transaction.py:198: in __enter__
    if not connection.get_autocommit():
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:454: in get_autocommit
    self.ensure_connection()
/opt/venv/lib/python3.12/site-packages/django/test/testcases.py:311: in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:24: in inner
    raise SynchronousOnlyOperation(message)
E   django.core.exceptions.SynchronousOnlyOperation: You cannot call this from an async context - use a thread or sync_to_async.</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerErrorHandling" name="test_transmission_serialization" time="0.174"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:761: in test_transmission_serialization
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerErrorHandling" name="test_subscribe_unsupported_topic_ignored" time="0.180"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:788: in test_subscribe_unsupported_topic_ignored
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_audio.TestAudioConsumerErrorHandling" name="test_pending_transcriptions_count" time="0.185"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_audio.py:811: in test_pending_transcriptions_count
    with patch.object(AudioConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.audio.AudioConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerConnection" name="test_connect_accepts_websocket" time="0.173"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:76: in test_connect_accepts_websocket
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerConnection" name="test_connect_sends_initial_snapshot" time="0.169"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:87: in test_connect_sends_initial_snapshot
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerConnection" name="test_connect_joins_default_all_topic" time="0.153"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:107: in test_connect_joins_default_all_topic
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerConnection" name="test_connect_with_specific_topics" time="0.166"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:128: in test_connect_with_specific_topics
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerConnection" name="test_disconnect_leaves_groups" time="0.179"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:156: in test_disconnect_leaves_groups
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerSubscription" name="test_subscribe_to_topics" time="0.208"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:179: in test_subscribe_to_topics
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerSubscription" name="test_unsubscribe_from_topics" time="0.169"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:202: in test_unsubscribe_from_topics
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerSubscription" name="test_subscribe_all_supported_topics" time="0.157"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:224: in test_subscribe_all_supported_topics
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerBroadcast" name="test_safety_event_broadcast" time="0.187"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:255: in test_safety_event_broadcast
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerBroadcast" name="test_safety_event_updated_broadcast" time="0.180"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:284: in test_safety_event_updated_broadcast
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerBroadcast" name="test_safety_event_resolved_broadcast" time="0.166"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:311: in test_safety_event_resolved_broadcast
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerBroadcast" name="test_safety_snapshot_broadcast" time="0.159"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:337: in test_safety_snapshot_broadcast
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerBroadcast" name="test_tcas_specific_topic_broadcast" time="0.152"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:362: in test_tcas_specific_topic_broadcast
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerRequests" name="test_request_active_events" time="0.169"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:393: in test_request_active_events
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerRequests" name="test_request_active_events_with_type_filter" time="0.157"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:418: in test_request_active_events_with_type_filter
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerRequests" name="test_request_active_events_with_severity_filter" time="0.160"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:444: in test_request_active_events_with_severity_filter
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerRequests" name="test_request_event_history" time="0.175"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:469: in test_request_event_history
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerRequests" name="test_request_event_history_by_icao" time="0.161"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:495: in test_request_event_history_by_icao
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerRequests" name="test_acknowledge_event" time="0.155"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:520: in test_acknowledge_event
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerRequests" name="test_acknowledge_event_missing_id" time="0.162"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:555: in test_acknowledge_event_missing_id
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerRequests" name="test_acknowledge_nonexistent_event" time="0.162"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:579: in test_acknowledge_nonexistent_event
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerRequests" name="test_request_unknown_type" time="0.158"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:603: in test_request_unknown_type
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerErrorHandling" name="test_unknown_action_returns_error" time="0.183"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:632: in test_unknown_action_returns_error
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerErrorHandling" name="test_ping_pong" time="0.166"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:652: in test_ping_pong
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerErrorHandling" name="test_empty_database_returns_empty_snapshot" time="0.172"><failure message="django.core.exceptions.SynchronousOnlyOperation: You cannot call this from an async context - use a thread or sync_to_async.">skyspy/tests/test_consumers_safety.py:670: in test_empty_database_returns_empty_snapshot
    SafetyEvent.objects.all().delete()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1201: in delete
    num_deleted, num_deleted_per_model = collector.delete()
                                         ^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/deletion.py:454: in delete
    with transaction.atomic(using=self.using, savepoint=False):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/transaction.py:198: in __enter__
    if not connection.get_autocommit():
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:454: in get_autocommit
    self.ensure_connection()
/opt/venv/lib/python3.12/site-packages/django/test/testcases.py:311: in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:24: in inner
    raise SynchronousOnlyOperation(message)
E   django.core.exceptions.SynchronousOnlyOperation: You cannot call this from an async context - use a thread or sync_to_async.</failure></testcase><testcase classname="skyspy.tests.test_consumers_safety.TestSafetyConsumerErrorHandling" name="test_multiple_consumers_receive_broadcast" time="0.203"><failure message="AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'">skyspy/tests/test_consumers_safety.py:688: in test_multiple_consumers_receive_broadcast
    with patch.object(SafetyConsumer, 'channel_layer', channel_layer):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1467: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1437: in get_original
    raise AttributeError(
E   AttributeError: &lt;class 'skyspy.channels.consumers.safety.SafetyConsumer'&gt; does not have the attribute 'channel_layer'</failure></testcase><testcase classname="skyspy.tests.test_integration.TestAircraftPollingFlow" name="test_calculate_distance" time="0.176"><failure message="assert 140 &lt; 126.94253637905852">skyspy/tests/test_integration.py:72: in test_calculate_distance
    assert 140 &lt; distance &lt; 150
E   assert 140 &lt; 126.94253637905852</failure></testcase><testcase classname="skyspy.tests.test_integration.TestAircraftPollingFlow" name="test_store_aircraft_sightings" time="0.172" /><testcase classname="skyspy.tests.test_integration.TestAircraftPollingFlow" name="test_update_aircraft_sessions_new" time="0.175" /><testcase classname="skyspy.tests.test_integration.TestAircraftPollingFlow" name="test_update_aircraft_sessions_existing" time="0.174" /><testcase classname="skyspy.tests.test_integration.TestAircraftPollingFlow" name="test_poll_aircraft_success" time="1.573" /><testcase classname="skyspy.tests.test_integration.TestAircraftPollingFlow" name="test_poll_aircraft_failure" time="0.178" /><testcase classname="skyspy.tests.test_integration.TestAlertFlow" name="test_create_alert_rule" time="0.164" /><testcase classname="skyspy.tests.test_integration.TestAlertFlow" name="test_evaluate_simple_alert" time="0.181" /><testcase classname="skyspy.tests.test_integration.TestAlertFlow" name="test_evaluate_military_alert" time="0.176" /><testcase classname="skyspy.tests.test_integration.TestAlertFlow" name="test_evaluate_complex_conditions" time="0.174"><failure message="assert 0 == 2&#10; +  where 0 = len([])">skyspy/tests/test_integration.py:246: in test_evaluate_complex_conditions
    assert len(triggered) == 2
E   assert 0 == 2
E    +  where 0 = len([])</failure></testcase><testcase classname="skyspy.tests.test_integration.TestAlertFlow" name="test_alert_creates_history" time="0.237" /><testcase classname="skyspy.tests.test_integration.TestAlertFlow" name="test_alert_cooldown" time="0.185" /><testcase classname="skyspy.tests.test_integration.TestAlertFlow" name="test_disabled_rule_not_evaluated" time="0.169" /><testcase classname="skyspy.tests.test_integration.TestAlertFlow" name="test_scheduled_rule_outside_window" time="0.157" /><testcase classname="skyspy.tests.test_integration.TestSafetyEventFlow" name="test_detect_emergency_squawk" time="0.162"><failure message="AssertionError: assert 'squawk_emergency' == '7700'&#10;  &#10;  - 7700&#10;  + squawk_emergency">skyspy/tests/test_integration.py:332: in test_detect_emergency_squawk
    assert events[0]['event_type'] == '7700'
E   AssertionError: assert 'squawk_emergency' == '7700'
E     
E     - 7700
E     + squawk_emergency</failure></testcase><testcase classname="skyspy.tests.test_integration.TestSafetyEventFlow" name="test_detect_extreme_vertical_speed" time="0.164" /><testcase classname="skyspy.tests.test_integration.TestSafetyEventFlow" name="test_detect_proximity_conflict" time="0.170" /><testcase classname="skyspy.tests.test_integration.TestSafetyEventFlow" name="test_detect_vs_reversal" time="0.299"><failure message="assert 0 == 1&#10; +  where 0 = len([])">skyspy/tests/test_integration.py:390: in test_detect_vs_reversal
    assert len(reversal_events) == 1
E   assert 0 == 1
E    +  where 0 = len([])</failure></testcase><testcase classname="skyspy.tests.test_integration.TestSafetyEventFlow" name="test_safety_event_cooldown" time="0.195" /><testcase classname="skyspy.tests.test_integration.TestSafetyEventFlow" name="test_safety_monitoring_disabled" time="0.173" /><testcase classname="skyspy.tests.test_integration.TestAcarsFlow" name="test_normalize_acars_message" time="0.153" /><testcase classname="skyspy.tests.test_integration.TestAcarsFlow" name="test_normalize_vdlm2_message" time="0.163" /><testcase classname="skyspy.tests.test_integration.TestAcarsFlow" name="test_store_acars_message" time="0.188"><failure message="KeyError: 'TIME_ZONE'">skyspy/tests/test_integration.py:449: in test_store_acars_message
    message = await database_sync_to_async(
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1106: in first
    for obj in queryset[:1]:
               ^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:320: in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:296: in _cursor
    self.ensure_connection()
/opt/venv/lib/python3.12/site-packages/django/test/testcases.py:311: in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:279: in ensure_connection
    self.connect()
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:240: in connect
    self.check_settings()
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:264: in check_settings
    if self.settings_dict["TIME_ZONE"] is not None and not settings.USE_TZ:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.test_integration.TestAcarsFlow" name="test_message_deduplication" time="0.159" /><testcase classname="skyspy.tests.test_integration.TestAcarsFlow" name="test_get_recent_messages" time="0.173" /><testcase classname="skyspy.tests.test_integration.TestAcarsFlow" name="test_get_stats" time="0.154" /><testcase classname="skyspy.tests.test_integration.TestTranscriptionFlow" name="test_create_audio_transmission" time="0.157" /><testcase classname="skyspy.tests.test_integration.TestTranscriptionFlow" name="test_queue_transcription" time="0.179" /><testcase classname="skyspy.tests.test_integration.TestTranscriptionFlow" name="test_transcription_success" time="0.156"><failure message="AttributeError: module 'skyspy.tasks.transcription' has no attribute 'httpx'">/usr/local/lib/python3.12/unittest/mock.py:1393: in patched
    with self.decoration_helper(patched,
/usr/local/lib/python3.12/contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1375: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/contextlib.py:526: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
/usr/local/lib/python3.12/unittest/mock.py:1451: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
/usr/local/lib/python3.12/pkgutil.py:528: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'skyspy.tasks.transcription' has no attribute 'httpx'</failure></testcase><testcase classname="skyspy.tests.test_integration.TestTranscriptionFlow" name="test_transcription_file_not_found" time="0.163"><failure message="Exception: Failed to fetch audio data">skyspy/tests/test_integration.py:579: in test_transcription_file_not_found
    transcribe_audio(transmission.id)
/opt/venv/lib/python3.12/site-packages/celery/local.py:182: in __call__
    return self._get_current_object()(*a, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/celery/app/task.py:411: in __call__
    return self.run(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/tasks/transcription.py:100: in transcribe_audio
    raise self.retry(exc=e, countdown=60)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/celery/app/task.py:734: in retry
    raise_with_context(exc or Retry('Task can be retried', None))
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:361: in main_wrap
    raise exc_info[1]
skyspy/tasks/transcription.py:85: in transcribe_audio
    raise Exception(transmission.transcription_error or "Transcription failed")
E   Exception: Failed to fetch audio data</failure></testcase><testcase classname="skyspy.tests.test_integration.TestTranscriptionFlow" name="test_process_transcription_queue" time="0.193" /><testcase classname="skyspy.tests.test_integration.TestWebSocketIntegration" name="test_aircraft_consumer_connect" time="0.388" /><testcase classname="skyspy.tests.test_integration.TestWebSocketIntegration" name="test_aircraft_consumer_with_cached_data" time="0.369" /><testcase classname="skyspy.tests.test_integration.TestWebSocketIntegration" name="test_safety_consumer_connect" time="0.193"><failure message="KeyError: 'TIME_ZONE'">skyspy/tests/test_integration.py:656: in test_safety_consumer_connect
    await communicator.disconnect()
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:115: in disconnect
    await self.wait(timeout)
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:58: in wait
    await self.future
/opt/venv/lib/python3.12/site-packages/channels/routing.py:48: in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/security/websocket.py:37: in __call__
    return await self.application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:39: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:175: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/routing.py:118: in __call__
    return await application(
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/safety.py:37: in send_initial_state
    active_events = await self.get_active_events()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/safety.py:128: in get_active_events
    for event in queryset.order_by('-timestamp')[:100]:
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1610: in execute_sql
    sql, params = self.as_sql()
                  ^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:794: in as_sql
    self.compile(self.where) if self.where is not None else ("", [])
    ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/where.py:151: in as_sql
    sql, params = compiler.compile(child)
                  ^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:577: in compile
    sql, params = node.as_sql(self, self.connection)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:258: in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:141: in process_rhs
    return self.get_db_prep_lookup(value, connection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/lookups.py:291: in get_db_prep_lookup
    else get_db_prep_value(v, connection, prepared=True)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/fields/__init__.py:1684: in get_db_prep_value
    return connection.ops.adapt_datetimefield_value(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/sqlite3/operations.py:279: in adapt_datetimefield_value
    value = timezone.make_naive(value, self.connection.timezone)
                                       ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/functional.py:47: in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:152: in timezone
    elif self.settings_dict["TIME_ZONE"] is None:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.test_integration.TestWebSocketIntegration" name="test_acars_consumer_connect" time="0.192"><failure message="KeyError: 'TIME_ZONE'">skyspy/tests/test_integration.py:667: in test_acars_consumer_connect
    await communicator.disconnect()
/opt/venv/lib/python3.12/site-packages/channels/testing/websocket.py:115: in disconnect
    await self.wait(timeout)
/opt/venv/lib/python3.12/site-packages/asgiref/testing.py:58: in wait
    await self.future
/opt/venv/lib/python3.12/site-packages/channels/routing.py:48: in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/security/websocket.py:37: in __call__
    return await self.application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:39: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
skyspy/auth/websocket.py:175: in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/middleware.py:24: in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/routing.py:118: in __call__
    return await application(
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:95: in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:58: in __call__
    await await_many_dispatch(
/opt/venv/lib/python3.12/site-packages/channels/utils.py:50: in await_many_dispatch
    await dispatch(result)
/opt/venv/lib/python3.12/site-packages/channels/consumer.py:74: in dispatch
    await handler(message)
/opt/venv/lib/python3.12/site-packages/channels/generic/websocket.py:180: in websocket_connect
    await self.connect()
skyspy/channels/consumers/base.py:210: in connect
    await self.send_initial_state()
skyspy/channels/consumers/acars.py:34: in send_initial_state
    recent_messages = await self.get_recent_messages()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:504: in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/concurrent/futures/thread.py:59: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/channels/db.py:13: in thread_handler
    return super().thread_handler(loop, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/asgiref/sync.py:559: in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
skyspy/channels/consumers/acars.py:92: in get_recent_messages
    for msg in AcarsMessage.objects.order_by('-timestamp')[:limit]:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
/opt/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:320: in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:296: in _cursor
    self.ensure_connection()
/opt/venv/lib/python3.12/site-packages/django/test/testcases.py:311: in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:279: in ensure_connection
    self.connect()
/opt/venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:240: in connect
    self.check_settings()
/opt/venv/lib/python3.12/site-packages/django/db/backends/base/base.py:264: in check_settings
    if self.settings_dict["TIME_ZONE"] is not None and not settings.USE_TZ:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'TIME_ZONE'</failure></testcase><testcase classname="skyspy.tests.test_integration.TestWebSocketIntegration" name="test_ping_pong" time="0.587" /><testcase classname="skyspy.tests.test_integration.TestWebSocketIntegration" name="test_subscribe_topics" time="0.623" /><testcase classname="skyspy.tests.test_integration.TestEndToEndFlows" name="test_aircraft_poll_to_storage_flow" time="0.242" /><testcase classname="skyspy.tests.test_integration.TestEndToEndFlows" name="test_alert_to_notification_flow" time="0.247" /><testcase classname="skyspy.tests.test_integration.TestEndToEndFlows" name="test_safety_event_broadcast_flow" time="0.199"><failure message="AssertionError: assert 'squawk_emergency' == '7700'&#10;  &#10;  - 7700&#10;  + squawk_emergency">skyspy/tests/test_integration.py:812: in test_safety_event_broadcast_flow
    assert event.event_type == '7700'
E   AssertionError: assert 'squawk_emergency' == '7700'
E     
E     - 7700
E     + squawk_emergency</failure></testcase><testcase classname="skyspy.tests.test_integration.TestPerformance" name="test_bulk_sighting_storage" time="0.370" /><testcase classname="skyspy.tests.test_integration.TestPerformance" name="test_alert_evaluation_performance" time="16.614"><failure message="assert 16.342947244644165 &lt; 2.0">skyspy/tests/test_integration.py:880: in test_alert_evaluation_performance
    assert elapsed &lt; 2.0  # 2 seconds max
    ^^^^^^^^^^^^^^^^^^^^
E   assert 16.342947244644165 &lt; 2.0</failure></testcase><testcase classname="skyspy.tests.test_integration.TestPerformance" name="test_safety_monitor_performance" time="0.846" /><testcase classname="skyspy.tests.test_integration.TestErrorHandling" name="test_invalid_alert_conditions" time="0.187" /><testcase classname="skyspy.tests.test_integration.TestErrorHandling" name="test_missing_aircraft_fields" time="0.181" /><testcase classname="skyspy.tests.test_integration.TestErrorHandling" name="test_acars_invalid_json" time="0.192" /><testcase classname="skyspy.tests.test_integration.TestErrorHandling" name="test_database_integrity_on_duplicate" time="0.251" /></testsuite></testsuites>